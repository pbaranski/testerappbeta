(function(e){function t(t){for(var o,l,c=t[0],i=t[1],u=t[2],s=0,m=[];s<c.length;s++)l=c[s],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&m.push(a[l][0]),a[l]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},a={app:0},r=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0091":function(e,t,n){},"014d":function(e,t,n){},"01f0":function(e,t,n){"use strict";n("21fb")},"02ee":function(e,t,n){},"0324":function(e,t,n){"use strict";n("ace8")},"036e":function(e,t,n){},"041f":function(e,t,n){"use strict";n("27d4")},"046c":function(e,t,n){"use strict";n("9c50")},"047c":function(e,t,n){"use strict";n("2056")},"06e3":function(e,t,n){"use strict";n("86ba")},"0840":function(e,t,n){},"08ca":function(e,t,n){},"08f1":function(e,t,n){"use strict";n("ff13")},"09df":function(e,t,n){"use strict";n("5e58")},"0a5d":function(e,t,n){"use strict";n("6883")},"0ab1":function(e,t,n){"use strict";n("2770")},"0b18":function(e,t,n){},"0b49":function(e,t,n){},"0c4c":function(e,t,n){},"0dc1":function(e,t,n){},"0eb1":function(e,t,n){},"0eb8":function(e,t,n){"use strict";n("d21f")},"0fae":function(e,t,n){},1287:function(e,t,n){},1375:function(e,t,n){},1381:function(e,t,n){},1403:function(e,t,n){},1414:function(e,t,n){"use strict";n("23b4")},"149a":function(e,t,n){},"151b":function(e,t,n){},"15ff":function(e,t,n){},1670:function(e,t,n){"use strict";n("83f2")},"170c":function(e,t,n){},1789:function(e,t,n){},"188d":function(e,t,n){"use strict";n("e383")},"19de":function(e,t,n){"use strict";n("15ff")},"1acb":function(e,t,n){"use strict";n("3507")},"1b9c":function(e,t,n){"use strict";n("8f55")},"1c19":function(e,t,n){},"1cd0":function(e,t,n){"use strict";n("a22e")},"1dc3":function(e,t,n){"use strict";n("1287")},"1e29":function(e,t,n){},"1f4d":function(e,t,n){"use strict";n("5b7a")},"1fbc":function(e,t,n){"use strict";n("7bde")},2025:function(e,t,n){},2056:function(e,t,n){},2163:function(e,t,n){"use strict";n("badf")},"21fb":function(e,t,n){},"22a8":function(e,t,n){"use strict";n("7ba4")},"22c2":function(e,t,n){"use strict";n("fa79")},"22ca":function(e,t,n){"use strict";n("2dd3")},"22e3":function(e,t,n){"use strict";n("ca80")},"23b4":function(e,t,n){},"250a":function(e,t,n){},"254b":function(e,t,n){},"25e7":function(e,t,n){},"26c2":function(e,t,n){},2770:function(e,t,n){},"27d4":function(e,t,n){},2823:function(e,t,n){"use strict";n("7998")},2968:function(e,t,n){},2970:function(e,t,n){"use strict";n("eca5")},"29d5":function(e,t,n){},"2c25":function(e,t,n){},"2c58":function(e,t,n){"use strict";n("170c")},"2dd3":function(e,t,n){},"2e44":function(e,t,n){},"2e48":function(e,t,n){"use strict";n("b7cf")},"2e6e":function(e,t,n){"use strict";n("3581")},"2f6a":function(e,t,n){"use strict";n("77b1")},"2fda":function(e,t,n){},"304b":function(e,t,n){},3162:function(e,t,n){"use strict";n("500d")},"31dc":function(e,t,n){},"327d":function(e,t,n){},3297:function(e,t,n){"use strict";n("453f")},"33e9":function(e,t,n){"use strict";n("bfe7")},3507:function(e,t,n){},3581:function(e,t,n){},"35f5":function(e,t,n){"use strict";n("53b9")},"366d":function(e,t,n){},"375e":function(e,t,n){"use strict";n("9d32")},3849:function(e,t,n){},"38e9":function(e,t,n){"use strict";n("1789")},3951:function(e,t,n){},"397e":function(e,t,n){},"39eb":function(e,t,n){"use strict";n("e780")},"39f7":function(e,t,n){"use strict";n("9d76")},"3bd4":function(e,t,n){"use strict";n("1375")},"3d4e":function(e,t,n){"use strict";n("4121")},"3d51":function(e,t,n){},"3fb3":function(e,t,n){"use strict";n("839f")},4121:function(e,t,n){},4138:function(e,t,n){"use strict";n("149a")},"414c":function(e,t,n){},"41ca":function(e,t,n){},4222:function(e,t,n){"use strict";n("1381")},"44e2":function(e,t,n){},"453f":function(e,t,n){},4605:function(e,t,n){"use strict";n("cca6")},4861:function(e,t,n){},4872:function(e,t,n){"use strict";n("397e")},4886:function(e,t,n){},"491c":function(e,t,n){"use strict";n("bc2a")},4963:function(e,t,n){"use strict";n("7d48")},"49bc":function(e,t,n){"use strict";n("6bf6")},"4a14":function(e,t,n){"use strict";n("db0b")},"4b50":function(e,t,n){},"4b522":function(e,t,n){},"4f02":function(e,t,n){"use strict";n("605e")},"500d":function(e,t,n){},5028:function(e,t,n){},5132:function(e,t,n){"use strict";n("5028")},5235:function(e,t,n){"use strict";n("ec85")},"528f":function(e,t,n){"use strict";n("036e")},"53b9":function(e,t,n){},"542a":function(e,t,n){},5475:function(e,t,n){},"590a":function(e,t,n){"use strict";n("014d")},"5b7a":function(e,t,n){},"5bbc":function(e,t,n){},"5bfc":function(e,t,n){"use strict";n("9aa9")},"5cff":function(e,t,n){"use strict";n("02ee")},"5db3":function(e,t,n){},"5e58":function(e,t,n){},"5e6d":function(e,t,n){"use strict";n("25e7")},"605e":function(e,t,n){},"60dc":function(e,t,n){},6102:function(e,t,n){"use strict";n("3849")},"61a4":function(e,t,n){"use strict";n("7f72")},"639e":function(e,t,n){"use strict";n("d3d8")},"63a1":function(e,t,n){"use strict";n("0091")},"63aa":function(e,t,n){"use strict";n("08ca")},6533:function(e,t,n){"use strict";n("414c")},6534:function(e,t,n){"use strict";n("542a")},"65d1":function(e,t,n){},6625:function(e,t,n){},"66a9":function(e,t,n){"use strict";n("9db7")},"67bf":function(e,t,n){},"67d0":function(e,t,n){"use strict";n("8504")},6883:function(e,t,n){},6925:function(e,t,n){},"696e":function(e,t,n){},"6bf6":function(e,t,n){},"6d30":function(e,t,n){},"6dc0":function(e,t,n){},"6e41":function(e,t,n){"use strict";n("b658")},"6e9c":function(e,t,n){"use strict";n("3d51")},"6eb6":function(e,t,n){"use strict";n("bccc")},"6f06":function(e,t,n){"use strict";n("29d5")},"70ae":function(e,t,n){"use strict";n("fe4c")},"73b1":function(e,t,n){"use strict";n("fbc0")},"73d8":function(e,t,n){"use strict";n("b1ec")},"740c":function(e,t,n){"use strict";n("0840")},7745:function(e,t,n){"use strict";n("d7aa")},"77b1":function(e,t,n){},7911:function(e,t,n){"use strict";n("aa91")},7998:function(e,t,n){},"7a38":function(e,t,n){"use strict";n("1c19")},"7a71":function(e,t,n){},"7a7b":function(e,t,n){"use strict";n("304b")},"7b6b":function(e,t,n){"use strict";n("b1fc")},"7ba4":function(e,t,n){},"7bdc":function(e,t,n){"use strict";n("327d")},"7bde":function(e,t,n){},"7c21":function(e,t,n){},"7d48":function(e,t,n){},"7e45":function(e,t,n){},"7f67":function(e,t,n){},"7f72":function(e,t,n){},"7f87":function(e,t,n){"use strict";n("c0a5")},"800c":function(e,t,n){"use strict";n("eaec")},8158:function(e,t,n){},8187:function(e,t,n){},"832c":function(e,t,n){},"839f":function(e,t,n){},"83f2":function(e,t,n){},8415:function(e,t,n){"use strict";n("ecef")},8504:function(e,t,n){},"86ba":function(e,t,n){},"88f6":function(e,t,n){"use strict";n("6dc0")},"89f7":function(e,t,n){"use strict";n("f3cb")},"8a66":function(e,t,n){"use strict";n("254b")},"8d08":function(e,t,n){"use strict";n("a24d")},"8dc6":function(e,t,n){"use strict";n("6925")},"8f2e":function(e,t,n){"use strict";n("cd4c")},"8f55":function(e,t,n){},9073:function(e,t,n){},9082:function(e,t,n){"use strict";n("fd25")},"90b2":function(e,t,n){"use strict";n("2c25")},"921b":function(e,t,n){"use strict";n("6d30")},"95b6":function(e,t,n){},"95e4":function(e,t,n){"use strict";n("696e")},"95fe":function(e,t,n){"use strict";n("8158")},9630:function(e,t,n){},"98a9":function(e,t,n){"use strict";n("c61d")},"98c9":function(e,t,n){},9906:function(e,t,n){"use strict";n("9d34")},9985:function(e,t,n){"use strict";n("5bbc")},"99f2":function(e,t,n){"use strict";n("832c")},"9a48":function(e,t,n){"use strict";n("ff65")},"9aa9":function(e,t,n){},"9ada":function(e,t,n){"use strict";n("a225")},"9b84":function(e,t,n){"use strict";n("41ca")},"9c50":function(e,t,n){},"9d32":function(e,t,n){},"9d34":function(e,t,n){},"9d36":function(e,t,n){"use strict";n("dbf8")},"9d76":function(e,t,n){},"9d86":function(e,t,n){"use strict";n("deb3")},"9db7":function(e,t,n){},"9e5c":function(e,t,n){},a225:function(e,t,n){},a229:function(e,t,n){"use strict";n("f9ff")},a22e:function(e,t,n){},a246:function(e,t,n){},a24d:function(e,t,n){},a29d:function(e,t,n){"use strict";n("60dc")},a331:function(e,t,n){"use strict";n("3951")},a375:function(e,t,n){},a41f:function(e,t,n){"use strict";n("6625")},a489:function(e,t,n){},a5cf:function(e,t,n){"use strict";n("d91d")},a6a3:function(e,t,n){"use strict";n("a375")},a7b3:function(e,t,n){"use strict";n("31dc")},a850:function(e,t,n){},a871:function(e,t,n){},aa67:function(e,t,n){"use strict";n("d210")},aa91:function(e,t,n){},aad4:function(e,t,n){"use strict";n("2fda")},ab83:function(e,t,n){"use strict";n("a246")},ac57:function(e,t,n){"use strict";n("1e29")},ace8:function(e,t,n){},aedb:function(e,t,n){"use strict";n("1403")},b1a8:function(e,t,n){"use strict";n("5475")},b1ec:function(e,t,n){},b1fc:function(e,t,n){},b21c:function(e,t,n){},b3da:function(e,t,n){"use strict";n("e35e")},b5c9:function(e,t,n){"use strict";n("366d")},b658:function(e,t,n){},b7cf:function(e,t,n){},ba79:function(e,t,n){},badf:function(e,t,n){},bb64:function(e,t,n){"use strict";n("b21c")},bc2a:function(e,t,n){},bc2d:function(e,t,n){"use strict";n("7c21")},bccc:function(e,t,n){},bcf6:function(e,t,n){},bdf9:function(e,t,n){"use strict";n("9073")},bf28:function(e,t,n){"use strict";n("0fae")},bf3d:function(e,t,n){"use strict";n("7f67")},bf63:function(e,t,n){},bfe7:function(e,t,n){},c02d:function(e,t,n){"use strict";n("4b522")},c0a5:function(e,t,n){},c4bb:function(e,t,n){"use strict";n("5db3")},c5fa:function(e,t,n){},c613:function(e,t,n){"use strict";n("26c2")},c61d:function(e,t,n){},c77e:function(e,t,n){"use strict";n("9630")},c7bd:function(e,t,n){"use strict";n("0b49")},c7f7:function(e,t,n){"use strict";n("65d1")},c98f:function(e,t,n){"use strict";n("f571")},c9ad:function(e,t,n){"use strict";n("9e5c")},ca45:function(e,t,n){"use strict";n("a850")},ca80:function(e,t,n){},cca6:function(e,t,n){},cca9:function(e,t,n){"use strict";n("de1d")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca65"),n("a79d");var o=n("f2bf"),a=n("5d5a"),r=n("12ed"),l=n("6c46"),c=n("024b"),i=n("8db5"),u=n("e003"),d=n("98f1"),s=n("592a"),m=n("6702"),b=n("23e8"),p=n("fe53"),f=n("ba30"),h=n("929d"),j=n("ef0b");function O(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])}var v={name:"SubmitButton"},g=n("6b0d"),C=n.n(g);const y=C()(v,[["render",O]]);var V=y,w={key:0},x={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},D={key:0};function N(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-divider"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button");return n.loading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",w,[n.showDivider?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"orangehrm-horizontal-margin"})):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",x,[n.selected>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",D,[Object(o["createVNode"])(i,{tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_selected",{count:n.selected})),1)]})),_:1}),Object(o["createVNode"])(u,{label:e.$t("general.delete_selected"),"icon-name":"trash-fill","display-type":"label-danger",class:"orangehrm-horizontal-margin",onClick:t[0]||(t[0]=function(t){return e.$emit("delete",t)})},null,8,["label"])])):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_found",{count:n.total})),1)]})),_:1}))])]))}n("a9e3");var _={name:"TableHeader",props:{loading:{type:Boolean,required:!0},selected:{type:Number,required:!0},total:{type:Number,required:!0},showDivider:{type:Boolean,required:!1,default:!0}},emits:["delete"]};n("9985");const k=C()(_,[["render",N],["__scopeId","data-v-0dea79bd"]]);var E=k;function S(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{tag:"p",class:"orangehrm-form-hint"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(" * "+Object(o["toDisplayString"])(e.$t("general.required")),1)]})),_:1})}var A={name:"RequiredText"};n("a229");const $=C()(A,[["render",S],["__scopeId","data-v-0e12dedd"]]);var F=$,B=["href"],T={key:0},I=["href"],L=["href"];function U(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-layout"),i=Object(o["resolveComponent"])("about");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(e.$attrs)),Object(o["createSlots"])({"user-actions":Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#",role:"menuitem",class:"oxd-userdropdown-link",onClick:t[0]||(t[0]=function(){return a.openAboutModel&&a.openAboutModel.apply(a,arguments)})},Object(o["toDisplayString"])(e.$t("general.about")),1)]),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:n.supportUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(o["toDisplayString"])(e.$t("general.support")),9,B)]),n.updatePasswordUrl?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",T,[Object(o["createElementVNode"])("a",{href:n.updatePasswordUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(o["toDisplayString"])(e.$t("general.change_password")),9,I)])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:n.logoutUrl,role:"menuitem",class:"oxd-userdropdown-link"},Object(o["toDisplayString"])(e.$t("general.logout")),9,L)])]})),_:2},[Object(o["renderList"])(e.$slots,(function(t,n){return{name:n,fn:Object(o["withCtx"])((function(t){return[Object(o["renderSlot"])(e.$slots,n,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(t)))]}))}}))]),1040),a.showAboutModel?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,onClose:a.closeAboutModel},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)],64)}var P={class:"orangehrm-modal-header"},q={key:0,class:"orangehrm-loader"};function R(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-loading-spinner"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(m,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",P,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.about")),1)]})),_:1})]),Object(o["createVNode"])(i),r.isLoading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",q,[Object(o["createVNode"])(u)])):(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1,cols:2,class:"orangehrm-about"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-about-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.company_name"))+": ",1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-about-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.companyName),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-about-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.version"))+": ",1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-about-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.productName)+" "+Object(o["toDisplayString"])(r.data.version),1)]})),_:1})]})),_:1}),void 0!==r.data.numberOfActiveEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-about-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.active_employees"))+": ",1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-about-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.numberOfActiveEmployee),1)]})),_:1})]})),_:1})],64)):Object(o["createCommentVNode"])("",!0),void 0!==r.data.numberOfPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-about-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.employees_terminated"))+": ",1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-about-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.numberOfPastEmployee),1)]})),_:1})]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)]})),_:1}))]})),_:1},8,["onUpdate:show"])}var M=n("5530"),z=(n("d3b7"),n("d4ec")),G=n("bee2"),Q=(n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("99af"),n("00b4"),n("e9c4"),n("bc3a")),W=n.n(Q),H=(n("b64b"),n("b0c0"),function(){function e(){Object(z["a"])(this,e),this._tempStorage={}}return Object(G["a"])(e,[{key:"clear",value:function(){this._tempStorage={}}},{key:"getItem",value:function(e){return this._tempStorage[e]||null}},{key:"key",value:function(e){return Object.keys(this._tempStorage)[e]||null}},{key:"removeItem",value:function(e){delete this._tempStorage[e]}},{key:"setItem",value:function(e,t){this._tempStorage[e]=t}}]),e}());function J(e){try{var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&e&&0!==e.length}}var Y=function(){function e(t){Object(z["a"])(this,e),J(t)?this._storage=t:this._storage=new H}return Object(G["a"])(e,[{key:"clear",value:function(){this._storage.clear()}},{key:"getItem",value:function(e){return this._storage.getItem(e)}},{key:"key",value:function(e){return this._storage.key(e)}},{key:"removeItem",value:function(e){this._storage.removeItem(e)}},{key:"setItem",value:function(e,t){this._storage.setItem(e,t)}}]),e}(),X=(n("159b"),n("caad"),n("2532"),n("5319"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e;n=JSON.parse(JSON.stringify(n)),Object.keys(t).forEach((function(e){var n="{".concat(e,"}");if(o.includes(n)){var a=t[e];"number"===typeof a&&(a=a.toString()),o=o.replace(n,a)}else console.error("Invalid parameter.")}));var a="?",r=Object.keys(n);return r.forEach((function(e,t){0!==t&&(a+="&");var o=n[e];Array.isArray(o)?o.forEach((function(t,n){0!==n&&(a+="&"),a+="".concat(e,"[]=").concat(t)})):a+="".concat(e,"=").concat(o)})),encodeURI(o+(0===r.length?"":a))}),K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return window.appGlobal.baseUrl+X(e,t,n)},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.location.href=K(e,t,n)},ee=function(){window.location.reload()},te=function(){function e(t,n){Object(z["a"])(this,e),this._baseUrl=t,this._apiSection=n,this._http=W.a.create({baseURL:this._baseUrl}),this._cacheStorage=new Y(localStorage),this.setupResponseInterceptors(Object(o["getCurrentInstance"])())}return Object(G["a"])(e,[{key:"setIgnorePath",value:function(e){this._ignorePathRegex=new RegExp(e)}},{key:"getAll",value:function(e){var t={"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-store, no-cache, must-revalidate, post-check=0, pre-check=0"};return this._http.get(this._apiSection,{headers:t,params:e})}},{key:"get",value:function(e,t){var n={"Content-Type":"application/json"};return this._http.get("".concat(this._apiSection,"/").concat(e),{headers:n,params:t})}},{key:"create",value:function(e){var t={"Content-Type":"application/json",Accept:"application/json"};return this._http.post(this._apiSection,e,{headers:t})}},{key:"update",value:function(e,t){var n={"Content-Type":"application/json"};return this._http.put("".concat(this._apiSection,"/").concat(e),t,{headers:n})}},{key:"delete",value:function(e){var t={"Content-Type":"application/json"};return this._http.delete("".concat(this._apiSection,"/").concat(e),{headers:t})}},{key:"deleteAll",value:function(e){var t={"Content-Type":"application/json"};return this._http.delete("".concat(this._apiSection),{headers:t,data:e})}},{key:"request",value:function(e){var t={"Content-Type":"application/json"};return this._http.request(Object(M["a"])({url:this._apiSection,headers:t},e))}},{key:"ignoreError",value:function(e){var t,n;if(this._ignorePathRegex&&(422===(null===(t=e.response)||void 0===t?void 0:t.status)||400===(null===(n=e.response)||void 0===n?void 0:n.status))){var o,a=null!==(o=e.response.config.url)&&void 0!==o?o:"";return this._ignorePathRegex.test(a)}return!1}},{key:"setupResponseInterceptors",value:function(e){var t=this;this._http.interceptors.response.use((function(e){return e}),(function(n){var o;if(401===(null===(o=n.response)||void 0===o?void 0:o.status))return ee(),Promise.reject();if(t.ignoreError(n))return Promise.reject(n.response);var a=null===e||void 0===e?void 0:e.appContext.config.globalProperties.$toast;if(a){var r,l,c,i=null===(r=n.response)||void 0===r||null===(l=r.data)||void 0===l||null===(c=l.error)||void 0===c?void 0:c.message;a.unexpectedError(i)}return Promise.reject(n)})),this._http.interceptors.request.use((function(e){if(e.url){var n=e.url,o=t._cacheStorage.getItem(n);o&&(e.headers=Object(M["a"])(Object(M["a"])({},e.headers),{},{"If-None-Match":o}))}return e}),(function(e){return Promise.reject(e)})),this._http.interceptors.response.use((function(e){var n=e.config,o=e.headers;if(n.url&&o){var a=n.url,r=o["etag"],l=t._cacheStorage.getItem(a);r&&r!==l&&(t._cacheStorage.removeItem(a),t._cacheStorage.setItem(a,r),l&&t._cacheStorage.removeItem(l),t._cacheStorage.setItem(r,JSON.stringify(e.data)))}return e}),(function(e){var n;if(304===(null===(n=e.response)||void 0===n?void 0:n.status)){var o=e.response.headers["etag"],a=t._cacheStorage.getItem(o);if(a)return Promise.resolve(Object(M["a"])(Object(M["a"])({},e.response),{},{status:200,data:JSON.parse(a)}))}return Promise.reject(e)}))}},{key:"http",get:function(){return this._http}},{key:"baseUrl",get:function(){return this._baseUrl}},{key:"apiSection",set:function(e){this._apiSection=e}}]),e}(),ne=n("f762"),oe=n("c0f3"),ae={components:{"oxd-loading-spinner":ne["a"],"oxd-dialog":oe["a"]},emits:["close"],setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/core/about");return{http:e}},data:function(){return{isLoading:!1,data:null}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.data=Object(M["a"])({},n)})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){this.$emit("close",!0)}}};n("22c2");const re=C()(ae,[["render",R],["__scopeId","data-v-56b28e7c"]]);var le=re,ce=n("652d"),ie=(n("a4d3"),n("e01a"),n("c27a")),ue=Symbol("dateFormat");function de(){var e=Object(o["inject"])(ue);if(!e)throw new Error("Date format is invalid");var t=Object(ie["a"])(e.id),n=e.label;return{jsDateFormat:t,userDateFormat:n}}var se={components:{about:le,"oxd-layout":ce["a"]},inheritAttrs:!1,props:{permissions:{type:Object,default:function(){return{}}},logoutUrl:{type:String,default:"#"},supportUrl:{type:String,default:"#"},updatePasswordUrl:{type:String,default:"#"},dateFormat:{type:Object,default:null}},setup:function(e){var t=Object(o["ref"])(!1);Object(o["provide"])("permissions",Object(o["readonly"])(e.permissions)),Object(o["provide"])(ue,Object(o["readonly"])(e.dateFormat));var n=function(){t.value=!0},a=function(){t.value=!1};return{showAboutModel:t,openAboutModel:n,closeAboutModel:a}}};const me=C()(se,[["render",U]]);var be=me;function pe(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"date",placeholder:a.userDateFormat,"day-attributes":e.attributes,events:e.events,"display-format":a.jsDateFormat,locale:a.locale,onSelectYear:a.onSelectYear},null,8,["placeholder","day-attributes","events","display-format","locale","onSelectYear"])}var fe=n("1da1"),he=(n("96cf"),n("d81d"),n("4d90"),n("1276"),n("a15b"),n("b680"),n("843c"),n("7db0"),n("2cf3")),je=n("b166"),Oe=n("2613"),ve=(n("3ae2"),n("1ba4")),ge=n("817a"),Ce=n("a959"),ye=n("d6e9"),Ve=n("1aab"),we=n("f7f1"),xe=n("4e31"),De=[{offset:0,label:"Europe/London"},{offset:1,label:"Europe/Belgrade"},{offset:2,label:"Europe/Minsk"},{offset:3,label:"Asia/Kuwait"},{offset:4,label:"Asia/Muscat"},{offset:5,label:"Asia/Yekaterinburg"},{offset:5.5,label:"Asia/Kolkata"},{offset:6,label:"Asia/Dhaka"},{offset:7,label:"Asia/Krasnoyarsk"},{offset:8,label:"Asia/Brunei"},{offset:9,label:"Asia/Seoul"},{offset:9.5,label:"Australia/Darwin"},{offset:10,label:"Australia/Canberra"},{offset:11,label:"Asia/Magadan"},{offset:12,label:"Pacific/Fiji"},{offset:-11,label:"Pacific/Midway"},{offset:-10,label:"Pacific/Honolulu"},{offset:-9,label:"America/Anchorage"},{offset:-8,label:"America/Los_Angeles"},{offset:-7,label:"America/Denver"},{offset:-6,label:"America/Tegucigalpa"},{offset:-5,label:"America/New_York"},{offset:-4,label:"America/Halifax"},{offset:-3.5,label:"America/St_Johns"},{offset:-3,label:"America/Argentina/Buenos_Aires"},{offset:-2,label:"Atlantic/South_Georgia"},{offset:-1,label:"Atlantic/Azores"}],Ne=function(){return new Date((new Date).setHours(0,0,0,0))},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var o=Object(he["a"])(e,t,Ne(),n);return!isNaN(o.valueOf())&&o.getFullYear()>=1e3?o:null}catch(a){return null}},ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return Object(je["a"])(e,t,n)}catch(o){return null}},Ee=function(e,t,n){var o=_e(e,n),a=_e(t,n);return!(!o||!a)&&-1===Object(Oe["a"])(o,a)},Se=function(e,t,n){var o=_e(e,n),a=_e(t,n);return!(!o||!a)&&1===Object(Oe["a"])(o,a)},Ae=function(e,t,n){var o=_e(e,n),a=_e(t,n);return!(!o||!a)&&0===Object(Oe["a"])(o,a)},$e=function(e,t){return _e(e,t)},Fe=function(e,t,n){var o=_e(e,n),a=_e(t,n);if(o&&a){if(o.valueOf()<a.valueOf())return 1;if(o.valueOf()>a.valueOf())return-1;if(o.valueOf()===a.valueOf())return 0}return NaN},Be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd",o=_e(e,n),a=_e(t,n);return o&&a?Object(ve["a"])(a,o)?1:Object(ge["a"])(a,o)+1:0},Te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm",o=$e(e,n),a=$e(t,n);if(o&&a){var r=Object(Ce["a"])(a,o);if(r>0)return r}return 0},Ie=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},Le=function(e){if(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e)){var t=e.split(":");return 60*parseInt(t[0])*60+60*parseInt(t[1])}return parseFloat(e)<24&&/^([0-9])+(?:\.[0-9]{1,2})?$/.test(e)?60*parseFloat(e)*60:-1},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t=t<1e3?1e3:t;var n=function n(){e(),setTimeout(n,t-(new Date).getTime()%t)};n()},Pe=function(e){return(e>0?"+":"-")+String(Math.abs(e).toFixed(2)).split(".").map((function(e,t){return 0===t?e.padStart(2,"0"):String(.6*parseInt(e)).padEnd(2,"0")})).join(":")},qe=function(){var e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=(new Date).getTimezoneOffset()/60*-1;if(void 0===e){var n=De.find((function(e){return e.offset===t}));e=n?n.label:De[0].label}var o=Pe(t);return{name:e,label:"(GMT ".concat(o,") ").concat(e),offset:t}},Re=n("e902"),Me=n("706d"),ze={},Ge=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(!ze[e])return e;var n=ze[e].format(t);return Array.isArray(n)?"string"===typeof n[0]?n[0]:e:n}catch(o){return console.error(o),e}}},Qe=function(){return{beforeCreate:function(){this.$t=Ge()}}};function We(e){var t=new te(e.baseUrl,e.resourceUrl);return{init:function(){return new Promise((function(e){t.request({method:"GET",headers:Object(M["a"])({Accept:"application/json",contentType:"application/json"},!1)}).then((function(e){var t=e.data,n={};for(var o in t)n[o]=t[o].target||t[o].source,ze[o]=new Re["a"](t[o].target||t[o].source,void 0,void 0,{ignoreTag:!0});Object(Me["b"])({language:n})})).finally((function(){return e()}))}))},i18n:function(e){e.mixin(Qe())}}}var He=We;function Je(){var e=Ge();return{$t:e}}var Ye=n("6c8a");function Xe(){var e=Je(),t=e.$t,n=Object(Ye["a"])({months:{wide:[t("general.january"),t("general.february"),t("general.march"),t("general.april"),t("general.may"),t("general.june"),t("general.july"),t("general.august"),t("general.september"),t("general.october"),t("general.november"),t("general.december")],abbreviated:[t("general.jan"),t("general.feb"),t("general.mar"),t("general.apr"),t("general.may"),t("general.jun"),t("general.jul"),t("general.aug"),t("general.sep"),t("general.oct"),t("general.nov"),t("general.dec")]},days:{abbreviated:[t("general.sun"),t("general.mon"),t("general.tue"),t("general.wed"),t("general.thu"),t("general.fri"),t("general.sat")],wide:[t("general.sunday"),t("general.monday"),t("general.tuesday"),t("general.wednesday"),t("general.thursday"),t("general.friday"),t("general.saturday")]}});return{locale:n}}var Ke={name:"DateInput",setup:function(){var e=Object(o["reactive"])({attributes:[],events:[]}),t=new te(window.appGlobal.baseUrl,""),n=de(),a=n.jsDateFormat,r=n.userDateFormat,l=Xe(),c=l.locale,i=function(e){return e>=200&&e<300||403===e},u=function(){var n=Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.request({type:"GET",url:"api/v2/leave/workweek",params:{model:"indexed"},validateStatus:i}).then((function(t){var n=t.data;null!==n&&void 0!==n&&n.data&&(e.attributes=Object.keys(n.data).map((function(e){return{index:parseInt(e),class:8===n.data[e]?"--non-working-day":4===n.data[e]?"--working-day-half":""}})))}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=Object(fe["a"])(regeneratorRuntime.mark((function n(o,a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.request({type:"GET",url:"api/v2/leave/holidays",params:{fromDate:o,toDate:a},validateStatus:i}).then((function(t){var n=t.data;Array.isArray(null===n||void 0===n?void 0:n.data)&&(e.events=n.data.map((function(e){return{date:_e(e.date,"yyyy-MM-dd"),type:e.name,class:0===e.length?"--holiday-full":"--holiday-half"}})))}));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),s=function(){var e=Object(fe["a"])(regeneratorRuntime.mark((function e(t){var n,o,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.year,o=(new Date).setFullYear(n),a=ke(Object(ye["a"])(o),"yyyy-MM-dd"),r=ke(Object(Ve["a"])(o),"yyyy-MM-dd"),d(a,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o["onBeforeMount"])(u),Object(o["onBeforeMount"])(s({year:(new Date).getFullYear()})),Object(M["a"])(Object(M["a"])({jsDateFormat:a,userDateFormat:r},Object(o["toRefs"])(e)),{},{onSelectYear:s,locale:c})}};const Ze=C()(Ke,[["render",pe]]);var et=Ze;function tt(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"time",step:15,placeholder:e.$t("attendance.hh_mm")},null,8,["placeholder"])}var nt={name:"TimeInput"};const ot=C()(nt,[["render",tt]]);var at=ot,rt={install:function(e){e.component("OxdLayout",be),e.component("OxdCardTable",a["a"]),e.component("OxdButton",r["a"]),e.component("OxdPagination",c["a"]),e.component("OxdDivider",i["a"]),e.component("OxdText",u["a"]),e.component("OxdIconButton",l["a"]),e.component("OxdForm",d["a"]),e.component("OxdFormRow",s["a"]),e.component("OxdFormActions",m["a"]),e.component("OxdInputField",b["a"]),e.component("OxdInputGroup",p["a"]),e.component("OxdGrid",h["a"]),e.component("OxdGridItem",j["a"]),e.component("OxdTableFilter",f["a"]),e.component("SubmitButton",V),e.component("TableHeader",E),e.component("RequiredText",F),e.component("DateInput",et),e.component("TimeInput",at)}};function lt(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-alert");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{show:!0,type:"warn",message:e.$t("general.no_records_found")},null,8,["message"])}var ct=n("d6f5"),it={components:{"oxd-alert":ct["a"]}};const ut=C()(it,[["render",lt]]);var dt=ut;function st(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-alert");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{show:!0,type:"warn",message:e.$t("general.bad_request")},null,8,["message"])}var mt={components:{"oxd-alert":ct["a"]}};const bt=C()(mt,[["render",st]]);var pt=bt,ft={class:"orangehrm-background-container"},ht={class:"orangehrm-card-container"},jt={class:"orangehrm-module-under-development"},Ot=["src"],vt={target:"_blank",class:"orangehrm-module-under-development-link",href:"https://sourceforge.net/projects/orangehrm/files/latest/download"};function gt(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ft,[Object(o["createElementVNode"])("div",ht,[Object(o["createElementVNode"])("div",jt,[Object(o["createVNode"])(c,{tag:"h4",class:"orangehrm-module-under-development-heading"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.launching_soon")),1)]})),_:1}),Object(o["createElementVNode"])("img",{src:r.moduleUnderDevelopment,class:"orangehrm-module-under-development-img",alt:"this module is under development"},null,8,Ot),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-under-development-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.this_page_is_being_developed",{version:"5.2"}))+" ",1),Object(o["createElementVNode"])("a",vt,Object(o["toDisplayString"])(e.$t("general.click_here")),1),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("general.download_latest_release_with_all_features")),1)]})),_:1})])])])}var Ct={data:function(){return{moduleUnderDevelopment:"".concat(window.appGlobal.baseUrl,"/../images/web_under_construction.png")}}};n("2970");const yt=C()(Ct,[["render",gt],["__scopeId","data-v-19f367ac"]]);var Vt=yt,wt={class:"orangehrm-background-container"},xt={class:"orangehrm-card-container"},Dt={class:"orangehrm-module-disabled"},Nt=Object(o["createTextVNode"])(" 403 ");function _t(e,t){var n=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",wt,[Object(o["createElementVNode"])("div",xt,[Object(o["createElementVNode"])("div",Dt,[Object(o["createVNode"])(n,{tag:"h1",class:"orangehrm-module-disabled-heading"},{default:Object(o["withCtx"])((function(){return[Nt]})),_:1}),Object(o["createVNode"])(n,{tag:"h4",class:"orangehrm-module-disabled-sub-heading"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.module_forbidden")),1)]})),_:1}),Object(o["createVNode"])(n,{tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.module_access_restriction")),1)]})),_:1})])])])}n("e836");const kt={},Et=C()(kt,[["render",_t],["__scopeId","data-v-3d2f2dd1"]]);var St=Et;function At(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-alert");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{show:!0,type:"warn",message:e.$t("time.timesheet_period_not_defined")},null,8,["message"])}var $t={components:{"oxd-alert":ct["a"]}};const Ft=C()($t,[["render",At]]);var Bt=Ft,Tt={"bad-request":pt,"no-records-found":dt,"module-under-development":Vt,"disabled-module":St,"time-sheet-period-not-defined":Bt},It={class:"orangehrm-background-container"},Lt={class:"orangehrm-paper-container"},Ut={class:"orangehrm-header-container"},Pt={class:"orangehrm-container"},qt={class:"orangehrm-bottom-container"};function Rt(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",It,[Object(o["createElementVNode"])("div",Lt,[Object(o["createElementVNode"])("div",Ut,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.job_titles")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Pt,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[1]||(t[1]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",qt,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[2]||(t[2]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Mt=n("15fd"),zt=n("3835");n("4fad");function Gt(){var e,t=null===(e=Object(o["getCurrentInstance"])())||void 0===e?void 0:e.appContext.config.globalProperties.$toast,n=function(e){return function(){return e&&e.apply(void 0,arguments)}};return{notify:n(null===t||void 0===t?void 0:t.notify),show:n(null===t||void 0===t?void 0:t.show),success:n(null===t||void 0===t?void 0:t.success),error:n(null===t||void 0===t?void 0:t.error),info:n(null===t||void 0===t?void 0:t.info),warn:n(null===t||void 0===t?void 0:t.warn),clear:n(null===t||void 0===t?void 0:t.clear),clearAll:n(null===t||void 0===t?void 0:t.clearAll),saveSuccess:n(null===t||void 0===t?void 0:t.saveSuccess),addSuccess:n(null===t||void 0===t?void 0:t.addSuccess),updateSuccess:n(null===t||void 0===t?void 0:t.updateSuccess),deleteSuccess:n(null===t||void 0===t?void 0:t.deleteSuccess),cannotDelete:n(null===t||void 0===t?void 0:t.cannotDelete),noRecordsFound:n(null===t||void 0===t?void 0:t.noRecordsFound)}}var Qt=["data"];function Wt(e,t){return Ht.apply(this,arguments)}function Ht(){return Ht=Object(fe["a"])(regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getAll(n);case 3:return o=e.sent,e.abrupt("return",{data:o.data.data,meta:o.data.meta,error:!1});case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",{error:!0,message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ht.apply(this,arguments)}function Jt(e,t){var n=e*(t-1);return{limit:e,offset:n}}function Yt(e){for(var t=JSON.parse(JSON.stringify(Object(o["unref"])(e))),n=0,a=Object.entries(t);n<a.length;n++){var r=Object(zt["a"])(a[n],2),l=r[0],c=r[1];t[l]=null===c||""===c?void 0:c}return t}function Xt(e){return e}function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.query,a=void 0===n?{}:n,r=t.normalizer,l=void 0===r?Xt:r,c=t.prefetch,i=void 0===c||c,u=t.toastNoRecords,d=void 0===u||u,s=t.pageSize,m=void 0===s?50:s,b=Object(o["reactive"])({showPaginator:!1,isLoading:!1,response:{},total:0,pages:0,currentPage:1}),p=Gt(),f=p.noRecordsFound,h=function(){var t=Object(fe["a"])(regeneratorRuntime.mark((function t(){var n,o,r,c,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return b.isLoading=!0,n=Jt(m,b.currentPage),o=Yt(a),t.next=5,Wt(e,Object(M["a"])(Object(M["a"])({},n),o));case 5:b.response=t.sent,b.response.error||(r=b.response,c=r.data,i=Object(Mt["a"])(r,Qt),u=l(c),b.response=Object(M["a"])({data:u},i)),b.response.meta&&(b.total=b.response.meta.total,b.total>m?(b.showPaginator=!0,b.pages=Math.ceil(b.total/m)):(b.currentPage=1,b.pages=1,b.showPaginator=!1),0===b.total&&d&&f()),b.isLoading=!1;case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i&&Object(o["onBeforeMount"])(h),Object(o["watch"])((function(){return b.currentPage}),h),Object(M["a"])(Object(M["a"])({},Object(o["toRefs"])(b)),{},{execQuery:h})}var Zt={class:"orangehrm-modal-header"},en={class:"orangehrm-text-center-align"},tn={class:"orangehrm-modal-footer"};function nn(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Zt,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.are_you_sure")),1)]})),_:1})]),Object(o["createElementVNode"])("div",en,[Object(o["createVNode"])(c,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.delete_confirmation_message")),1)]})),_:1})]),Object(o["createElementVNode"])("div",tn,[Object(o["createVNode"])(i,{label:e.$t("general.no_cancel"),"display-type":"text",class:"orangehrm-button-margin",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(i,{label:e.$t("general.yes_delete"),"icon-name":"trash","display-type":"label-danger",class:"orangehrm-button-margin",onClick:l.onDelete},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var on={components:{"oxd-dialog":oe["a"]},data:function(){return{show:!1,reject:null,resolve:null}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onDelete:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("70ae");const an=C()(on,[["render",nn],["__scopeId","data-v-d2064fb2"]]);var rn=an;n("4de4");function ln(e){var t=Object(o["ref"])(Object(M["a"])({},JSON.parse(JSON.stringify(e.sortDefinition)))),n=Object(o["computed"])((function(){return Object.keys(t.value).filter((function(e){var n=t.value[e];return n&&"DEFAULT"!=n}))[0]})),a=Object(o["computed"])((function(){return t.value[n.value]})),r=function(e){return Object(o["watch"])(t,e)};return{sortDefinition:t,sortField:n,sortOrder:a,onSort:r}}var cn={jobTitleName:"",jobDescription:""},un={"jt.jobTitleName":"ASC"},dn={components:{"delete-confirmation":rn},setup:function(){var e=Object(o["ref"])(Object(M["a"])({},cn)),t=ln({sortDefinition:un}),n=t.sortDefinition,a=t.sortField,r=t.sortOrder,l=t.onSort,c=Object(o["computed"])((function(){return{jobTitleName:e.value.jobTitleName,jobDescription:e.value.jobDescription,sortField:a.value,sortOrder:r.value}})),i=new te(window.appGlobal.baseUrl,"/api/v2/admin/job-titles"),u=Kt(i,{query:c}),d=u.showPaginator,s=u.currentPage,m=u.total,b=u.pages,p=u.pageSize,f=u.response,h=u.isLoading,j=u.execQuery;return l(j),{http:i,showPaginator:d,currentPage:s,isLoading:h,total:m,pages:b,pageSize:p,execQuery:j,items:f,filters:e,sortDefinition:n}},data:function(){return{headers:[{name:"title",slot:"title",title:this.$t("admin.job_titles"),sortField:"jt.jobTitleName",style:{flex:2}},{name:"description",title:this.$t("admin.job_description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveJobTitle")},onClickEdit:function(e){Z("/admin/saveJobTitle/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const sn=C()(dn,[["render",Rt]]);var mn=sn,bn={class:"orangehrm-background-container"},pn={class:"orangehrm-card-container"};function fn(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("file-upload-input"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bn,[Object(o["createElementVNode"])("div",pn,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_job_title")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{novalidate:"true",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jobTitle.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.jobTitle.title=e}),label:e.$t("general.job_title"),rules:r.rules.title,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jobTitle.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.jobTitle.description=e}),type:"textarea",label:e.$t("admin.job_description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{newFile:r.jobTitle.newSpecification,"onUpdate:newFile":t[2]||(t[2]=function(e){return r.jobTitle.newSpecification=e}),method:r.jobTitle.method,"onUpdate:method":t[3]||(t[3]=function(e){return r.jobTitle.method=e}),label:e.$t("general.job_specification"),"button-label":e.$t("general.browse"),file:r.jobTitle.oldSpecification,rules:r.rules.specification,url:"admin/viewJobSpecification/attachId",hint:e.$t("general.accepts_up_to_1mb")},null,8,["newFile","method","label","button-label","file","rules","hint"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jobTitle.note,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.jobTitle.note=e}),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),rules:r.rules.note,"label-icon":"pencil-square"},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}n("c740");var hn=n("53ca"),jn=(n("498a"),n("9129"),Ge()),On=function(e){return"string"===typeof e?!!e&&""!==e.trim()||jn("general.required"):"number"===typeof e?!Number.isNaN(e)||"general.required":Array.isArray(e)?!!e&&0!==e.length||jn("general.required"):"object"===Object(hn["a"])(e)&&null!==e||jn("general.required")},vn=function(e){return function(t){return!t||new String(t).length<=e||jn("general.should_be_less_n_characters",{amount:e})}},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-mm-dd",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";return function(n){if(!n)return!0;var o=_e(n,t);return!!o||jn("general.should_be_a_valid_date_in_x_format",{format:e})}},Cn=function(){return function(e){if(!e)return!0;var t="yyyy-MM-dd",n=ke(new Date,t)||"",o=Be(e,n,t);return o>0||jn("recruitment.should_be_current_date_previous_date")}},yn=function(e){if(!e)return!0;var t=_e(e,"HH:mm");return!!t||jn("general.should_be_a_valid_date_in_hh:mm_format")},Vn=function(e){return function(t){return Number.isNaN(parseFloat(t))||parseFloat(t)<e||jn("general.should_be_less_than_n",{amount:e})}},wn=function(e){return""==e||/^\d+$/.test(e)&&!Number.isNaN(parseFloat(e))||jn("general.should_be_a_number")},xn=function(e){return""==e||/^\d+$/.test(e)&&!Number.isNaN(parseFloat(e))||jn("general.should_be_a_numeric_value")},Dn=function(e){return""==e||/^\d*\.?\d*$/.test(e)&&!Number.isNaN(parseFloat(e))||jn("general.should_be_a_number")},Nn=function(e){return""==e||/^-?\d*\.?\d*$/.test(e)&&!Number.isNaN(parseFloat(e))||jn("general.should_be_a_number")},_n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd";return!e||!t||Ee(e,t,n)},kn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd";return!e||!t||Se(e,t,n)},En=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd";return!e||!t||Ae(e,t,n)},Sn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowSameDate:!1,dateFormat:"yyyy-MM-dd"};return function(o){var a="function"===typeof e?e():e,r="string"===typeof t?t:jn("general.end_date_should_be_after_start_date");return n.allowSameDate?En(o,a)||kn(o,a,n.dateFormat)||r:kn(o,a,n.dateFormat)||r}},An=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd";return!e||!t||1===Fe(e,t,n)},$n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm";return!e||!t||-1===Fe(e,t,n)},Fn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm";return!e||!t||0===Fe(e,t,n)},Bn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowSameTime:!1,timeFormat:"HH:mm"};return function(o){var a="function"===typeof e?e():e,r="string"===typeof t?t:jn("general.end_time_should_be_after_start_time");return n.allowSameTime?Fn(o,a)||$n(o,a,n.timeFormat)||r:$n(o,a,n.timeFormat)||r}},Tn=function(e){return function(t){return null===t||t.size&&t.size<=e||jn("general.attachment_size_exceeded")}},In=function(e){return function(t){return null===t||t&&e.findIndex((function(e){return e===t.type}))>-1||jn("general.file_type_not_allowed")}},Ln=function(e){return!e||/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/.test(e)||jn("general.expected_email_address_format_not_matched")},Un=function(e){return!e||/^[0-9+\-/() ]+$/.test(e)||jn("general.allows_phone_numbers_only")},Pn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowSameDate:!1,dateFormat:"yyyy-MM-dd"};return function(o){var a="function"===typeof e?e():e,r="string"===typeof t?t:jn("general.start_date_should_be_before_end_date");return n.allowSameDate?En(o,a)||_n(o,a,n.dateFormat)||r:_n(o,a,n.dateFormat)||r}},qn=function(e){return function(t){return Number.isNaN(parseFloat(t))||parseFloat(t)<e||jn("general.should_be_less_than_n",{amount:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})}},Rn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowSameTime:!1,timeFormat:"HH:mm"};return function(o){var a="function"===typeof e?e():e,r="string"===typeof t?t:jn("general.start_time_should_be_before_end_time");return n.allowSameTime?Fn(o,a)||An(o,a,n.timeFormat)||r:An(o,a,n.timeFormat)||r}},Mn=function(e){return function(t){return!t||String(t).length>=e||jn("general.should_be_least_n_characters",{amount:e})}},zn=function(e,t){return function(n){var o="function"===typeof e?e():e,a="string"===typeof t?t:jn("general.should_be_higher_than_minimum_value");return null===o||null===n||(void 0===o||void 0===n||(""===o||""===n||("0"===o||"0"===n||(parseFloat(o)<parseFloat(n)||a))))}},Gn=function(e,t){return function(n){var o="function"===typeof e?e():e,a="string"===typeof t?t:jn("general.should_be_lower_than_maximum_value");return null===o||null===n||(void 0===o||void 0===n||(""===o||"0"===n||(parseFloat(o)>parseFloat(n)||a)))}},Qn=function(e,t,n){return function(o){var a="string"===typeof n?n:jn("general.should_be_a_number_between_min_and_max",{min:e,max:t});return!0===wn(o)&&parseFloat(o)>=e&&parseFloat(o)<=t||a}},Wn=function(e){return!e||(!!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e)||jn("general.invalid"))},Hn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return function(n){return new Promise((function(o){if(null===n||"image/svg+xml"===n.type)return o(!0);var a=new Image;a.src="data:".concat(n.type,";base64, ").concat(n.base64),a.decode().then((function(){Math.abs(a.width/a.height-e)<t?o(!0):o(jn("general.incorrect_dimensions"))}))}))}},Jn=function(e,t){var n="string"===typeof t?t:jn("general.greater_than_or_equal_to_n",{minValue:e});return function(t){return null===t||""===t||(!0!==Nn(t)?n:parseFloat(t)>=e||n)}},Yn=function(e,t){var n="string"===typeof t?t:jn("general.less_than_or_equal_to_n",{maxValue:e});return function(t){return null===t||""===t||(!0!==Nn(t)?n:parseFloat(t)<=e||n)}},Xn=function(e){return null===e||""===e||(0===e.split("").reduce((function(e,t){return"{"===t&&e++,"}"===t&&e--,e}),0)||jn("general.invalid"))},Kn=function(e){return"string"!==typeof e||jn("general.invalid")},Zn=function(e){var t;return t=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/.test(e)?/^((?:[\$\+\x2D\.0-9<->A-Z\^`-z\|~\xA2-\xA6\xA8-\xAA\xAC\xAE-\xB5\xB8-\xBA\xBC-\xBE\xC0-\u02FF\u0370-\u0377\u037A-\u037D\u037F\u0384-\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u0482\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u058D-\u058F\u05D0-\u05EA\u05EF-\u05F2\u0606-\u0608\u060B\u060E\u060F\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06DE\u06E5\u06E6\u06E9\u06EE-\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4-\u07F6\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BFA\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D4F\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E3F-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u109E-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166D\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DB\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1940\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B61-\u1B6A\u1B74-\u1B7C\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2044\u2052\u2070\u2071\u2074-\u207C\u207F-\u208C\u2090-\u209C\u20A0-\u20C0\u2100-\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u2460-\u2767\u2776-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3004-\u3007\u3012\u3013\u3020-\u3029\u3031-\u303C\u303E\u303F\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA828-\uA82B\uA830-\uA839\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD40-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFE70-\uFE74\uFE76-\uFEFC\uFF04\uFF0B\uFF10-\uFF19\uFF1C-\uFF1E\uFF21-\uFF3A\uFF3E\uFF40-\uFF5A\uFF5C\uFF5E\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD37-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF3F-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFF1]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF3C-\uDF43\uDF45\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9C]|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDEE0-\uDEF3\uDF00-\uDF56\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDD4F\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9\uDEFF]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCB4\uDD01-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD00-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]))+(\.?((?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|xn\x2D\x2D(?:[\x2D0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+)+\.?)(:[0-9]+)?$/g:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,!e||t.test(e)||jn("general.invalid")},eo=function(e,t,n){return function(o){return!o||/^\d+$/.test(o)&&!Number.isNaN(parseFloat(o))&&String(o).length<=e&&parseInt(o)>=t&&parseInt(o)<=n||jn("general.enter_valid_port_between_a_to_b",{minValue:t,maxValue:n})}},to={class:"orangehrm-file-current"},no={key:0,class:"orangehrm-file-options"},oo={key:1,class:"orangehrm-file-input"};function ao(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[l.fileSelected?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,label:n.label},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",to,[Object(o["createElementVNode"])("div",{class:"orangehrm-file-preview",onClick:t[0]||(t[0]=function(){return l.downloadFile&&l.downloadFile.apply(l,arguments)})},[Object(o["createVNode"])(c,{class:"orangehrm-file-icon",name:"file-earmark-text"}),Object(o["createVNode"])(i,{class:"orangehrm-file-name",tag:"p",title:n.file.filename},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.file.filename)+" ",1),Object(o["createVNode"])(c,{class:"orangehrm-file-download",name:"download"})]})),_:1},8,["title"])]),n.disabled?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",no,[Object(o["createVNode"])(u,{type:"radio","option-label":e.$t("general.keep_current"),value:"keepCurrent","model-value":n.method,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:method",t)})},null,8,["option-label","model-value"]),n.deletable?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,type:"radio","option-label":e.$t("general.delete_current"),value:"deleteCurrent","model-value":n.method,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:method",t)})},null,8,["option-label","model-value"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(u,{type:"radio","option-label":e.$t("general.replace_current"),value:"replaceCurrent","model-value":n.method,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.$emit("update:method",t)})},null,8,["option-label","model-value"])]))])]})),_:1},8,["label"])):Object(o["createCommentVNode"])("",!0),"replaceCurrent"!==n.method&&l.fileSelected?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oo,[Object(o["createVNode"])(u,Object(o["mergeProps"])(e.$attrs,{type:"file",label:l.fieldLabel,"model-value":n.newFile,disabled:n.disabled,placeholder:e.$t("general.no_file_selected"),"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.$emit("update:newFile",t)})}),null,16,["label","model-value","disabled","placeholder"]),Object(o["createVNode"])(i,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.hint),1)]})),_:1})]))],64)}var ro=n("74ce"),lo={name:"FileUploadInput",components:{"oxd-icon":ro["a"]},inheritAttrs:!1,props:{label:{type:String,default:""},hint:{type:String,default:""},url:{type:[String,Function],required:!0},method:{type:String,required:!0},file:{type:Object,required:!1,default:function(){return null}},newFile:{type:Object,required:!1,default:function(){return null}},disabled:{type:Boolean,default:!1},deletable:{type:Boolean,default:!0}},emits:["update:method","update:newFile"],computed:{fileSelected:function(){return this.file&&Object.keys(this.file).length>0},fieldLabel:function(){return"replaceCurrent"===this.method&&this.fileSelected?this.$t("general.upload_n_file",{fileName:this.label}):this.label}},methods:{downloadFile:function(){var e;if("function"===typeof this.url)e=this.url(this.$props);else{var t;if(null===(t=this.file)||void 0===t||!t.id)return;e="".concat(window.appGlobal.baseUrl,"/").concat(this.url,"/").concat(this.file.id)}window.open(e,"_blank")}}};n("2e6e");const co=C()(lo,[["render",ao],["__scopeId","data-v-70a2e535"]]);var io=co,uo={title:"",description:"",oldSpecification:"",newSpecification:null,method:"keepCurrent",note:""},so={components:{"file-upload-input":io},props:{jobTitleId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return{http:e}},data:function(){var e=this;return{isLoading:!1,jobTitle:Object(M["a"])({},uo),rules:{title:[On,vn(100)],description:[vn(400)],specification:[function(t){return"replaceCurrent"!=e.jobTitle.method||On(t)},In(this.allowedFileTypes),Tn(this.maxFileSize)],note:[vn(400)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.jobTitleId).then((function(t){var n,o=t.data.data;return e.jobTitle.title=o.title,e.jobTitle.description=o.description,e.jobTitle.note=o.note,e.jobTitle.oldSpecification=null!==(n=o.jobSpecification)&&void 0!==n&&n.id?o.jobSpecification:null,e.jobTitle.newSpecification=null,e.jobTitle.method="keepCurrent",e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.title.push((function(t){var o=n.findIndex((function(e){return e.title==t}));if(o>-1){var a=n[o].id;return a==e.jobTitleId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/admin/viewJobTitleList")},onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.jobTitleId,{title:this.jobTitle.title,description:this.jobTitle.description,note:this.jobTitle.note,currentJobSpecification:this.jobTitle.oldSpecification?this.jobTitle.method:void 0,specification:this.jobTitle.newSpecification?this.jobTitle.newSpecification:void 0}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))}}};const mo=C()(so,[["render",fn]]);var bo=mo,po={class:"orangehrm-background-container"},fo={class:"orangehrm-card-container"};function ho(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",po,[Object(o["createElementVNode"])("div",fo,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_job_title")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jobTitle.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.jobTitle.title=e}),label:e.$t("general.job_title"),rules:r.rules.title,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jobTitle.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.jobTitle.description=e}),type:"textarea",label:e.$t("admin.job_description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jobTitle.specification,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.jobTitle.specification=e}),type:"file",label:e.$t("general.job_specification"),"button-label":e.$t("general.browse"),rules:r.rules.specification},null,8,["modelValue","label","button-label","rules"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jobTitle.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.jobTitle.note=e}),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),"label-icon":"pencil-square",rules:r.rules.note},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var jo={title:"",description:"",specification:null,note:""},Oo={props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return{http:e}},data:function(){return{isLoading:!1,jobTitle:Object(M["a"])({},jo),rules:{title:[On,vn(100)],description:[vn(400)],specification:[In(this.allowedFileTypes),Tn(this.maxFileSize)],note:[vn(400)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.title.push((function(t){var o=n.findIndex((function(e){return e.title==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/admin/viewJobTitleList")},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.jobTitle)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))}}};const vo=C()(Oo,[["render",ho]]);var go=vo,Co={class:"orangehrm-background-container"},yo={class:"orangehrm-paper-container"},Vo={class:"orangehrm-header-container"},wo={class:"orangehrm-container"},xo={class:"orangehrm-bottom-container"};function Do(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Co,[Object(o["createElementVNode"])("div",yo,[Object(o["createElementVNode"])("div",Vo,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.job_categories")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",wo,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",xo,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var No={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/job-categories"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.job_category"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveJobCategory")},onClickEdit:function(e){Z("/admin/saveJobCategory/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const _o=C()(No,[["render",Do]]);var ko=_o,Eo={class:"orangehrm-background-container"},So={class:"orangehrm-card-container"};function Ao(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Eo,[Object(o["createElementVNode"])("div",So,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_job_category")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.category.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.category.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var $o={props:{jobCategoryId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/job-categories");return{http:e}},data:function(){return{isLoading:!1,category:{id:"",name:""},rules:{name:[On,vn(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.jobCategoryId).then((function(t){var n=t.data.data;return e.category.id=n.id,e.category.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.category.id||e.$t("general.already_exists")}return!0})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.jobCategoryId,{name:this.category.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/jobCategory")}}};const Fo=C()($o,[["render",Ao]]);var Bo=Fo,To={class:"orangehrm-background-container"},Io={class:"orangehrm-card-container"};function Lo(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",To,[Object(o["createElementVNode"])("div",Io,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_job_category")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.category.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.category.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Uo={setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/job-categories");return{http:e}},data:function(){return{isLoading:!1,category:{id:"",name:""},rules:{name:[On,vn(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.category.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/jobCategory")}}};const Po=C()(Uo,[["render",Lo]]);var qo=Po,Ro={class:"orangehrm-background-container"},Mo=Object(o["createElementVNode"])("br",null,null,-1),zo={class:"orangehrm-paper-container"},Go={class:"orangehrm-header-container"},Qo={class:"orangehrm-container"},Wo={class:"orangehrm-bottom-container"};function Ho(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("employee-autocomplete"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("oxd-table-filter"),O=Object(o["resolveComponent"])("table-header"),v=Object(o["resolveComponent"])("oxd-card-table"),g=Object(o["resolveComponent"])("oxd-pagination"),C=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ro,[Object(o["createVNode"])(j,{"filter-title":e.$t("admin.system_users")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.username=e}),label:e.$t("general.username")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.userRoleId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.userRoleId=e}),type:"select",label:e.$t("general.user_role"),options:r.userRoles},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.empNumber,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.empNumber=e}),rules:r.rules.employee},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.status,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.status=e}),type:"select",label:e.$t("general.status"),options:r.userStatuses},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),Mo,Object(o["createElementVNode"])("div",zo,[Object(o["createElementVNode"])("div",Go,[Object(o["createVNode"])(p,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(O,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Qo,[Object(o["createVNode"])(v,{selected:r.checkedItems,"onUpdate:selected":t[4]||(t[4]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[5]||(t[5]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",Wo,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,current:a.currentPage,"onUpdate:current":t[6]||(t[6]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(C,{ref:"deleteDialog"},null,512)])}var Jo={key:0,class:"past-employee-tag"};function Yo(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"autocomplete",label:e.$t("general.employee_name"),clear:!1,"create-options":l.loadEmployees},{afterSelected:Object(o["withCtx"])((function(t){var n=t.data;return[n.isPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.past_employee")),1)],64)):Object(o["createCommentVNode"])("",!0)]})),option:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.label),1),n.isPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Jo,Object(o["toDisplayString"])(e.$t("general.past_employee")),1)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["label","create-options"])}var Xo={name:"EmployeeAutocomplete",props:{params:{type:Object,default:function(){return{}}},apiPath:{type:String,default:"api/v2/pim/employees"}},setup:function(e){var t=new te(window.appGlobal.baseUrl,e.apiPath);return{http:t}},methods:{loadEmployees:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll(Object(M["a"])({nameOrId:e.trim()},t.params)).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),_employee:e,isPastEmployee:!!e.terminationId}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};n("ee7c");const Ko=C()(Xo,[["render",Yo],["__scopeId","data-v-30f0a592"]]);var Zo=Ko;function ea(){var e=Je(),t=e.$t,n=function(e,n){if("Purged"===e.firstName&&"Employee"===e.lastName)return t("general.purged_employee");var o=null===n||void 0===n?void 0:n.includeMiddle,a=null===n||void 0===n?void 0:n.excludePastEmpTag,r="boolean"===typeof o&&o&&"string"===typeof e.middleName?" ".concat(e.middleName," "):" ";if(e.terminationId){var l="undefined"===typeof a?" ".concat(t("general.past_employee")):a?"":" ".concat(t("general.past_employee"));return"".concat(e.firstName).concat(r).concat(e.lastName).concat(l)}return"".concat(e.firstName).concat(r).concat(e.lastName)};return{$tEmpName:n}}var ta={username:"",userRoleId:null,empNumber:null,status:null},na={"u.userName":"ASC","r.displayName":"ASC","e.firstName":"ASC","u.status":"DEFAULT"},oa={components:{"delete-confirmation":rn,"employee-autocomplete":Zo},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=Je(),n=t.$t,a=ea(),r=a.$tEmpName,l=function(t){return t.map((function(t){var o,a=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,userName:t.userName,role:"Admin"===(null===(o=t.userRole)||void 0===o?void 0:o.displayName)?n("general.admin"):n("general.ess"),empName:r(t.employee,{includeMiddle:!1}),status:t.status?"Enabled":"Disabled",isSelectable:-1===a}}))},c=Object(o["ref"])(Object(M["a"])({},ta)),i=ln({sortDefinition:na}),u=i.sortDefinition,d=i.sortField,s=i.sortOrder,m=i.onSort,b=Object(o["computed"])((function(){var e,t,n;return{username:c.value.username,userRoleId:null===(e=c.value.userRoleId)||void 0===e?void 0:e.id,empNumber:null===(t=c.value.empNumber)||void 0===t?void 0:t.id,status:null===(n=c.value.status)||void 0===n?void 0:n.id,sortField:d.value,sortOrder:s.value}})),p=new te(window.appGlobal.baseUrl,"api/v2/admin/users"),f=Kt(p,{query:b,normalizer:l}),h=f.showPaginator,j=f.currentPage,O=f.total,v=f.pages,g=f.pageSize,C=f.response,y=f.isLoading,V=f.execQuery;return m(V),{http:p,showPaginator:h,currentPage:j,isLoading:y,total:O,pages:v,pageSize:g,execQuery:V,items:C,filters:c,sortDefinition:u}},data:function(){return{headers:[{name:"userName",title:this.$t("general.username"),sortField:"u.userName",style:{flex:1}},{name:"role",title:this.$t("general.user_role"),style:{flex:1},sortField:"r.displayName"},{name:"empName",slot:"title",title:this.$t("general.employee_name"),sortField:"e.firstName",style:{flex:1}},{name:"status",title:this.$t("general.status"),sortField:"u.status",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}],checkedItems:[],rules:{employee:[Kn]}}},methods:{onClickAdd:function(){Z("/admin/saveSystemUser")},onClickEdit:function(e){Z("/admin/saveSystemUser/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickReset:function(){this.filters=Object(M["a"])({},ta),this.filterItems()}}};const aa=C()(oa,[["render",Ho]]);var ra=aa,la={class:"orangehrm-background-container"},ca={class:"orangehrm-card-container"};function ia(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("employee-autocomplete"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("password-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",la,[Object(o["createElementVNode"])("div",ca,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_user")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.role,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.user.role=e}),type:"select",label:e.$t("general.user_role"),rules:r.rules.role,options:r.userRoles,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.user.employee,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.user.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.status,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.user.status=e}),type:"select",label:e.$t("general.status"),rules:r.rules.status,options:r.userStatuses,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.username,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.user.username=e}),label:e.$t("general.username"),rules:r.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{password:r.user.password,"onUpdate:password":t[4]||(t[4]=function(e){return r.user.password=e}),passwordConfirm:r.user.passwordConfirm,"onUpdate:passwordConfirm":t[5]||(t[5]=function(e){return r.user.passwordConfirm=e})},null,8,["password","passwordConfirm"]),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}function ua(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-chip"),i=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row");return Object(o["openBlock"])(),Object(o["createBlock"])(m,{class:"user-password-row"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"user-password-cell"},{default:Object(o["withCtx"])((function(){return[n.password?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:Object(o["normalizeClass"])(l.chipClasses),label:l.passwordStrength},null,8,["class","label"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i,{label:e.$t("general.password"),type:"password","model-value":n.password,rules:r.rules.password,autocomplete:"off",required:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:password",t)})},null,8,["label","model-value","rules"]),Object(o["createVNode"])(u,{class:"user-password-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.password_strength_message")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{ref:"passwordConfirm",label:e.$t("general.confirm_password"),type:"password","model-value":n.passwordConfirm,rules:r.rules.passwordConfirm,autocomplete:"off",required:"","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:passwordConfirm",t)})},null,8,["label","model-value","rules"])]})),_:1})]})),_:1})]})),_:1})}var da=n("c55d"),sa=Ge();function ma(e){var t=new RegExp(/[a-z]/),n=new RegExp(/[A-Z]/),o=new RegExp(/[0-9]/),a=new RegExp(/[@#\\/\-!$%^&*()_+|~=`{}[\]:";'<>?,.]/);return[t,n,o,a].map((function(t){return t.test(e)?1:0}))}function ba(e){if(e.length>=8){var t=ma(e);return RegExp(/\s/).test(e)?sa("auth.your_password_should_not_contain_spaces"):!(t.reduce((function(e,t){return e+t}),0)<4)||sa("auth.must_contain_lower_case_upper_case_digit_character_message")}return sa("auth.should_have_min_8_characters")}var pa={name:"PasswordInput",components:{"oxd-chip":da["a"]},props:{password:{type:String,required:!0},passwordConfirm:{type:String,required:!0}},emits:["update:password","update:passwordConfirm"],data:function(){var e=this;return{rules:{password:[On,vn(64),ba],passwordConfirm:[On,vn(64),function(t){return!!t&&t===e.password||e.$t("general.passwords_do_not_match")}]}}},computed:{passwordStrength:function(){var e=0;switch(e=ma(this.password).reduce((function(e,t){return e+t}),0),this.password.trim().length<8&&(e=0),e){case 2:return this.$t("general.weak");case 3:return this.$t("general.better");case 4:return this.$t("general.strongest");default:return this.$t("general.very_weak")}},chipClasses:function(){return{"user-password-chip":!0,"--green":"Strongest"===this.passwordStrength}}},watch:{password:function(e){(this.passwordConfirm&&e!==this.passwordConfirm||this.passwordConfirm&&e===this.passwordConfirm)&&this.$nextTick(this.$refs.passwordConfirm.triggerUpdate)}}};n("3fb3");const fa=C()(pa,[["render",ua],["__scopeId","data-v-cc58de0a"]]);var ha=fa,ja=n("b260"),Oa={username:"",role:null,employee:null,status:null,password:"",passwordConfirm:""},va={components:{"employee-autocomplete":Zo,"password-input":ha},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/users");return e.setIgnorePath("api/v2/admin/validation/user-name"),{http:e}},data:function(){return{isLoading:!1,user:Object(M["a"])({},Oa),rules:{username:[On,Mn(5),vn(40),Object(ja["a"])(this.validateUserName,500)],role:[On],employee:[On,Kn],status:[On]},userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}]}},methods:{onCancel:function(){Z("/admin/viewSystemUsers")},onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.create({username:this.user.username.trim(),password:this.user.password,status:this.user.status&&1===this.user.status.id,userRoleId:null===(e=this.user.role)||void 0===e?void 0:e.id,empNumber:null===(t=this.user.employee)||void 0===t?void 0:t.id}).then((function(){return n.$toast.saveSuccess()})).then((function(){n.onCancel()}))},validateUserName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/admin/validation/user-name",params:{userName:t.user.username.trim()}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const ga=C()(va,[["render",ia]]);var Ca=ga,ya={class:"orangehrm-background-container"},Va={class:"orangehrm-card-container"};function wa(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("employee-autocomplete"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("password-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ya,[Object(o["createElementVNode"])("div",Va,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_user")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.role,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.user.role=e}),type:"select",label:e.$t("general.user_role"),rules:r.rules.role,options:r.userRoles,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.user.employee,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.user.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.status,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.user.status=e}),type:"select",label:e.$t("general.status"),rules:r.rules.status,options:r.userStatuses,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.username,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.user.username=e}),label:e.$t("general.username"),rules:r.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.user.changePassword,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.user.changePassword=e}),type:"checkbox",value:"true","true-value":!0,"false-value":!1,"option-label":"Yes",label:e.$t("general.change_password_question")},null,8,["modelValue","label"])]})),_:1})]})),_:1})]})),_:1}),r.user.changePassword?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,password:r.user.password,"onUpdate:password":t[5]||(t[5]=function(e){return r.user.password=e}),passwordConfirm:r.user.passwordConfirm,"onUpdate:passwordConfirm":t[6]||(t[6]=function(e){return r.user.passwordConfirm=e})},null,8,["password","passwordConfirm"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var xa={id:"",username:"",role:null,employee:null,status:null,changePassword:!1,password:"",passwordConfirm:""},Da={components:{"employee-autocomplete":Zo,"password-input":ha},props:{systemUserId:{type:String,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/users");return e.setIgnorePath("api/v2/admin/validation/user-name"),{http:e}},data:function(){return{isLoading:!1,user:Object(M["a"])({},xa),rules:{username:[On,Mn(5),vn(40),Object(ja["a"])(this.validateUserName,500)],role:[On],employee:[On,Kn],status:[On]},userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.systemUserId).then((function(t){var n=t.data.data;e.user.id=n.id,e.user.username=n.userName,e.user.role=e.userRoles.find((function(e){return e.id===n.userRole.id})),e.user.employee={id:n.employee.empNumber,label:"".concat(n.employee.firstName," ").concat(n.employee.middleName," ").concat(n.employee.lastName),isPastEmployee:n.employee.terminationId},n.status?e.user.status={id:1,label:e.$t("general.enabled")}:e.user.status={id:2,label:e.$t("general.disabled")}})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/admin/viewSystemUsers")},onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.update(this.systemUserId,{username:this.user.username.trim(),password:this.user.password,status:this.user.status&&"Enabled"===this.user.status.label,userRoleId:null===(e=this.user.role)||void 0===e?void 0:e.id,empNumber:null===(t=this.user.employee)||void 0===t?void 0:t.id,changePassword:this.user.changePassword}).then((function(){return n.$toast.updateSuccess()})).then((function(){n.onCancel()}))},validateUserName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/admin/validation/user-name",params:{userName:t.user.username.trim(),userId:t.systemUserId}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const Na=C()(Da,[["render",wa]]);var _a=Na,ka={class:"orangehrm-background-container"},Ea={class:"orangehrm-paper-container"},Sa={class:"orangehrm-header-container"},Aa={key:1,class:"org-root-container"},$a={class:"org-container"},Fa={key:0,class:"loader"},Ba={class:"org-name"},Ta={class:"org-action"};function Ia(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-switch-input"),u=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-button"),s=Object(o["resolveComponent"])("oxd-loading-spinner"),m=Object(o["resolveComponent"])("oxd-icon-button"),b=Object(o["resolveComponent"])("oxd-sheet"),p=Object(o["resolveComponent"])("oxd-tree-view"),f=Object(o["resolveComponent"])("delete-confirmation"),h=Object(o["resolveComponent"])("save-org-unit"),j=Object(o["resolveComponent"])("edit-org-unit");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ka,[Object(o["createElementVNode"])("div",Ea,[Object(o["createElementVNode"])("div",Sa,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.organization_structure")),1)]})),_:1}),r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,modelValue:r.editable,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.editable=e}),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"]))]),r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"orangehrm-horizontal-margin orangehrm-clear-margins"})),r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Aa,[Object(o["createVNode"])(c,{tag:"p",class:Object(o["normalizeClass"])({"--parent":r.data&&0!=r.data.children})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.data.name),1)]})),_:1},8,["class"]),Object(o["withDirectives"])(Object(o["createVNode"])(d,{class:"org-structure-add",label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:t[1]||(t[1]=function(e){return l.onAddOrglevel(r.data)})},null,8,["label"]),[[o["vShow"],r.editable]])])),Object(o["createElementVNode"])("div",$a,[r.isLoading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fa,[Object(o["createVNode"])(s)])):(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1,data:r.data,open:!0,"show-root":!1,class:"org-structure"},{content:Object(o["withCtx"])((function(e){var t=e.nodeData;return[Object(o["createVNode"])(b,{type:"pastel-white",class:Object(o["normalizeClass"])({"org-structure-card":!0,"--edit":r.editable})},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ba,Object(o["toDisplayString"])(t.unitId?t.unitId+":":"")+" "+Object(o["toDisplayString"])(t.name),1),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",Ta,[Object(o["createVNode"])(m,{class:"org-action-icon",name:"trash-fill",role:"none",onClick:function(e){return l.onDelete(t)}},null,8,["onClick"]),Object(o["createVNode"])(m,{class:"org-action-icon",name:"pencil-fill",role:"none",onClick:function(e){return l.onEditOrglevel(t)}},null,8,["onClick"]),Object(o["createVNode"])(m,{class:"org-action-icon",name:"plus",role:"none",onClick:function(e){return l.onAddOrglevel(t)}},null,8,["onClick"])],512),[[o["vShow"],r.editable]])]})),_:2},1032,["class"])]})),_:1},8,["data"]))])]),Object(o["createVNode"])(f,{ref:"deleteDialog"},null,512),r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,data:r.saveModalState,onClose:l.onSaveModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:1,data:r.editModalState,onClose:l.onEditModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0)])}var La=n("904c"),Ua=n("7c78"),Pa=n("ac59"),qa={class:"orangehrm-modal-header"};function Ra(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",qa,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_organization_unit")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.orgUnit.unitId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.orgUnit.unitId=e}),label:e.$t("admin.unit_id"),rules:r.rules.unitId},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.orgUnit.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.orgUnit.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.orgUnit.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.orgUnit.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:"level-label"},{default:Object(o["withCtx"])((function(){var t;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.this_unit_will_be_added_under"))+" ",1),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(null===(t=n.data)||void 0===t?void 0:t.name),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var Ma={unitId:"",name:"",description:""},za={name:"SaveOrgUnit",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data:function(){return{isLoading:!1,orgUnit:Object(M["a"])({},Ma),rules:{unitId:[vn(100)],name:[On,vn(100)],description:[vn(400)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;n&&e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));return!(o>-1)||e.$t("admin.organization_unit_name_should_be_unique")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.orgUnit),{},{parentId:null===(e=this.data)||void 0===e?void 0:e.id})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.orgUnit=Object(M["a"])({},Ma),this.$emit("close",!0)}}};n("3297");const Ga=C()(za,[["render",Ra],["__scopeId","data-v-457800ec"]]);var Qa=Ga,Wa={class:"orangehrm-modal-header"};function Ha(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Wa,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_organization_unit")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.orgUnit.unitId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.orgUnit.unitId=e}),label:e.$t("admin.unit_id"),rules:r.rules.unitId},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.orgUnit.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.orgUnit.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.orgUnit.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.orgUnit.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var Ja={unitId:"",name:"",description:""},Ya={name:"EditOrgUnit",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data:function(){return{isLoading:!1,orgUnit:Object(M["a"])({},Ja),rules:{unitId:[vn(100)],name:[On,vn(100)],description:[vn(400)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;return e.orgUnit.name=n.name,e.orgUnit.description=n.description,e.orgUnit.unitId=n.unitId,e.http.getAll()})).then((function(t){var n=t.data.data;n&&e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));if(o>-1){var a=n[o].id;return a==e.data.id||e.$t("admin.organization_unit_name_should_be_unique")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(M["a"])({},this.orgUnit)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Xa=C()(Ya,[["render",Ha]]);var Ka=Xa,Za={components:{"oxd-tree-view":La["a"],"oxd-sheet":Ua["a"],"oxd-switch-input":Pa["a"],"oxd-loading-spinner":ne["a"],"delete-confirmation":rn,"save-org-unit":Qa,"edit-org-unit":Ka},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/subunits");return{http:e}},data:function(){return{isLoading:!1,editable:!1,showSaveModal:!1,saveModalState:null,showEditModal:!1,editModalState:null,data:{}}},created:function(){this.fetchOrgStructure()},methods:{onDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&(t.isLoading=!0,t.http.delete(e.id).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.fetchOrgStructure()})))}))},onAddOrglevel:function(e){this.editable&&(this.saveModalState=e,this.showSaveModal=!0)},onEditOrglevel:function(e){this.editable&&(this.editModalState=e,this.showEditModal=!0)},onSaveModalClose:function(){this.saveModalState=null,this.showSaveModal=!1,this.fetchOrgStructure()},onEditModalClose:function(){this.editModalState=null,this.showEditModal=!1,this.fetchOrgStructure()},fetchOrgStructure:function(){var e=this;this.isLoading=!0,this.http.getAll({mode:"tree"}).then((function(t){var n=t.data.data;e.data=n[0]})).finally((function(){e.isLoading=!1}))}}};n("8d08"),n("7a7b");const er=C()(Za,[["render",Ia],["__scopeId","data-v-54cd97af"]]);var tr=er,nr={class:"orangehrm-background-container"},or={class:"orangehrm-card-container"};function ar(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",nr,[Object(o["createElementVNode"])("div",or,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_employment_status")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.employmentStatus.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employmentStatus.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var rr={props:{employmentStatusId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return{http:e}},data:function(){return{isLoading:!1,employmentStatus:{id:"",name:""},rules:{name:[On,vn(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.employmentStatusId).then((function(t){var n=t.data.data;return e.employmentStatus.id=n.id,e.employmentStatus.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.employmentStatus.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.employmentStatusId,{name:this.employmentStatus.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/employmentStatus")}}};const lr=C()(rr,[["render",ar]]);var cr=lr,ir={class:"orangehrm-background-container"},ur={class:"orangehrm-paper-container"},dr={class:"orangehrm-header-container"},sr={class:"orangehrm-container"},mr={class:"orangehrm-bottom-container"};function br(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ir,[Object(o["createElementVNode"])("div",ur,[Object(o["createElementVNode"])("div",dr,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.employment_status")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",sr,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",mr,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var pr={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.employment_status"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveEmploymentStatus")},onClickEdit:function(e){Z("/admin/saveEmploymentStatus/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const fr=C()(pr,[["render",br]]);var hr=fr,jr={class:"orangehrm-background-container"},Or={class:"orangehrm-card-container"};function vr(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",jr,[Object(o["createElementVNode"])("div",Or,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_employment_status")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.employmentStatus.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employmentStatus.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var gr={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return{http:e}},data:function(){return{isLoading:!1,employmentStatus:{id:"",name:""},rules:{name:[On,vn(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.employmentStatus.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/employmentStatus")}}};const Cr=C()(gr,[["render",vr]]);var yr=Cr,Vr={class:"orangehrm-background-container"},wr={class:"orangehrm-paper-container"},xr={class:"orangehrm-header-container"},Dr={class:"orangehrm-container"},Nr={class:"orangehrm-bottom-container"};function _r(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Vr,[Object(o["createElementVNode"])("div",wr,[Object(o["createElementVNode"])("div",xr,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.education")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Dr,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",Nr,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var kr={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/educations"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.level"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveEducation")},onClickEdit:function(e){Z("/admin/saveEducation/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Er=C()(kr,[["render",_r]]);var Sr=Er,Ar={class:"orangehrm-background-container"},$r={class:"orangehrm-card-container"};function Fr(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ar,[Object(o["createElementVNode"])("div",$r,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_education")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.qualification.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.qualification.name=e}),label:e.$t("general.level"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Br={props:{educationId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/educations");return{http:e}},data:function(){return{isLoading:!1,qualification:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.educationId).then((function(t){var n=t.data.data;return e.qualification.id=n.id,e.qualification.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.qualification.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.educationId,{name:this.qualification.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/viewEducation")}}};const Tr=C()(Br,[["render",Fr]]);var Ir=Tr,Lr={class:"orangehrm-background-container"},Ur={class:"orangehrm-card-container"};function Pr(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Lr,[Object(o["createElementVNode"])("div",Ur,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_education")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.qualification.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.qualification.name=e}),label:e.$t("general.level"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var qr={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/educations");return{http:e}},data:function(){return{isLoading:!1,qualification:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.qualification.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/viewEducation")}}};const Rr=C()(qr,[["render",Pr]]);var Mr=Rr,zr={class:"orangehrm-background-container"},Gr={class:"orangehrm-paper-container"},Qr={class:"orangehrm-header-container"},Wr={class:"orangehrm-container"},Hr={class:"orangehrm-bottom-container"};function Jr(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zr,[Object(o["createElementVNode"])("div",Gr,[Object(o["createElementVNode"])("div",Qr,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.skills")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Wr,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Hr,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Yr={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/skills"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"description",title:this.$t("general.description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveSkills")},onClickEdit:function(e){Z("/admin/saveSkills/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Xr=C()(Yr,[["render",Jr]]);var Kr=Xr,Zr={class:"orangehrm-background-container"},el={class:"orangehrm-card-container"};function tl(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Zr,[Object(o["createElementVNode"])("div",el,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_skill")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.skill.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.skill.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.skill.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.skill.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var nl={id:"",name:"",description:""},ol={props:{qualificationSkillId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/skills");return{http:e}},data:function(){return{isLoading:!1,skill:Object(M["a"])({},nl),rules:{name:[On,vn(120)],description:[vn(400)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.qualificationSkillId).then((function(t){var n=t.data.data;return e.skill.id=n.id,e.skill.name=n.name,e.skill.description=n.description,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.category.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.qualificationSkillId,{name:this.skill.name,description:this.skill.description}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/viewSkills")}}};const al=C()(ol,[["render",tl]]);var rl=al,ll={class:"orangehrm-background-container"},cl={class:"orangehrm-card-container"};function il(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ll,[Object(o["createElementVNode"])("div",cl,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_skill")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.skill.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.skill.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.skill.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.skill.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var ul={id:"",name:"",description:""},dl={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/skills");return{http:e}},data:function(){return{isLoading:!1,skill:Object(M["a"])({},ul),rules:{name:[On,vn(120)],description:[vn(400)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.skill.name,description:this.skill.description}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.skill.name="",e.skill.description="",e.onCancel()}))},onCancel:function(){Z("/admin/viewSkills")}}};const sl=C()(dl,[["render",il]]);var ml=sl,bl={class:"orangehrm-background-container"},pl={class:"orangehrm-card-container"};function fl(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bl,[Object(o["createElementVNode"])("div",pl,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_license")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.license.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.license.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var hl={props:{licenseId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/licenses");return{http:e}},data:function(){return{isLoading:!1,license:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.licenseId).then((function(t){var n=t.data.data;return e.license.id=n.id,e.license.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.license.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.licenseId,{name:this.license.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/viewLicenses")}}};const jl=C()(hl,[["render",fl]]);var Ol=jl,vl={class:"orangehrm-background-container"},gl={class:"orangehrm-card-container"};function Cl(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vl,[Object(o["createElementVNode"])("div",gl,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_license")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.license.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.license.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var yl={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/licenses");return{http:e}},data:function(){return{isLoading:!1,license:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.license.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.license.name="",e.onCancel()}))},onCancel:function(){Z("/admin/viewLicenses")}}};const Vl=C()(yl,[["render",Cl]]);var wl=Vl,xl={class:"orangehrm-background-container"},Dl={class:"orangehrm-paper-container"},Nl={class:"orangehrm-header-container"},_l={class:"orangehrm-container"},kl={class:"orangehrm-bottom-container"};function El(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xl,[Object(o["createElementVNode"])("div",Dl,[Object(o["createElementVNode"])("div",Nl,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.licenses")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",_l,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",kl,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Sl={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/licenses"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveLicenses")},onClickEdit:function(e){Z("/admin/saveLicenses/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Al=C()(Sl,[["render",El]]);var $l=Al,Fl={class:"orangehrm-background-container"},Bl={class:"orangehrm-card-container"};function Tl(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fl,[Object(o["createElementVNode"])("div",Bl,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_language")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Il={props:{qualificationLanguageId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/languages");return{http:e}},data:function(){return{isLoading:!1,language:{id:"",name:""},rules:{name:[On,vn(120)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.qualificationLanguageId).then((function(t){var n=t.data.data;return e.language.id=n.id,e.language.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.language.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.qualificationLanguageId,{name:this.language.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/viewLanguages")}}};const Ll=C()(Il,[["render",Tl]]);var Ul=Ll,Pl={class:"orangehrm-background-container"},ql={class:"orangehrm-card-container"};function Rl(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Pl,[Object(o["createElementVNode"])("div",ql,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_language")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Ml={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/languages");return{http:e}},data:function(){return{isLoading:!1,language:{id:"",name:""},rules:{name:[On,vn(120)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.language.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.language.name="",e.onCancel()}))},onCancel:function(){Z("/admin/viewLanguages")}}};const zl=C()(Ml,[["render",Rl]]);var Gl=zl,Ql={class:"orangehrm-background-container"},Wl={class:"orangehrm-paper-container"},Hl={class:"orangehrm-header-container"},Jl={class:"orangehrm-container"},Yl={class:"orangehrm-bottom-container"};function Xl(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ql,[Object(o["createElementVNode"])("div",Wl,[Object(o["createElementVNode"])("div",Hl,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.languages")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Jl,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Yl,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Kl={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/languages"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveLanguages")},onClickEdit:function(e){Z("/admin/saveLanguages/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Zl=C()(Kl,[["render",Xl]]);var ec=Zl,tc={class:"orangehrm-background-container"},nc={class:"orangehrm-paper-container"},oc={class:"orangehrm-header-container"},ac={class:"orangehrm-container"},rc={class:"orangehrm-bottom-container"};function lc(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tc,[Object(o["createElementVNode"])("div",nc,[Object(o["createElementVNode"])("div",oc,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.memberships")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",ac,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",rc,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var cc={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/memberships"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.membership"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveMemberships")},onClickEdit:function(e){Z("/admin/saveMemberships/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const ic=C()(cc,[["render",lc]]);var uc=ic,dc={class:"orangehrm-background-container"},sc={class:"orangehrm-card-container"};function mc(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dc,[Object(o["createElementVNode"])("div",sc,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_membership")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.membership.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var bc={props:{qualificationMembershipId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/memberships");return{http:e}},data:function(){return{isLoading:!1,membership:{id:"",name:""},rules:{name:[On,vn(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.qualificationMembershipId).then((function(t){var n=t.data.data;return e.membership.id=n.id,e.membership.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.membership.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.qualificationMembershipId,{name:this.membership.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/membership")}}};const pc=C()(bc,[["render",mc]]);var fc=pc,hc={class:"orangehrm-background-container"},jc={class:"orangehrm-card-container"};function Oc(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",hc,[Object(o["createElementVNode"])("div",jc,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_membership")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.membership.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var vc={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/memberships");return{http:e}},data:function(){return{isLoading:!1,membership:{id:"",name:""},rules:{name:[On,vn(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.membership.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.membership.name="",e.onCancel()}))},onCancel:function(){Z("/admin/membership")}}};const gc=C()(vc,[["render",Oc]]);var Cc=gc,yc={class:"orangehrm-background-container"},Vc={class:"orangehrm-card-container"},wc={class:"orangehrm-header-container"};function xc(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-switch-input"),u=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-input-group"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yc,[Object(o["createElementVNode"])("div",Vc,[Object(o["createElementVNode"])("div",wc,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.general_information")),1)]})),_:1}),Object(o["createVNode"])(i,{modelValue:r.editable,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.editable=e}),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"])]),Object(o["createVNode"])(u),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.organization.name=e}),label:e.$t("admin.organization_name"),rules:r.rules.name,disabled:!r.editable,required:""},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{label:e.$t("admin.number_of_employees")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"no-of-employees-value"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.organization.noOfEmployees),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.registrationNumber,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.organization.registrationNumber=e}),label:e.$t("admin.registration_number"),rules:r.rules.registrationNumber,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.taxId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.organization.taxId=e}),label:e.$t("admin.tax_id"),rules:r.rules.taxId,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.phone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.organization.phone=e}),modelModifiers:{trim:!0},label:e.$t("general.phone"),rules:r.rules.phone,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.fax,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.organization.fax=e}),label:e.$t("general.fax"),rules:r.rules.fax,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.email,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.organization.email=e}),label:e.$t("general.email"),rules:r.rules.email,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.street1,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.organization.street1=e}),label:e.$t("general.address_street_1"),rules:r.rules.street1,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.street2,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.organization.street2=e}),label:e.$t("general.address_street_2"),rules:r.rules.street2,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.city,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.organization.city=e}),label:e.$t("general.city"),rules:r.rules.city,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.province,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.organization.province=e}),label:e.$t("general.state_province"),rules:r.rules.province,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.zipCode,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.organization.zipCode=e}),label:e.$t("general.zip_postal_code"),rules:r.rules.zipCode,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.country,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.organization.country=e}),label:e.$t("general.country"),type:"select",rules:r.rules.country,options:n.countryList,disabled:!r.editable},null,8,["modelValue","label","rules","options","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.organization.note,"onUpdate:modelValue":t[13]||(t[13]=function(e){return r.organization.note=e}),label:e.$t("general.notes"),type:"textarea",rules:r.rules.note,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),r.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Dc={components:{"oxd-switch-input":Pa["a"]},props:{numberOfEmployees:{type:Number,required:!0},countryList:{type:Array,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/organization");return{http:e}},data:function(){return{editable:!1,isLoading:!1,organization:{name:"",noOfEmployees:this.numberOfEmployees,registrationNumber:"",taxId:"",phone:"",fax:"",email:"",street1:"",street2:"",city:"",province:"",country:"",zipCode:"",note:""},rules:{name:[On,vn(100)],registrationNumber:[vn(30)],taxId:[vn(30)],phone:[vn(30),Un],fax:[vn(30),Un],email:[vn(30),Ln],street1:[vn(100)],street2:[vn(100)],city:[vn(30)],province:[vn(30)],country:[vn(30)],zipCode:[vn(30)],note:[vn(255)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.http.get("api/v2/admin/organization").then((function(t){var n=t.data.data;e.organization.name=n.name,e.organization.registrationNumber=n.registrationNumber,e.organization.taxId=n.taxId,e.organization.phone=n.phone,e.organization.fax=n.fax,e.organization.email=n.email,e.organization.street1=n.street1,e.organization.street2=n.street2,e.organization.city=n.city,e.organization.province=n.province,""!==n.country&&null!==n.country&&(e.organization.country=e.countryList.find((function(e){return e.id===n.country}))),e.organization.zipCode=n.zipCode,e.organization.note=n.note})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.http.put("api/v2/admin/organization",{name:this.organization.name,registrationNumber:this.organization.registrationNumber,taxId:this.organization.taxId,phone:this.organization.phone,fax:this.organization.fax,email:this.organization.email,street1:this.organization.street1,street2:this.organization.street2,city:this.organization.city,province:this.organization.province,country:null===(e=this.organization.country)||void 0===e?void 0:e.id,zipCode:this.organization.zipCode,note:this.organization.note}).then((function(){return t.$toast.updateSuccess()})).then((function(){t.isLoading=!1,t.editable=!1}))}}};n("7a38");const Nc=C()(Dc,[["render",xc],["__scopeId","data-v-dddbd68e"]]);var _c=Nc,kc={class:"orangehrm-background-container"},Ec={class:"orangehrm-paper-container"},Sc={class:"orangehrm-header-container"},Ac={class:"orangehrm-container"},$c={class:"orangehrm-bottom-container"};function Fc(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",kc,[Object(o["createElementVNode"])("div",Ec,[Object(o["createElementVNode"])("div",Sc,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.nationalities")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Ac,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",$c,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Bc={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/nationalities"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.nationality"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveNationality")},onClickEdit:function(e){Z("/admin/saveNationality/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Tc=C()(Bc,[["render",Fc]]);var Ic=Tc,Lc={class:"orangehrm-background-container"},Uc={class:"orangehrm-card-container"};function Pc(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Lc,[Object(o["createElementVNode"])("div",Uc,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_nationality")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.nationality.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.nationality.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var qc={props:{nationalityId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/nationalities");return{http:e}},data:function(){return{isLoading:!1,nationality:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.nationalityId).then((function(t){var n=t.data.data;return e.nationality.id=n.id,e.nationality.name=n.name,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.nationality.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.nationalityId,{name:this.nationality.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/nationality")}}};const Rc=C()(qc,[["render",Pc]]);var Mc=Rc,zc={class:"orangehrm-background-container"},Gc={class:"orangehrm-card-container"};function Qc(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zc,[Object(o["createElementVNode"])("div",Gc,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_nationality")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.nationality.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.nationality.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Wc={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/nationalities");return{http:e}},data:function(){return{isLoading:!1,nationality:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.nationality.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/nationality")}}};const Hc=C()(Wc,[["render",Qc]]);var Jc=Hc,Yc={class:"orangehrm-background-container"},Xc={class:"orangehrm-card-container"},Kc={class:"send-method-div"},Zc={class:"orangehrm-optional-field-row"},ei={class:"orangehrm-optional-field-row"};function ti(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-group"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Yc,[Object(o["createElementVNode"])("div",Xc,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.email_configuration")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.sentAs,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.emailConfiguration.sentAs=e}),label:e.$t("admin.mail_sent_as"),rules:r.rules.sentAs,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:e.$t("admin.sending_method")},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Kc,[Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.mailType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.emailConfiguration.mailType=e}),type:"radio","option-label":e.$t("admin.secure_smtp"),value:"smtps"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.mailType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.emailConfiguration.mailType=e}),type:"radio","option-label":e.$t("admin.smtp"),value:"smtp"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.mailType,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.emailConfiguration.mailType=e}),type:"radio","option-label":e.$t("admin.sendmail"),value:"sendmail"},null,8,["modelValue","option-label"])])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),"sendmail"===r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:e.$t("admin.path_to_sendmail")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"sendmail-path-value"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.emailConfiguration.pathToSendmail),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.smtpHost,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.emailConfiguration.smtpHost=e}),label:e.$t("admin.smtp_host"),rules:r.rules.smtpHost,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.smtpPort,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.emailConfiguration.smtpPort=e}),label:e.$t("admin.smtp_port"),rules:r.rules.smtpPort},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:2},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:e.$t("admin.use_smtp_authentication"),classes:{wrapper:"--status-grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.smtpAuthType,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.emailConfiguration.smtpAuthType=e}),type:"radio","option-label":e.$t("general.yes"),value:"login"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.smtpAuthType,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.emailConfiguration.smtpAuthType=e}),type:"radio","option-label":e.$t("general.no"),value:"none"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType&&"login"===r.emailConfiguration.smtpAuthType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.smtpUsername,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.emailConfiguration.smtpUsername=e}),label:e.$t("admin.smtp_user"),rules:r.rules.smtpUsername,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.smtpPassword,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.emailConfiguration.smtpPassword=e}),label:e.$t("admin.smtp_password"),rules:r.rules.smtpPassword,type:"password",placeholder:r.passwordPlaceHolder,required:""},null,8,["modelValue","label","rules","placeholder"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:4,class:"orangehrm-input-field-bottom-space"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Zc,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.tls")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.useTLSSecureConnection,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.useTLSSecureConnection=e})},null,8,["modelValue"])])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"sendmail"!==r.emailConfiguration.mailType?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:5},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"tls-hint"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.optional_the_mail_server_requires_the_use_of_tls_security")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ei,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.send_test_email")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.sendTestMailEditable,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.sendTestMailEditable=e})},null,8,["modelValue"])])]})),_:1})]})),_:1})]})),_:1}),r.sendTestMailEditable?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:6},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.emailConfiguration.testEmailAddress,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.emailConfiguration.testEmailAddress=e}),label:e.$t("admin.test_email_address"),rules:r.rules.testEmailAddress,disabled:!r.sendTestMailEditable,required:""},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onReset},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var ni={components:{"oxd-switch-input":Pa["a"]},props:{pathToSendmail:{type:String,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/email-configuration");return{http:e}},data:function(){return{passwordPlaceHolder:"",defaultValues:{smtpSecurityType:"tls"},useTLSSecureConnection:!0,sendTestMailEditable:!1,isLoading:!1,emailConfiguration:{mailType:"",sentAs:"",pathToSendmail:this.pathToSendmail,smtpHost:"",smtpPort:null,smtpUsername:"",smtpPassword:null,smtpAuthType:"",smtpSecurityType:"",testEmailAddress:""},initialEmailConfiguration:Object(M["a"])(Object(M["a"])({},this.emailConfiguration),{},{useTLSSecureConnection:!1}),rules:{mailType:[On,vn(50)],sentAs:[On,vn(100),Ln],smtpHost:[On,vn(100)],smtpPort:[vn(10)],smtpUsername:[On,vn(100)],smtpPassword:[vn(100)],smtpAuthType:[vn(50)],smtpSecurityType:[vn(50)],testEmailAddress:[On,vn(250),Ln]}}},created:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/admin/email-configuration"}).then((function(t){var n=t.data.data;e.emailConfiguration.mailType=n.mailType,e.emailConfiguration.sentAs=n.sentAs,e.emailConfiguration.smtpHost=n.smtpHost,e.emailConfiguration.smtpPort=n.smtpPort,e.emailConfiguration.smtpUsername=n.smtpUsername,e.passwordPlaceHolder=n.smtpUsername?"******":"",e.emailConfiguration.smtpAuthType=n.smtpAuthType,e.emailConfiguration.testEmailAddress=n.testEmailAddress,e.useTLSSecureConnection="tls"===n.smtpSecurityType,e.initialEmailConfiguration=Object(M["a"])(Object(M["a"])({},e.emailConfiguration),{},{useTLSSecureConnection:e.useTLSSecureConnection}),n.smtpUsername||e.rules.smtpPassword.push(On)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{mailType:this.emailConfiguration.mailType,sentAs:this.emailConfiguration.sentAs,smtpHost:this.emailConfiguration.smtpHost,smtpPort:parseInt(this.emailConfiguration.smtpPort),smtpUsername:"login"===this.emailConfiguration.smtpAuthType?this.emailConfiguration.smtpUsername:"",smtpPassword:""===this.emailConfiguration.smtpPassword?null:this.emailConfiguration.smtpPassword,smtpAuthType:this.emailConfiguration.smtpAuthType,smtpSecurityType:this.useTLSSecureConnection?"tls":"none",testEmailAddress:this.emailConfiguration.testEmailAddress}}).then((function(t){var n,o=null===(n=t.data.meta)||void 0===n?void 0:n.testEmailStatus;return 1===o&&e.sendTestMailEditable?e.$toast.success({title:e.$t("general.success"),message:e.$t("admin.test_email_sent")}):0===o&&e.sendTestMailEditable&&e.$toast.warn({title:e.$t("general.failed"),message:e.$t("admin.test_email_not_sent")}),e.$toast.saveSuccess()})).then((function(){e.isLoading=!1}))},onReset:function(){this.emailConfiguration=Object(M["a"])({},this.initialEmailConfiguration),this.useTLSSecureConnection=this.initialEmailConfiguration.useTLSSecureConnection}}};n("39eb");const oi=C()(ni,[["render",ti],["__scopeId","data-v-21c95ab0"]]);var ai=oi,ri={class:"orangehrm-background-container"},li=Object(o["createElementVNode"])("br",null,null,-1),ci={class:"orangehrm-paper-container"},ii={class:"orangehrm-header-container"},ui={class:"orangehrm-container"},di={class:"orangehrm-bottom-container"};function si(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("table-header"),O=Object(o["resolveComponent"])("oxd-card-table"),v=Object(o["resolveComponent"])("oxd-pagination"),g=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ri,[Object(o["createVNode"])(h,{"filter-title":e.$t("admin.locations")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.name=e}),label:e.$t("general.name")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.city,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.city=e}),label:e.$t("general.city")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.countryCode,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.countryCode=e}),type:"select",label:e.$t("general.country"),clear:!1,options:n.countries},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),li,Object(o["createElementVNode"])("div",ci,[Object(o["createElementVNode"])("div",ii,[Object(o["createElementVNode"])("div",null,[e.$can.create("locations")?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(j,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",ui,[Object(o["createVNode"])(O,{selected:r.checkedItems,"onUpdate:selected":t[3]||(t[3]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[4]||(t[4]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:e.$can.delete("locations"),disabled:!(e.$can.delete("locations")&&e.$can.update("locations")),clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","selectable","disabled","loading"])]),Object(o["createElementVNode"])("div",di,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,current:a.currentPage,"onUpdate:current":t[5]||(t[5]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(g,{ref:"deleteDialog"},null,512)])}var mi={name:"",city:"",countryCode:{}},bi={"location.name":"ASC","location.city":"DEFAULT","country.countryName":"DEFAULT","location.phone":"DEFAULT",noOfEmployees:"DEFAULT"},pi=function(e){return e.map((function(e){return{id:e.id,name:e.name,city:e.city,country:e.country.countryName,phone:e.phone,noOfEmployees:e.noOfEmployees?e.noOfEmployees:0}}))},fi={components:{"delete-confirmation":rn},props:{countries:{type:Array,default:function(){return[]}}},setup:function(){var e=ln({sortDefinition:bi}),t=e.sortDefinition,n=e.sortField,a=e.sortOrder,r=e.onSort,l=Object(o["ref"])(Object(M["a"])({},mi)),c=Object(o["computed"])((function(){var e;return{name:l.value.name,city:l.value.city,countryCode:null===(e=l.value.countryCode)||void 0===e?void 0:e.id,sortField:n.value,sortOrder:a.value}})),i=new te(window.appGlobal.baseUrl,"/api/v2/admin/locations"),u=Kt(i,{query:c,normalizer:pi}),d=u.showPaginator,s=u.currentPage,m=u.total,b=u.pages,p=u.pageSize,f=u.response,h=u.isLoading,j=u.execQuery;return r(j),{http:i,showPaginator:d,currentPage:s,isLoading:h,total:m,pages:b,pageSize:p,execQuery:j,items:f,filters:l,sortDefinition:t}},data:function(){var e={delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}};return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1},sortField:"location.name"},{name:"city",title:this.$t("general.city"),style:{flex:1},sortField:"location.city"},{name:"country",title:this.$t("general.country"),style:{flex:1},sortField:"country.countryName"},{name:"phone",title:this.$t("general.phone"),style:{flex:1},sortField:"location.phone"},{name:"noOfEmployees",title:this.$t("admin.number_of_employees"),style:{flex:1},sortField:"noOfEmployees"},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:e}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveLocation")},onClickEdit:function(e){Z("/admin/saveLocation/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickReset:function(){this.filters=Object(M["a"])({},mi),this.filterItems()}}};const hi=C()(fi,[["render",si]]);var ji=hi,Oi={class:"orangehrm-background-container"},vi={class:"orangehrm-card-container"};function gi(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Oi,[Object(o["createElementVNode"])("div",vi,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_location")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.location.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:"",disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.city,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.location.city=e}),label:e.$t("general.city"),rules:r.rules.city,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.province,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.location.province=e}),label:e.$t("general.state_province"),rules:r.rules.province,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.zipCode,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.location.zipCode=e}),label:e.$t("general.zip_postal_code"),rules:r.rules.zipCode,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.countryCode,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.location.countryCode=e}),type:"select",label:e.$t("general.country"),rules:r.rules.countryCode,clear:!1,options:n.countries,required:"",disabled:!l.hasCreatePermissions},null,8,["modelValue","label","rules","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.location.phone=e}),modelModifiers:{trim:!0},label:e.$t("general.phone"),rules:r.rules.phone,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.fax,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.location.fax=e}),label:e.$t("general.fax"),rules:r.rules.fax,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.address,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.location.address=e}),type:"textarea",label:e.$t("admin.address"),rules:r.rules.address,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.note,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.location.note=e}),type:"textarea",label:e.$t("general.notes"),rules:r.rules.note,disabled:!l.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),l.hasCreatePermissions?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Ci={name:"",countryCode:null,province:"",city:"",address:"",zipCode:"",phone:"",fax:"",note:""},yi={props:{countries:{type:Array,default:function(){return[]}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/locations");return{http:e}},data:function(){return{isLoading:!1,location:Object(M["a"])({},Ci),rules:{name:[On,vn(100)],countryCode:[On],province:[vn(50)],city:[vn(50)],address:[vn(250)],zipCode:[vn(30)],phone:[vn(30),Un],fax:[vn(30),Un],note:[vn(250)]}}},computed:{hasCreatePermissions:function(){return this.$can.create("locations")}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/admin/viewLocations")},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.location),{},{countryCode:this.location.countryCode.id})).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))}}};const Vi=C()(yi,[["render",gi]]);var wi=Vi,xi={class:"orangehrm-background-container"},Di={class:"orangehrm-card-container"};function Ni(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xi,[Object(o["createElementVNode"])("div",Di,[Object(o["createVNode"])(c,{class:"orangehrm-main-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_location")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,novalidate:"true",onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.location.name=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.name,label:e.$t("general.name"),required:""},null,8,["modelValue","disabled","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.city,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.location.city=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.city,label:e.$t("general.city")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.province,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.location.province=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.province,label:e.$t("general.state_province")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.zipCode,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.location.zipCode=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.zipCode,label:e.$t("general.zip_postal_code")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.countryCode,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.location.countryCode=e}),clear:!1,disabled:!l.hasUpdatePermissions,options:n.countries,rules:r.rules.countryCode,label:e.$t("general.country"),required:"",type:"select"},null,8,["modelValue","disabled","options","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.location.phone=e}),modelModifiers:{trim:!0},disabled:!l.hasUpdatePermissions,rules:r.rules.phone,label:e.$t("general.phone")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.fax,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.location.fax=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.fax,label:e.$t("general.fax")},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.address,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.location.address=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.address,label:e.$t("admin.address"),type:"textarea"},null,8,["modelValue","disabled","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.location.note,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.location.note=e}),disabled:!l.hasUpdatePermissions,rules:r.rules.note,label:e.$t("general.note"),type:"textarea"},null,8,["modelValue","disabled","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),l.hasUpdatePermissions?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var _i={name:"",countryCode:null,province:"",city:"",address:"",zipCode:"",phone:"",fax:"",note:""},ki={props:{locationId:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/locations");return{http:e}},data:function(){return{isLoading:!1,location:Object(M["a"])({},_i),rules:{name:[On,vn(100)],countryCode:[On],province:[vn(50)],city:[vn(50)],address:[vn(250)],zipCode:[vn(30)],phone:[vn(30),Un],fax:[vn(30),Un],note:[vn(250)]}}},computed:{hasUpdatePermissions:function(){return this.$can.update("locations")}},created:function(){var e=this;this.isLoading=!0,this.http.get(parseInt(this.locationId,10)).then((function(t){var n=t.data.data;return e.location.name=n.name,e.location.countryCode=e.countries.find((function(e){return e.id===n.country.countryCode})),e.location.province=n.province,e.location.city=n.city,e.location.address=n.address,e.location.zipCode=n.zipCode,e.location.phone=n.phone,e.location.fax=n.fax,e.location.note=n.note,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return parseInt(a,10)===parseInt(e.locationId,10)||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/admin/viewLocations")},onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.locationId,{name:this.location.name,countryCode:this.location.countryCode.id,province:this.location.province,city:this.location.city,address:this.location.address,zipCode:this.location.zipCode,phone:this.location.phone,fax:this.location.fax,note:this.location.note}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))}}};const Ei=C()(ki,[["render",Ni]]);var Si=Ei,Ai={class:"orangehrm-background-container"},$i={class:"orangehrm-paper-container"},Fi={class:"orangehrm-header-container"},Bi={class:"orangehrm-container"},Ti={class:"orangehrm-bottom-container"};function Ii(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ai,[Object(o["createElementVNode"])("div",$i,[Object(o["createElementVNode"])("div",Fi,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.pay_grades")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Bi,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",Ti,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Li=function(e){return e.map((function(e){var t=e.currencies.map((function(e){return e.name}));return{id:e.id,name:e.name,currency:t.join(",")}}))},Ui={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/pay-grades"),t=Kt(e,{normalizer:Li}),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"40%"}},{name:"currency",title:this.$t("general.currency"),style:{"flex-basis":"40%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/payGrade")},onClickEdit:function(e){Z("/admin/payGrade/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Pi=C()(Ui,[["render",Ii]]);var qi=Pi,Ri={class:"orangehrm-background-container"},Mi={class:"orangehrm-card-container"};function zi(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ri,[Object(o["createElementVNode"])("div",Mi,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_pay_grade")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.grade.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.grade.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Gi={setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/pay-grades");return{http:e}},data:function(){return{isLoading:!1,grade:{id:"",name:""},rules:{name:[On,vn(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));return-1===o||e.$t("general.already_exists")})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.grade.name}).then((function(t){var n=t.data.data;e.$toast.saveSuccess(),Z("/admin/payGrade/{id}",{id:n.id})}))},onCancel:function(){Z("/admin/viewPayGrades")}}};const Qi=C()(Gi,[["render",zi]]);var Wi=Qi,Hi={class:"orangehrm-background-container"},Ji={class:"orangehrm-card-container"};function Yi(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("pay-grade-currency");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Hi,[Object(o["createElementVNode"])("div",Ji,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_pay_grade")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.grade.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.grade.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]),Object(o["createVNode"])(O,{"pay-grade-id":n.payGradeId},null,8,["pay-grade-id"])],64)}var Xi={class:"orangehrm-background-container"},Ki={class:"orangehrm-paper-container"},Zi={class:"orangehrm-header-container"},eu={class:"orangehrm-container"},tu={class:"orangehrm-bottom-container"};function nu(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-pay-currency"),u=Object(o["resolveComponent"])("edit-pay-currency"),d=Object(o["resolveComponent"])("inline-action-button"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,"pay-grade-id":n.payGradeId,onClose:l.onSaveModalClose},null,8,["pay-grade-id","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,data:r.editModalState,"pay-grade-id":n.payGradeId,onClose:l.onEditModalClose},null,8,["data","pay-grade-id","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Xi,[Object(o["createElementVNode"])("div",Ki,[Object(o["createElementVNode"])("div",Zi,[Object(o["createVNode"])(d,{"display-type":"secondary",onClick:l.onclickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.currencies")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",eu,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:l.selectable,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(o["createElementVNode"])("div",tu,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])])],64)}var ou={class:"orangehrm-action-header"};function au(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ou,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)]})),_:3}),Object(o["createVNode"])(i,Object(o["mergeProps"])({label:e.$t("general.add"),"icon-name":"plus","display-type":"text"},e.$attrs),null,16,["label"])])}var ru={name:"InlineActionButton",inheritAttrs:!1};n("39f7");const lu=C()(ru,[["render",au],["__scopeId","data-v-6526a07f"]]);var cu=lu,iu={class:"orangehrm-card-container"};function uu(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",iu,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_currency")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.payCurrency.currencyId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.payCurrency.currencyId=e}),type:"select",label:e.$t("general.currency"),options:r.currencies,rules:r.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.payCurrency.minSalary,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.payCurrency.minSalary=e}),label:e.$t("admin.minimum_salary"),rules:r.rules.minSalary},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.payCurrency.maxSalary,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.payCurrency.maxSalary=e}),label:e.$t("admin.maximum_salary"),rules:r.rules.maxSalary},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var du={currencyId:null,minSalary:"",maxSalary:""},su={name:"SavePayCurrency",props:{payGradeId:{type:Number,required:!0}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/admin/pay-grades/".concat(e.payGradeId,"/currencies"));return{http:t}},data:function(){var e=this;return{isLoading:!1,payCurrency:Object(M["a"])({},du),currencies:[],rules:{currencyId:[On],minSalary:[qn(1e9),wn],maxSalary:[qn(1e9),wn,zn((function(){return e.payCurrency.minSalary}),this.$t("admin.should_be_higher_than_minimum_salary"))]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/admin/pay-grades/".concat(this.payGradeId,"/currencies/allowed?limit=0"),params:{limit:0}}).then((function(t){var n=t.data.data;e.currencies=n.map((function(e){return{id:e.id,label:e.id+" - "+e.name}}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.payCurrency),{},{currencyId:this.payCurrency.currencyId.id})).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const mu=C()(su,[["render",uu]]);var bu=mu,pu={class:"orangehrm-card-container"};function fu(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pu,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_currency")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.payCurrency.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.payCurrency.name=e}),label:e.$t("general.currency"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.payCurrency.minSalary,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.payCurrency.minSalary=e}),label:e.$t("admin.minimum_salary"),rules:r.rules.minSalary},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.payCurrency.maxSalary,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.payCurrency.maxSalary=e}),label:e.$t("admin.maximum_salary"),rules:r.rules.maxSalary},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var hu={currencyId:null,minSalary:"",maxSalary:""},ju={name:"EditPayCurrency",props:{payGradeId:{type:Number,required:!0},data:{type:Object,required:!0}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/admin/pay-grades/".concat(e.payGradeId,"/currencies"));return{http:t}},data:function(){var e=this;return{isLoading:!1,payCurrency:Object(M["a"])({},hu),rules:{currencyId:[On],minSalary:[qn(1e9),wn],maxSalary:[qn(1e9),wn,zn((function(){return e.payCurrency.minSalary}),this.$t("admin.should_be_higher_than_minimum_salary"))]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.payCurrency.name=n.currencyType.name,e.payCurrency.minSalary=n.minSalary?n.minSalary:"0",e.payCurrency.maxSalary=n.maxSalary?n.maxSalary:"0"})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{minSalary:this.payCurrency.minSalary,maxSalary:this.payCurrency.maxSalary}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Ou=C()(ju,[["render",fu]]);var vu=Ou,gu=function(e){return e.map((function(e){return{id:e.currencyType.id,name:e.currencyType.name,maxSalary:e.maxSalary?parseFloat(e.maxSalary).toFixed(2):"0.00",minSalary:e.minSalary?parseFloat(e.minSalary).toFixed(2):"0.00"}}))},Cu={name:"PayGradeCurrency",components:{"inline-action-button":cu,"save-pay-currency":bu,"edit-pay-currency":vu,"delete-confirmation":rn},props:{payGradeId:{type:String,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/admin/pay-grades/".concat(e.payGradeId,"/currencies")),n="api/v2/admin/pay-grades/".concat(e.payGradeId,"/currencies/allowed?limit=0"),o=Kt(t,{normalizer:gu}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u,currencyEndpoint:n}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.currency"),style:{flex:2}},{name:"minSalary",title:this.$t("admin.minimum_salary"),style:{flex:1}},{name:"maxSalary",title:this.$t("admin.maximum_salary"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{selectable:function(){return!(this.showSaveModal||this.showEditModal)}},methods:{onclickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickDelete:function(e){var t=this;this.selectable&&this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},onClickDeleteSelected:function(){var e=this;if(this.selectable){var t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))}},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const yu=C()(Cu,[["render",nu]]);var Vu=yu,wu={components:{"pay-grade-currency":Vu},props:{payGradeId:{type:String,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/pay-grades");return{http:e}},data:function(){return{isLoading:!1,grade:{id:"",name:""},rules:{name:[On,vn(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.payGradeId).then((function(t){var n=t.data.data;return e.grade.id=n.id,e.grade.name=n.name,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));if(o>-1){var a=n[o].id;return a==e.grade.id||e.$t("general.already_exists")}return!0})),e.isLoading=!1})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.payGradeId,{name:this.grade.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){ee()}))},onCancel:function(){Z("/admin/viewPayGrades")}}};const xu=C()(wu,[["render",Yi]]);var Du=xu,Nu={class:"orangehrm-background-container"},_u={class:"orangehrm-card-container"},ku={class:"orangehrm-module-field-row"},Eu={class:"orangehrm-module-field-row"},Su={class:"orangehrm-module-field-row"},Au={class:"orangehrm-module-field-row"},$u={class:"orangehrm-module-field-row"},Fu={class:"orangehrm-module-field-row"},Bu={class:"orangehrm-module-field-row"},Tu={class:"orangehrm-module-field-row"},Iu={class:"orangehrm-module-field-row"};function Lu(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-switch-input"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("submit-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Nu,[Object(o["createElementVNode"])("div",_u,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.module_configuration")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ku,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.admin_module")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.modules.admin,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.modules.admin=e}),disabled:!0},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Eu,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.pim_module")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.modules.pim,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.modules.pim=e}),disabled:!0},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Su,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.leave_module")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.modules.leave,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.modules.leave=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Au,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.time_module")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.modules.time,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.modules.time=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",$u,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.recruitment_module")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.modules.recruitment,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.modules.recruitment=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Fu,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.performance_module")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.modules.performance,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.modules.performance=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Bu,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.directory_module")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.modules.directory,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.modules.directory=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Tu,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.maintenance_module")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.modules.maintenance,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.modules.maintenance=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",Iu,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.mobile")),1)]})),_:1}),Object(o["createVNode"])(u,{disabled:""})])]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Uu={admin:!1,pim:!1,leave:!1,time:!1,recruitment:!1,performance:!1,maintenance:!1,mobile:!1,directory:!1},Pu={components:{"oxd-switch-input":Pa["a"]},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/modules");return{http:e}},data:function(){return{modules:Object(M["a"])({},Uu),isLoading:!1}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.modules.admin=n.admin,e.modules.pim=n.pim,e.modules.leave=n.leave,e.modules.time=n.time,e.modules.recruitment=n.recruitment,e.modules.performance=n.performance,e.modules.maintenance=n.maintenance,e.modules.mobile=n.mobile,e.modules.directory=n.directory})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0;var t={admin:!0,pim:!0,leave:this.modules.leave,time:this.modules.time,recruitment:this.modules.recruitment,performance:this.modules.performance,maintenance:this.modules.maintenance,mobile:this.modules.mobile,directory:this.modules.directory};this.http.request({method:"PUT",data:t}).then((function(t){var n=t.data.data;return e.modules=n,e.$toast.saveSuccess()})).finally((function(){e.isLoading=!1,ee()}))}}};n("0eb8");const qu=C()(Pu,[["render",Lu],["__scopeId","data-v-2048016c"]]);var Ru=qu,Mu={class:"orangehrm-background-container"},zu={class:"orangehrm-paper-container"},Gu={class:"orangehrm-header-container"},Qu={class:"orangehrm-container"},Wu={class:"orangehrm-bottom-container"};function Hu(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Mu,[Object(o["createElementVNode"])("div",zu,[Object(o["createElementVNode"])("div",Gu,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.work_shifts")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Qu,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Wu,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Ju=function(e){return e.map((function(e){return{id:e.id,name:e.name,startTime:e.startTime,endTime:e.endTime,hoursPerDay:parseFloat(e.hoursPerDay).toFixed(2)}}))},Yu={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts"),t=Kt(e,{normalizer:Ju}),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"startTime",title:this.$t("general.from"),style:{flex:1}},{name:"endTime",title:this.$t("general.to"),style:{flex:1}},{name:"hoursPerDay",title:this.$t("admin.hours_per_day"),style:{flex:1}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveWorkShifts")},onClickEdit:function(e){Z("/admin/saveWorkShifts/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Xu=C()(Yu,[["render",Hu]]);var Ku=Xu,Zu={class:"orangehrm-background-container"},ed={class:"orangehrm-card-container"};function td(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("time-input"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("work-shift-employee-autocomplete"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Zu,[Object(o["createElementVNode"])("div",ed,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_work_shift")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workShift.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workShift.name=e}),label:e.$t("admin.shift_name"),rules:r.rules.name},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.working_hours"))+" *",1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workShift.startTime,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workShift.startTime=e}),rules:r.rules.fromTime,label:e.$t("general.from")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workShift.endTime,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workShift.endTime=e}),rules:r.rules.endTime,label:e.$t("general.to")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{label:e.$t("admin.duration_per_day")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-workshift-duration",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.selectedTimeDuration),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.workShift.empNumbers,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workShift.empNumbers=e}),rules:r.rules.empNumbers},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}function nd(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{label:e.$t("admin.assigned_employees"),multiple:!0,clear:!1,"create-options":l.loadEmployees},null,8,["label","create-options"])}var od={name:"WorkShiftEmployeeAutocomplete",components:{"employee-autocomplete":Zo},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/work-shifts/employees");return{http:e}},methods:{loadEmployees:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll({nameOrId:e.trim()}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const ad=C()(od,[["render",nd]]);var rd=ad,ld={id:"",name:"",hoursPerDay:"",startTime:"",endTime:"",empNumbers:[]},cd={components:{"work-shift-employee-autocomplete":rd},props:{workShiftConfig:{type:Object,required:!0,default:function(){return{}}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts");return{http:e}},data:function(){var e=this;return{isLoading:!1,workShift:Object(M["a"])({},ld),rules:{name:[On,vn(50)],fromTime:[On,yn],endTime:[On,yn,Bn((function(){return e.workShift.startTime}),this.$t("general.to_time_should_be_after_from_time"))],empNumbers:[Kn]}}},computed:{selectedTimeDuration:function(){return parseFloat(Te(this.workShift.startTime,this.workShift.endTime)/3600).toFixed(2)}},beforeMount:function(){var e=this;this.isLoading=!0,this.workShift.startTime=this.workShiftConfig.startTime,this.workShift.endTime=this.workShiftConfig.endTime,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0;var t={name:this.workShift.name,hoursPerDay:this.selectedTimeDuration,startTime:this.workShift.startTime,endTime:this.workShift.endTime,empNumbers:this.workShift.empNumbers.map((function(e){return e.id}))};this.http.create(t).then((function(){return e.$toast.saveSuccess()})).then((function(){e.workShift=Object(M["a"])({},ld),e.onCancel()}))},onCancel:function(){Z("/admin/workShift")}}};n("df2d");const id=C()(cd,[["render",td],["__scopeId","data-v-b93f1440"]]);var ud=id,dd={class:"orangehrm-background-container"},sd={class:"orangehrm-card-container"},md=Object(o["createTextVNode"])("Working Hours*");function bd(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("time-input"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("work-shift-employee-autocomplete"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dd,[Object(o["createElementVNode"])("div",sd,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_work_shift")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workShift.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workShift.name=e}),label:e.$t("admin.shift_name"),rules:r.rules.name},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[md]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workShift.startTime,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workShift.startTime=e}),rules:r.rules.fromTime,label:e.$t("general.from")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workShift.endTime,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workShift.endTime=e}),rules:r.rules.endTime,label:e.$t("general.to")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{label:e.$t("admin.duration_per_day")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-workshift-duration",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.selectedTimeDuration),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.workShift.empNumbers,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workShift.empNumbers=e}),rules:r.rules.empNumbers},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var pd={id:"",name:"",hoursPerDay:"",startTime:null,endTime:null,empNumbers:[]},fd={components:{"work-shift-employee-autocomplete":rd},props:{workShiftId:{type:Number,required:!0,default:null}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts");return{http:e}},data:function(){var e=this;return{isLoading:!1,workShift:Object(M["a"])({},pd),rules:{name:[On,vn(50)],fromTime:[yn],endTime:[yn,Bn((function(){return e.workShift.startTime}),"To time should be after from time")],empNumbers:[Kn]}}},computed:{selectedTimeDuration:function(){return parseFloat(Te(this.workShift.startTime,this.workShift.endTime)/3600).toFixed(2)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.workShiftId).then((function(t){var n=t.data.data;return e.workShift.id=n.id,e.workShift.name=n.name,e.workShift.hoursPerDay=n.hoursPerDay,e.workShift.startTime=n.startTime,e.workShift.endTime=n.endTime,e.workShift.empNumbers=n.employees.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}})),e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.workShift.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0;var t={name:this.workShift.name,hoursPerDay:this.selectedTimeDuration,startTime:this.workShift.startTime,endTime:this.workShift.endTime,empNumbers:this.workShift.empNumbers.map((function(e){return e.id}))};this.http.update(this.workShiftId,t).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/admin/workShift")}}};n("c77e");const hd=C()(fd,[["render",bd],["__scopeId","data-v-5654dcf1"]]);var jd=hd,Od={class:"orangehrm-background-container"},vd={class:"orangehrm-paper-container"},gd={class:"orangehrm-header-container"},Cd={class:"orangehrm-container"},yd=Object(o["createElementVNode"])("div",{class:"orangehrm-bottom-container"},null,-1);function Vd(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("table-header"),d=Object(o["resolveComponent"])("oxd-card-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Od,[Object(o["createElementVNode"])("div",vd,[Object(o["createElementVNode"])("div",gd,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.email_subscriptions")),1)]})),_:1})]),Object(o["createVNode"])(u,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",Cd,[Object(o["createVNode"])(d,{loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!1,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["loading","headers","items"])]),yd])])}n("fb6a");var wd={setup:function(){var e=Je(),t=e.$t,n=function(e){return e.map((function(e){var n=Array.isArray(e.subscribers)?e.subscribers.slice(0,10):[],o=e.name;switch(o){case"Leave Applications":o=t("admin.leave_applications");break;case"Leave Approvals":o=t("admin.leave_approvals");break;case"Leave Assignments":o=t("admin.leave_assignments");break;case"Leave Cancellations":o=t("admin.leave_cancellation");break;case"Leave Rejections":o=t("admin.leave_rejections");break}return{id:e.id,type:o,subscribers:n.map((function(e){return"".concat(e.name," <").concat(e.email,">")})).join(", "),enabled:e.isEnabled,_loading:!1}}))},o=new te(window.appGlobal.baseUrl,"/api/v2/admin/email-subscriptions"),a=Kt(o,{normalizer:n}),r=a.total,l=a.response,c=a.isLoading;return{http:o,isLoading:c,total:r,items:l}},data:function(){return{headers:[{name:"type",slot:"title",title:this.$t("admin.notification_type"),style:{flex:"20%"}},{name:"subscribers",title:this.$t("admin.subscribers"),style:{flex:"65%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}]}},methods:{cellRenderer:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[0],r=n[3],l={component:"oxd-icon-button",props:{name:"person-plus-fill",onClick:function(){Z("/admin/saveSubscriber/{id}",{id:r.id})}}},c={component:Pa["a"],props:{modelValue:r.enabled,"onUpdate:modelValue":function(t){e.items.data[a]._loading=!0,e.http.update(r.id,{enabled:t}).then((function(t){var n=t.data.data;e.items.data[a].enabled=n.isEnabled,e.$toast.updateSuccess()})).finally((function(){e.items.data[a]._loading=!1}))},style:{"margin-left":"1rem","text-align":"left"}}},i={component:ne["a"],props:{withContainer:!1}};return{props:{header:{cellConfig:Object(M["a"])({},r._loading?{loader:i}:{addSubscriber:l,switchSubscription:c})}}}}}};const xd=C()(wd,[["render",Vd]]);var Dd=xd,Nd={class:"orangehrm-background-container"},_d={class:"orangehrm-paper-container"},kd={class:"orangehrm-header-container"},Ed={class:"orangehrm-container"},Sd={class:"orangehrm-bottom-container"};function Ad(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("save-subscriber"),f=Object(o["resolveComponent"])("edit-subscriber");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Nd,[Object(o["createElementVNode"])("div",_d,[Object(o["createElementVNode"])("div",kd,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.subscribers"))+": "+Object(o["toDisplayString"])(l.title),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Ed,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Sd,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512),r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,data:{subscriptionId:n.subscriptionId},onClose:l.onSaveModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:1,data:r.editModalState,onClose:l.onEditModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0)])}var $d={class:"orangehrm-modal-header"};function Fd(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",$d,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_subscriber")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.subscriber.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.subscriber.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.subscriber.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.subscriber.email=e}),label:e.$t("general.email"),rules:r.rules.email,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var Bd={name:"",email:""},Td={name:"SaveSubscriber",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/admin/email-subscriptions/".concat(e.data.subscriptionId,"/subscribers"));return{http:t}},data:function(){return{isLoading:!1,subscriber:Object(M["a"])({},Bd),rules:{name:[On,vn(100)],email:[On,Ln,vn(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;n&&e.rules.email.push((function(t){var o=n.findIndex((function(e){return e.email==t}));return!(o>-1)||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.subscriber)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.subscriber=Object(M["a"])({},Bd),this.$emit("close",!0)}}};n("66a9");const Id=C()(Td,[["render",Fd],["__scopeId","data-v-307685fc"]]);var Ld=Id,Ud={class:"orangehrm-modal-header"};function Pd(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ud,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.edit_subscriber")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.subscriber.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.subscriber.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.subscriber.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.subscriber.email=e}),label:e.$t("general.email"),rules:r.rules.email,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var qd={name:"",email:""},Rd={name:"EditSubscriber",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,default:function(){return{}}}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/admin/email-subscriptions/".concat(e.data.subscriptionId,"/subscribers"));return{http:t}},data:function(){return{isLoading:!1,subscriber:Object(M["a"])({},qd),rules:{name:[On,vn(100)],email:[On,Ln,vn(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;return e.subscriber.name=n.name,e.subscriber.email=n.email,e.http.getAll()})).then((function(t){var n=t.data.data;n&&e.rules.email.push((function(t){var o=n.findIndex((function(e){return e.email==t}));if(o>-1){var a=n[o].id;return a==e.data.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(M["a"])({},this.subscriber)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.subscriber=Object(M["a"])({},qd),this.$emit("close",!0)}}};n("6534");const Md=C()(Rd,[["render",Pd],["__scopeId","data-v-2923b725"]]);var zd=Md,Gd={components:{"save-subscriber":Ld,"edit-subscriber":zd,"delete-confirmation":rn},props:{subscriptionId:{type:String,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/admin/email-subscriptions/".concat(e.subscriptionId,"/subscribers")),n=Kt(t),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,c=n.pageSize,i=n.response,u=n.isLoading,d=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:u,total:r,pages:l,pageSize:c,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:"30%"}},{name:"email",title:this.$t("general.email"),style:{flex:"55%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{title:function(){var e;return this.items.meta?null===(e=this.items.meta)||void 0===e?void 0:e.name:""}},methods:{onClickAdd:function(){this.showSaveModal=!0},onClickEdit:function(e){this.editModalState=Object(M["a"])(Object(M["a"])({},e),{},{subscriptionId:this.subscriptionId}),this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.editModalState=null,this.showEditModal=!1,this.resetDataTable()},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Qd=C()(Gd,[["render",Ad]]);var Wd=Qd,Hd={class:"orangehrm-background-container"},Jd={class:"orangehrm-card-container"};function Yd(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Hd,[Object(o["createElementVNode"])("div",Jd,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.localization")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.configuration.language,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.configuration.language=e}),label:e.$t("general.language"),type:"select","show-empty-selector":!1,options:n.languageList},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.configuration.dateFormat,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.configuration.dateFormat=e}),label:e.$t("admin.date_format"),type:"select","show-empty-selector":!1,options:n.dateFormatList},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Xd={props:{dateFormatList:{type:Array,required:!0},languageList:{type:Array,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/localization");return{http:e}},data:function(){return{isLoading:!1,configuration:{language:null,dateFormat:null}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.configuration.language=e.languageList.find((function(e){return e.id===n.language})),e.configuration.dateFormat=e.dateFormatList.find((function(e){return e.id===n.dateFormat}))})).finally((function(){return e.isLoading=!1}))},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.http.put("api/v2/admin/localization",{language:null===(e=this.configuration.language)||void 0===e?void 0:e.id,dateFormat:null===(t=this.configuration.dateFormat)||void 0===t?void 0:t.id}).then((function(){return n.$toast.updateSuccess()})).then((function(){return ee()}))}}};const Kd=C()(Xd,[["render",Yd]]);var Zd=Kd,es=function(e){return Object(o["pushScopeId"])("data-v-93cdb0aa"),e=e(),Object(o["popScopeId"])(),e},ts={class:"orangehrm-background-container"},ns={class:"orangehrm-card-container"},os=es((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),as=es((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),rs={class:"orangehrm-sm-field"},ls={class:"orangehrm-actions-group"};function cs(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("inline-color-input"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("file-upload-input"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ts,[Object(o["createElementVNode"])("div",ns,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.corporate_branding")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{ref:"formRef",loading:e.isLoading,onSubmitValid:a.onFormSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.colors.primaryColor,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.colors.primaryColor=t}),rules:a.rules.color,label:e.$t("admin.primary_color"),required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-column-3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.colors.secondaryColor,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.colors.secondaryColor=t}),rules:a.rules.color,label:e.$t("admin.secondary_color"),required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.colors.primaryFontColor,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.colors.primaryFontColor=t}),rules:a.rules.color,label:e.$t("admin.primary_font_color"),required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2 --offset-column-3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.colors.secondaryFontColor,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.colors.secondaryFontColor=t}),rules:a.rules.color,label:e.$t("admin.secondary_font_color"),required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.colors.primaryGradientStartColor,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.colors.primaryGradientStartColor=t}),rules:a.rules.color,label:e.$t("admin.primary_gradient_color_one"),type:"color",required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-3 --offset-column-3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.colors.primaryGradientEndColor,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.colors.primaryGradientEndColor=t}),rules:a.rules.color,label:e.$t("admin.primary_gradient_color_two"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),os,Object(o["createVNode"])(i),as,Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{newFile:e.clientLogo.newAttachment,"onUpdate:newFile":t[6]||(t[6]=function(t){return e.clientLogo.newAttachment=t}),method:e.clientLogo.method,"onUpdate:method":t[7]||(t[7]=function(t){return e.clientLogo.method=t}),label:e.$t("admin.client_logo"),"button-label":e.$t("general.browse"),file:e.clientLogo.oldAttachment,rules:a.rules.clientLogo,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:50,height:50}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{newFile:e.clientBanner.newAttachment,"onUpdate:newFile":t[8]||(t[8]=function(t){return e.clientBanner.newAttachment=t}),method:e.clientBanner.method,"onUpdate:method":t[9]||(t[9]=function(t){return e.clientBanner.method=t}),label:e.$t("admin.client_banner"),"button-label":e.$t("general.browse"),file:e.clientBanner.oldAttachment,rules:a.rules.clientBanner,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:182,height:50}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{newFile:e.loginBanner.newAttachment,"onUpdate:newFile":t[10]||(t[10]=function(t){return e.loginBanner.newAttachment=t}),method:e.loginBanner.method,"onUpdate:method":t[11]||(t[11]=function(t){return e.loginBanner.method=t}),label:e.$t("admin.login_banner"),"button-label":e.$t("general.browse"),file:e.loginBanner.oldAttachment,rules:a.rules.loginBanner,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:340,height:65}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",rs,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-sm-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.social_media_images")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:e.showSocialMediaImages,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.showSocialMediaImages=t})},null,8,["modelValue"])])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createElementVNode"])("div",ls,[Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.reset_to_default"),onClick:a.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.preview"),onClick:a.onClickPreview},null,8,["label","onClick"]),Object(o["createVNode"])(h,{type:"submit","display-type":"secondary",label:e.$t("general.publish")},null,8,["label"])])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var is=n("ade3");function us(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.refName,a=void 0===n?"formRef":n,r=Object(o["ref"])(),l=function(){var e;return null===(e=r.value)||void 0===e?void 0:e.onSubmit(new Event("submit"))},c=function(){var e;return null===(e=r.value)||void 0===e?void 0:e.onReset()},i=function(){var e;return null===(e=r.value)||void 0===e?void 0:e.validate()},u=Object(o["computed"])((function(){var e;return null===(e=r.value)||void 0===e?void 0:e.isFromInvalid})),d=Object(o["computed"])((function(){var e;return null===(e=r.value)||void 0===e?void 0:e.errorbag}));return e={reset:c,submit:l,validate:i},Object(is["a"])(e,a,r),Object(is["a"])(e,"errorbag",d),Object(is["a"])(e,"invalid",u),e}function ds(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-label"),i=Object(o["resolveComponent"])("oxd-color-input"),u=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{class:"oxd-input-field-bottom-space",message:a.message,classes:a.classes},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:n.label,class:Object(o["normalizeClass"])(a.classes.label)},null,8,["label","class"]),Object(o["createVNode"])(i,Object(o["mergeProps"])(e.$attrs,{disabled:n.disabled,"has-error":a.hasError,"model-value":n.modelValue,"dropdown-position":"left","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})}),null,16,["disabled","has-error","model-value"])]})),_:1},8,["message","classes"])}var ss=n("0556"),ms=n("a83c"),bs=n("17a7"),ps={name:"InlineColorInput",components:{"oxd-label":ms["a"],"oxd-color-input":bs["a"]},inheritAttrs:!1,props:{label:{type:String,default:null,required:!1},rules:{type:Array,default:function(){return[]},required:!1},required:{type:Boolean,default:!1,required:!1},modelValue:{type:String,default:null,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup:function(e,t){var n,a=Object(o["toRef"])(e,"disabled"),r=Object(o["toRef"])(e,"modelValue"),l=r.value,c=function(){var e=Object(fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.emit("update:modelValue",l),e.next=3,Object(o["nextTick"])();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=Object(ss["a"])({fieldLabel:null!==(n=e.label)&&void 0!==n?n:"",rules:e.rules,modelValue:r,onReset:c,disabled:a}),u=i.hasError,d=i.message,s=Object(o["computed"])((function(){return{label:{"oxd-input-field-required":e.required},message:{"oxd-input-field-error-message":u},wrapper:{"orangehrm-color-input-wrapper":!0}}}));return{classes:s,message:d,hasError:u}}};n("a7b3");const fs=C()(ps,[["render",ds],["__scopeId","data-v-6a6d6b60"]]);var hs=fs,js={primaryColor:null,primaryFontColor:null,secondaryColor:null,secondaryFontColor:null,primaryGradientStartColor:null,primaryGradientEndColor:null},Os={oldAttachment:null,newAttachment:null,method:"keepCurrent"},vs={components:{"oxd-switch-input":Pa["a"],"file-upload-input":io,"inline-color-input":hs},props:{allowedImageTypes:{type:Array,required:!0},aspectRatios:{type:Object,required:!0},aspectRatioTolerance:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/admin/theme"),n=Gt(),a=n.saveSuccess,r=us(),l=r.formRef,c=r.invalid,i=r.validate,u=Object(o["reactive"])({isLoading:!1,colors:Object(M["a"])({},js),clientLogo:Object(M["a"])({},Os),clientBanner:Object(M["a"])({},Os),loginBanner:Object(M["a"])({},Os),showSocialMediaImages:!0}),d={color:[On,Wn],clientLogo:[function(e){return"replaceCurrent"!==u.clientLogo.method||On(e)},Tn(1048576),Hn(e.aspectRatios.clientLogo,e.aspectRatioTolerance),In(e.allowedImageTypes)],clientBanner:[function(e){return"replaceCurrent"!==u.clientBanner.method||On(e)},Tn(1048576),Hn(e.aspectRatios.clientBanner,e.aspectRatioTolerance),In(e.allowedImageTypes)],loginBanner:[function(e){return"replaceCurrent"!==u.loginBanner.method||On(e)},Tn(1048576),Hn(e.aspectRatios.loginBanner,e.aspectRatioTolerance),In(e.allowedImageTypes)]},s=function(){var e=function(e){if(null===e.method||"replaceCurrent"===e.method)return e.newAttachment};u.isLoading=!0,t.request({method:"PUT",url:"/api/v2/admin/theme",data:{variables:u.colors,showSocialMediaImages:u.showSocialMediaImages,currentClientLogo:u.clientLogo.method,clientLogo:e(u.clientLogo),currentClientBanner:u.clientBanner.method,clientBanner:e(u.clientBanner),currentLoginBanner:u.loginBanner.method,loginBanner:e(u.loginBanner)}}).then((function(){return a()})).then((function(){return ee()}))},m=function(){u.isLoading=!0,t.request({method:"DELETE",url:"/api/v2/admin/theme"}).then((function(){return ee()}))},b=function(){i().then((function(){!0!==c.value&&(u.isLoading=!0,t.request({method:"POST",url:"/api/v2/admin/theme/preview",data:Object(M["a"])({},u.colors)}).then((function(e){var t=e.data.data;for(var n in t){var o=t[n];document.documentElement.style.setProperty(n,o)}})).finally((function(){return u.isLoading=!1})))}))};return Object(o["onBeforeMount"])((function(){u.isLoading=!0,t.getAll().then((function(e){var t=e.data.data,n=t.clientLogo,o=t.clientBanner,a=t.loginBanner,r=t.showSocialMediaImages,l=t.variables;u.colors=l,null===n?u.clientLogo.method=null:(u.clientLogo.oldAttachment=n,u.clientLogo.oldAttachment.id="clientLogo"),null===o?u.clientBanner.method=null:(u.clientBanner.oldAttachment=o,u.clientBanner.oldAttachment.id="clientBanner"),null===a?u.loginBanner.method=null:(u.loginBanner.oldAttachment=a,u.loginBanner.oldAttachment.id="loginBanner"),u.showSocialMediaImages=r})).finally((function(){return u.isLoading=!1}))})),Object(M["a"])({rules:d,formRef:l,onFormSubmit:s,onClickReset:m,onClickPreview:b},Object(o["toRefs"])(u))}};n("2c58");const gs=C()(vs,[["render",cs],["__scopeId","data-v-93cdb0aa"]]);var Cs=gs,ys={class:"orangehrm-background-container"},Vs={class:"orangehrm-paper-container"},ws={class:"orangehrm-header-container"},xs={class:"orangehrm-container"},Ds={class:"orangehrm-bottom-container"};function Ns(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("add-language-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ys,[Object(o["createElementVNode"])("div",Vs,[Object(o["createElementVNode"])("div",ws,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.language_packages")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAddLanguage},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{loading:a.isLoading,total:a.total,selected:0},null,8,["loading","total"]),Object(o["createElementVNode"])("div",xs,[Object(o["createVNode"])(s,{order:a.sortDefinition,"onUpdate:order":t[0]||(t[0]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(o["createElementVNode"])("div",Ds,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),r.showAddLanguageModal?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,onClose:l.onAddLanguageModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])}var _s={class:"orangehrm-modal-header"},ks={class:"addlanguage-note"},Es={class:"addlanguage-note-text"};function Ss(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("languages-dropdown"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form"),f=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(f,{"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",_s,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.add_language_package")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language=e}),rules:r.rules.language},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ks,[Object(o["createElementVNode"])("div",Es,[Object(o["createVNode"])(c,{class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.note")),1)]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.translate_text_manually")),1)]})),_:1})])])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,{class:"orangehrm-form-action"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(m,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}function As(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("general.name"),options:a.options,required:""},null,8,["label","options"])}var $s={name:"LanguagesDropdown",setup:function(){var e=Object(o["ref"])([]),t=new te(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages?limit=0");return Object(o["onBeforeMount"])((function(){t.getAll({activeOnly:!1}).then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.name}}))}))})),{options:e}}};const Fs=C()($s,[["render",As]]);var Bs=Fs,Ts={name:"AddLanguageModal",components:{"oxd-dialog":oe["a"],"languages-dropdown":Bs},emits:["close"],setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages");return{http:e}},data:function(){return{isLoading:!1,language:null,rules:{language:[On]}}},methods:{onSave:function(){var e=this;this.http.update(this.language.id,null).then((function(t){if(t)return e.$toast.saveSuccess()})).then((function(){e.isLoading=!1,e.$emit("close")}))},onCancel:function(){this.$emit("close")}}};n("90b2");const Is=C()(Ts,[["render",Ss],["__scopeId","data-v-743bc56c"]]);var Ls=Is,Us={languageName:""},Ps={languageName:"ASC"},qs={name:"LanguagePackageList",components:{"add-language-modal":Ls},setup:function(){var e=Object(o["ref"])(Object(M["a"])({},Us)),t=ln({sortDefinition:Ps}),n=t.sortDefinition,a=t.sortOrder,r=t.onSort,l=Object(o["computed"])((function(){return{sortOrder:a.value,activeOnly:!0}})),c=new te(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages"),i=Kt(c,{query:l}),u=i.showPaginator,d=i.currentPage,s=i.total,m=i.pages,b=i.pageSize,p=i.response,f=i.isLoading,h=i.execQuery;return r(h),{http:c,showPaginator:u,currentPage:d,isLoading:f,total:s,pages:m,pageSize:b,execQuery:h,items:p,filters:e,sortDefinition:n}},data:function(){return{showAddLanguageModal:!1,headers:[{name:"name",slot:"title",title:this.$t("general.language_packages"),sortField:"languageName",style:{flex:"70%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",style:{flex:"30%"},cellConfig:{translate:{component:"oxd-button",onClick:this.onClickTranslate,props:{label:this.$t("admin.translate"),style:"Text",displayType:"text"}},export:{component:"oxd-button",props:{label:this.$t("admin.export"),displayType:"text",size:"medium"},onClick:this.onClickExport}}}]}},methods:{onClickAddLanguage:function(){this.showAddLanguageModal=!0},onAddLanguageModalClose:function(){this.showAddLanguageModal=!1,this.reloadLanguages()},onCancel:function(){Z("/admin/languagePackage")},reloadLanguages:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickTranslate:function(e){Z("/admin/languageCustomization/{id}",{id:e.id})},onClickExport:function(e){var t=K("/admin/viewLanguagePackage/languageId/{languageId}",{languageId:e.id});window.open(t,"_blank")}}};n("921b");const Rs=C()(qs,[["render",Ns],["__scopeId","data-v-745f4367"]]);var Ms=Rs,zs=function(e){return Object(o["pushScopeId"])("data-v-0b39a3b5"),e=e(),Object(o["popScopeId"])(),e},Gs={class:"orangehrm-background-container"},Qs=zs((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Ws={class:"orangehrm-paper-container"},Hs={class:"orangehrm-header-container"},Js={class:"orangehrm-bottom-container"};function Ys(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("language-group-list-dropdown"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("oxd-pagination"),O=Object(o["resolveComponent"])("table-header"),v=Object(o["resolveComponent"])("edit-translations");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Gs,[Object(o["createVNode"])(h,{"filter-title":e.$t("admin.translate_language_package")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:a.onSubmit,onReset:a.onReset},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{value:n.languagePackage,label:e.$t("admin.language_package"),disabled:""},null,8,["value","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{value:n.sourceLanguage,label:e.$t("admin.source_language"),disabled:""},null,8,["value","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.groupId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.groupId=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.sourceText,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.sourceText=e}),label:e.$t("admin.source_text")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.translatedText,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.translatedText=e}),label:e.$t("admin.translated_text")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.onlyTranslated,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.onlyTranslated=e}),type:"select",label:e.$t("admin.show"),options:a.translationOptions},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.sortOrder,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.sortOrder=e}),type:"select",label:e.$t("admin.order"),options:a.sortOptions},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),Qs,Object(o["createElementVNode"])("div",Ws,[a.total>0?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,loading:a.isLoading,onSubmitValid:a.onSubmitLangString,onReset:a.onReset},{default:Object(o["withCtx"])((function(){var n;return[Object(o["createElementVNode"])("div",Hs,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:a.currentPage,current:a.currentPage,"onUpdate:current":t[5]||(t[5]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(O,{loading:a.isLoading,total:a.total,selected:0},null,8,["loading","total"]),null!==(n=a.items)&&void 0!==n&&n.data?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,langstrings:a.items.data,"onUpdate:langstrings":t[6]||(t[6]=function(e){return a.items.data=e})},null,8,["langstrings"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Js,[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])])])]})),_:1})]})),_:1},8,["loading","onSubmitValid","onReset"])):Object(o["createCommentVNode"])("",!0)])])}var Xs={class:"orangehrm-translation-container"};function Ks(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-divider"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-grid");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xs,[Object(o["createVNode"])(c),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-translation-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"orangehrm-translation-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.source_text")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-translation-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.source_note")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-translation-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.translated_text")),1)]})),_:1})]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.langstrings,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:n},[Object(o["createVNode"])(u,{class:"orangehrm-translation-grid-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-translation-grid-langstring-header",type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.source_text")),1)]})),_:1}),Object(o["createVNode"])(i,{title:t.source},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.source),1)]})),_:2},1032,["title"])]})),_:2},1024),Object(o["createVNode"])(u,{class:"orangehrm-translation-grid-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-translation-grid-langstring-header-note",type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.source_note")),1)]})),_:1}),Object(o["createVNode"])(i,{title:t.note,class:"orangehrm-translation-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.note),1)]})),_:2},1032,["title"])]})),_:2},1024),Object(o["createVNode"])(u,{class:"orangehrm-translation-grid-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-translation-grid-langstring-header",type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.translated_text")),1)]})),_:1}),Object(o["createVNode"])(d,{type:"input",placeholder:t.target,"model-value":t.target,rules:a.rules.langString,"onUpdate:modelValue":function(e){return a.onUpdateTranslation(e,n)}},null,8,["placeholder","model-value","rules","onUpdate:modelValue"]),Object(o["createVNode"])(c,{class:"orangehrm-translation-grid-langstring-header"})]})),_:2},1024)],64)})),128))]})),_:1}),Object(o["createVNode"])(c)])}var Zs={props:{langstrings:{type:Array,required:!0}},emits:["update:langstrings"],setup:function(e,t){var n=function(n,o){t.emit("update:langstrings",e.langstrings.map((function(e,t){return t===o?Object(M["a"])(Object(M["a"])({},e),{},{target:n,modified:!0}):e})))};return{onUpdateTranslation:n,rules:{langString:[Xn]}}}};n("3162");const em=C()(Zs,[["render",Ks],["__scopeId","data-v-101823a2"]]);var tm=em;function nm(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("admin.module"),options:a.options},null,8,["label","options"])}var om={name:"GroupListDropdown",setup:function(){var e=Object(o["ref"])([]),t=new te(window.appGlobal.baseUrl,"/api/v2/admin/i18n/groups");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.title}}))}))})),{options:e}}};const am=C()(om,[["render",nm]]);var rm=am,lm={sourceText:null,translatedText:null,groupId:null,sortOrder:null,onlyTranslated:null},cm={name:"LanguageTranslationList",components:{"language-group-list-dropdown":rm,"edit-translations":tm},props:{languageId:{type:Number,required:!0},languagePackage:{type:String,required:!0},sourceLanguage:{type:String,required:!0}},setup:function(e){var t=Je(),n=t.$t,a=Gt(),r=a.saveSuccess,l=Object(o["ref"])([{id:1,label:n("admin.all"),value:null},{id:2,label:n("admin.translated"),value:!0},{id:3,label:n("admin.not_translated"),value:!1}]),c=Object(o["ref"])([{id:"ASC",label:n("general.ascending")},{id:"DESC",label:n("general.descending")}]),i=Object(o["ref"])(Object(M["a"])(Object(M["a"])({},lm),{},{sortOrder:c.value[0],onlyTranslated:l.value[0]})),u=Object(o["computed"])((function(){var e,t,n;return{sourceText:i.value.sourceText,translatedText:i.value.translatedText,groupId:null===(e=i.value.groupId)||void 0===e?void 0:e.id,sortOrder:null===(t=i.value.sortOrder)||void 0===t?void 0:t.id,onlyTranslated:null===(n=i.value.onlyTranslated)||void 0===n?void 0:n.value}})),d=new te(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages/".concat(e.languageId,"/translations")),s=Kt(d,{query:u}),m=s.showPaginator,b=s.currentPage,p=s.total,f=s.pages,h=s.response,j=s.isLoading,O=s.execQuery,v=function(){b.value=1,i.value=Object(M["a"])(Object(M["a"])({},lm),{},{sortOrder:c.value[0]}),O()},g=function(){b.value=1,O()},C=function(){j.value=!0,d.request({method:"PUT",url:"/api/v2/admin/i18n/languages/".concat(e.languageId,"/translations/bulk"),data:{data:h.value.data.filter((function(e){return null!==e.target&&1==e.modified})).map((function(e){return{langStringId:e.langStringId,translatedValue:e.target}}))}}).then((function(){return r()})).then((function(){return ee()}))};return{showPaginator:m,currentPage:b,isLoading:j,total:p,pages:f,items:h,filters:i,translationOptions:l,sortOptions:c,onReset:v,onSubmit:g,onSubmitLangString:C}}};n("4a14");const im=C()(cm,[["render",Ys],["__scopeId","data-v-0b39a3b5"]]);var um=im,dm=function(e){return Object(o["pushScopeId"])("data-v-0fd04af0"),e=e(),Object(o["popScopeId"])(),e},sm={class:"orangehrm-background-container"},mm={class:"orangehrm-card-container"},bm={class:"orangehrm-header-container"},pm=dm((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function fm(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-switch-input"),u=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-icon"),f=Object(o["resolveComponent"])("oxd-alert"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("ldap-test-connection-modal"),g=Object(o["resolveComponent"])("ldap-sync-connection");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",sm,[Object(o["createElementVNode"])("div",mm,[Object(o["createElementVNode"])("div",bm,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.ldap_configuration")),1)]})),_:1}),Object(o["createVNode"])(i,{modelValue:r.configuration.enable,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.configuration.enable=e}),"label-position":"left","option-label":e.$t("general.enable")},null,8,["modelValue","option-label"])]),Object(o["createVNode"])(u),Object(o["createVNode"])(O,{ref:"formRef",loading:r.isLoading},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-subtitle"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.server_settings")),1)]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.hostname,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.configuration.hostname=e}),label:e.$t("admin.host"),rules:r.rules.hostname,required:""},null,8,["modelValue","label","rules"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.ldap_host_input_hint")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{class:"orangehrm-column-half"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.port,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.configuration.port=e}),label:e.$t("admin.port"),rules:r.rules.port,required:""},null,8,["modelValue","label","rules"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.port_input_hint")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.encryption,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.configuration.encryption=e}),type:"select",options:r.encryptionOptions,label:e.$t("admin.encryption")},null,8,["modelValue","options","label"])]})),_:1}),Object(o["createVNode"])(s,{class:"--offset-row-3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.ldapImplementation,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.configuration.ldapImplementation=e}),type:"select","show-empty-selector":!1,options:r.ldapImplementationOptions,label:e.$t("admin.ldap_implementation")},null,8,["modelValue","options","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-form-divider"}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-subtitle"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.bind_settings")),1)]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"orangehrm-ldap-switch"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-ldap-switch-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.bind_anonymously")),1)]})),_:1}),Object(o["createVNode"])(i,{modelValue:r.configuration.bindAnonymously,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.configuration.bindAnonymously=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),r.configuration.bindAnonymously?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.bindUserDN,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.configuration.bindUserDN=e}),label:e.$t("admin.distinguished_name"),rules:r.rules.bindUserDN,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.bindUserPassword,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.configuration.bindUserPassword=e}),type:"password",label:e.$t("general.password"),placeholder:l.passwordPlaceHolder,rules:r.rules.bindUserPassword,required:!r.configuration.hasBindUserPassword},null,8,["modelValue","label","placeholder","rules","required"])]})),_:1})]})),_:1})]})),_:1})),Object(o["createVNode"])(u,{class:"orangehrm-form-divider"}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-subtitle"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.user_lookup_settings")),1)]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.baseDistinguishedName,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.configuration.baseDistinguishedName=e}),label:e.$t("admin.base_distinguished_name"),rules:r.rules.baseDistinguishedName,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.searchScope,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.configuration.searchScope=e}),type:"select","show-empty-selector":!1,options:r.searchScopeOptions,label:e.$t("admin.search_scope")},null,8,["modelValue","options","label"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.search_scope_input_hint")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{class:"--offset-row-3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.userNameAttribute,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.configuration.userNameAttribute=e}),label:e.$t("admin.user_name_attribute"),rules:r.rules.userNameAttribute,required:""},null,8,["modelValue","label","rules"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.user_name_input_hint")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{class:"--offset-row-4"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.userSearchFilter,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.configuration.userSearchFilter=e}),label:e.$t("admin.user_search_filter"),rules:r.rules.userSearchFilter,required:""},null,8,["modelValue","label","rules"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.user_search_filter_input_hint")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{class:"--offset-row-5"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.userUniqueIdAttribute,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.configuration.userUniqueIdAttribute=e}),label:e.$t("admin.user_unique_id_attribute"),rules:r.rules.userUniqueIdAttribute},null,8,["modelValue","label","rules"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.user_unique_attribute_input_hint")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-form-divider"}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-subtitle"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.data_mapping")),1)]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-ldap-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.field_in_orangehrm")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.field_in_ldap_directory")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.use_this_field_as_the_employee_user_mapping_field")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"oxd-input-field-required"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.first_name")),1)]})),_:1}),Object(o["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.dataMapping.firstName,"onUpdate:modelValue":t[13]||(t[13]=function(e){return r.configuration.dataMapping.firstName=e}),rules:r.rules.firstNameAttribute,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.middle_name")),1)]})),_:1}),Object(o["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.dataMapping.middleName,"onUpdate:modelValue":t[14]||(t[14]=function(e){return r.configuration.dataMapping.middleName=e}),rules:r.rules.middleNameAttribute},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"oxd-input-field-required"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.last_name")),1)]})),_:1}),Object(o["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.dataMapping.lastName,"onUpdate:modelValue":t[15]||(t[15]=function(e){return r.configuration.dataMapping.lastName=e}),rules:r.rules.lastNameAttribute},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.user_status")),1)]})),_:1}),Object(o["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.dataMapping.userStatus,"onUpdate:modelValue":t[16]||(t[16]=function(e){return r.configuration.dataMapping.userStatus=e}),rules:r.rules.userStatusAttribute},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:Object(o["normalizeClass"])(l.workEmailLabelClasses)},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.work_email")),1)]})),_:1},8,["class"]),Object(o["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{key:r.configuration.employeeSelectorMapping,modelValue:r.configuration.dataMapping.workEmail,"onUpdate:modelValue":t[17]||(t[17]=function(e){return r.configuration.dataMapping.workEmail=e}),rules:r.rules.workEmailAttribute},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:r.configuration.employeeSelectorMapping,"onUpdate:modelValue":t[18]||(t[18]=function(e){return r.configuration.employeeSelectorMapping=e}),"true-value":"workEmail"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(s,{class:"orangehrm-ldap-grid-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:Object(o["normalizeClass"])(l.employeeIdLabelClasses)},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.employee_id")),1)]})),_:1},8,["class"]),Object(o["createVNode"])(p,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{key:r.configuration.employeeSelectorMapping,modelValue:r.configuration.dataMapping.employeeId,"onUpdate:modelValue":t[19]||(t[19]=function(e){return r.configuration.dataMapping.employeeId=e}),rules:r.rules.employeeIdAttribute},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:r.configuration.employeeSelectorMapping,"onUpdate:modelValue":t[20]||(t[20]=function(e){return r.configuration.employeeSelectorMapping=e}),"true-value":"employeeId"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-form-divider"}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-subtitle"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.additional_settings")),1)]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"orangehrm-ldap-switch --offset-row-1"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-ldap-switch-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.merge_ldap_users_with_existing_system_users")),1)]})),_:1}),Object(o["createVNode"])(i,{modelValue:r.configuration.mergeLDAPUsersWithExistingSystemUsers,"onUpdate:modelValue":t[21]||(t[21]=function(e){return r.configuration.mergeLDAPUsersWithExistingSystemUsers=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(s,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.configuration.syncInterval,"onUpdate:modelValue":t[22]||(t[22]=function(e){return r.configuration.syncInterval=e}),label:e.$t("admin.sync_interval"),rules:r.rules.syncInterval,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f,{type:"warn",show:!0,message:e.$t("admin.ldap_configuration_warning_message")},null,8,["message"]),Object(o["createVNode"])(u),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("admin.test_connection"),onClick:l.onClickTest},null,8,["label","onClick"]),Object(o["createVNode"])(h,{type:"button",class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),onClick:l.onClickSave},null,8,["label","onClick"])]})),_:1})]})),_:1},8,["loading"])]),r.testModalState?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,data:r.testModalState,onClose:l.onCloseTestModal},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0),pm,n.showSync?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:1})):Object(o["createCommentVNode"])("",!0)])}var hm={class:"orangehrm-paper-container"},jm={class:"orangehrm-header-container"},Om={class:"orangehrm-ldap-sync"};function vm(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-loading-spinner"),u=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",hm,[Object(o["createElementVNode"])("div",jm,[Object(o["createElementVNode"])("div",Om,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.sync_connection")),1)]})),_:1}),Object(o["withDirectives"])(Object(o["createVNode"])(c,{type:"card-body",class:"orangehrm-ldap-sync-time"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(" ("+Object(o["toDisplayString"])(l.lastSync)+") ",1)]})),_:1},512),[[o["vShow"],l.lastSync]])]),r.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"orangehrm-ldap-sync-loader"})):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,"display-type":"secondary",class:"orangehrm-ldap-sync-button",label:e.$t("admin.sync_now"),onClick:l.onClickSync},null,8,["label","onClick"]))])])}var gm={name:"LdapSyncConnection",components:{"oxd-loading-spinner":ne["a"]},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/ldap/user-sync"),t=de(),n=t.jsDateFormat;return{http:e,jsDateFormat:n}},data:function(){return{isLoading:!1,lastSyncDate:null,lastSyncTime:null,lastSyncStatus:null}},computed:{lastSync:function(){if(2===this.lastSyncStatus)return null;if(this.lastSyncDate&&this.lastSyncTime){var e=_e("".concat(this.lastSyncDate," ").concat(this.lastSyncTime," +00:00"),"yyyy-MM-dd HH:mm xxx");return this.$t(1===this.lastSyncStatus?"admin.last_synced_on_datetime":"admin.last_sync_failed_on_datetime",{datetime:ke(e,"hh:mm a ".concat(this.jsDateFormat))})}return null}},beforeMount:function(){this.getLastSyncStatus()},methods:{getLastSyncStatus:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n,o,a,r,l=t.data.data;e.lastSyncStatus=l.syncStatus,e.lastSyncDate=(null===(n=l.syncFinishedAt)||void 0===n?void 0:n.date)||(null===(o=l.syncStartedAt)||void 0===o?void 0:o.date),e.lastSyncTime=(null===(a=l.syncFinishedAt)||void 0===a?void 0:a.time)||(null===(r=l.syncStartedAt)||void 0===r?void 0:r.time)})).finally((function(){e.isLoading=!1}))},onClickSync:function(){var e=this;this.isLoading=!0,this.http.create().then((function(t){var n,o,a,r,l=t.data.data;e.lastSyncStatus=l.syncStatus,e.lastSyncDate=(null===(n=l.syncFinishedAt)||void 0===n?void 0:n.date)||(null===(o=l.syncStartedAt)||void 0===o?void 0:o.date),e.lastSyncTime=(null===(a=l.syncFinishedAt)||void 0===a?void 0:a.time)||(null===(r=l.syncStartedAt)||void 0===r?void 0:r.time),e.$toast.success({title:e.$t("general.success"),message:e.$t("admin.synchronization_successful")})})).catch((function(){e.getLastSyncStatus(),e.$toast.error({title:e.$t("general.error"),message:e.$t("admin.synchronization_failed")})})).finally((function(){e.isLoading=!1}))}}};n("ab83");const Cm=C()(gm,[["render",vm],["__scopeId","data-v-96867eca"]]);var ym=Cm,Vm={class:"orangehrm-modal-header"};function wm(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Vm,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.connection_status")),1)]})),_:1})]),Object(o["createVNode"])(i),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.data,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e,class:"orangehrm-ldap-test"},[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-ldap-test-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.category),1)]})),_:2},1024),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.checks,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t,class:"orangehrm-ldap-test-row"},[Object(o["createVNode"])(c,{class:"orangehrm-ldap-test-content"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:2},1024),Object(o["createVNode"])(c,{class:Object(o["normalizeClass"])(l.getClass(e.value.status))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value.message),1)]})),_:2},1032,["class"])])})),128))])})),128))]})),_:1},8,["onUpdate:show"])}var xm={name:"LdapTestConnectionModal",components:{"oxd-dialog":oe["a"]},props:{data:{type:Array,default:function(){return[]}}},emits:["close"],methods:{getClass:function(e){return 1===e?"orangehrm-ldap-test-value --success":"orangehrm-ldap-test-value --error"},onCancel:function(){this.$emit("close")}}};n("e710");const Dm=C()(xm,[["render",wm],["__scopeId","data-v-ae942d86"]]);var Nm=Dm,_m={enable:!1,hostname:"localhost",port:389,encryption:null,ldapImplementation:null,bindAnonymously:!0,bindUserDN:null,bindUserPassword:null,baseDistinguishedName:null,searchScope:null,userNameAttribute:"cn",userSearchFilter:"objectClass=person",userUniqueIdAttribute:null,mergeLDAPUsersWithExistingSystemUsers:!1,syncInterval:1,employeeSelectorMapping:"",hasBindUserPassword:!1},km={firstName:"givenName",lastName:"sn",middleName:null,userStatus:null,workEmail:null,employeeId:null},Em={components:{"oxd-icon":ro["a"],"oxd-alert":ct["a"],"oxd-switch-input":Pa["a"],"ldap-sync-connection":ym,"ldap-test-connection-modal":Nm},props:{showSync:{type:Boolean,default:!1}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/ldap-config"),t=us(),n=t.formRef,o=t.invalid,a=t.validate;return{http:e,formRef:n,invalid:o,validate:a}},data:function(){var e=this;return{isLoading:!1,configuration:Object(M["a"])(Object(M["a"])({},_m),{},{dataMapping:Object(M["a"])({},km)}),encryptionOptions:[{id:"tls",label:this.$t("admin.tls")},{id:"ssl",label:this.$t("admin.ssl")}],searchScopeOptions:[{id:"sub",label:this.$t("admin.subtree")},{id:"one",label:this.$t("admin.one_level")}],ldapImplementationOptions:[{id:"OpenLDAP",label:this.$t("admin.open_ldap_v3")},{id:"ActiveDirectory",label:this.$t("admin.ms_active_directory")}],rules:{hostname:[On,Zn,vn(255)],port:[On,eo(5,0,65535)],bindUserDN:[On,vn(255)],bindUserPassword:[function(t){return e.configuration.hasBindUserPassword||On(t)},vn(255)],baseDistinguishedName:[On,vn(255)],userNameAttribute:[On,vn(100)],userSearchFilter:[On,vn(100)],userUniqueIdAttribute:[vn(100)],firstNameAttribute:[On,vn(100)],lastNameAttribute:[On,vn(100)],syncInterval:[On,wn,Qn(1,23)],middleNameAttribute:[vn(100)],userStatusAttribute:[vn(100)],workEmailAttribute:[function(t){return"workEmail"!==e.configuration.employeeSelectorMapping||On(t)},vn(100)],employeeIdAttribute:[function(t){return"employeeId"!==e.configuration.employeeSelectorMapping||On(t)},vn(100)]},testModalState:null}},computed:{passwordPlaceHolder:function(){return this.configuration.hasBindUserPassword?"********":null},workEmailLabelClasses:function(){return{"oxd-input-field-required":"workEmail"===this.configuration.employeeSelectorMapping}},employeeIdLabelClasses:function(){return{"oxd-input-field-required":"employeeId"===this.configuration.employeeSelectorMapping}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data,o=n.userLookupSettings,a=o[0];e.configuration.enable=n.enable,e.configuration.hostname=n.hostname,e.configuration.port=n.port,e.configuration.encryption=e.encryptionOptions.find((function(e){return e.id===n.encryption})),e.configuration.ldapImplementation=e.ldapImplementationOptions.find((function(e){return e.id===n.ldapImplementation}))||e.ldapImplementationOptions[0],e.configuration.bindAnonymously=n.bindAnonymously,e.configuration.bindUserDN=n.bindUserDN,e.configuration.hasBindUserPassword=n.hasBindUserPassword,a&&(e.configuration.baseDistinguishedName=null===a||void 0===a?void 0:a.baseDN,e.configuration.userNameAttribute=null===a||void 0===a?void 0:a.userNameAttribute,e.configuration.userSearchFilter=null===a||void 0===a?void 0:a.userSearchFilter,e.configuration.userUniqueIdAttribute=null===a||void 0===a?void 0:a.userUniqueIdAttribute,Array.isArray(null===a||void 0===a?void 0:a.employeeSelectorMapping)&&(0===a.employeeSelectorMapping.length?e.configuration.employeeSelectorMapping="":e.configuration.employeeSelectorMapping=a.employeeSelectorMapping[0]["field"])),e.configuration.searchScope=e.searchScopeOptions.find((function(e){return e.id===(null===a||void 0===a?void 0:a.searchScope)}))||e.searchScopeOptions[0],e.configuration.dataMapping=n.dataMapping,e.configuration.mergeLDAPUsersWithExistingSystemUsers=n.mergeLDAPUsersWithExistingSystemUsers,e.configuration.syncInterval=n.syncInterval})).finally((function(){e.isLoading=!1}))},methods:{onClickTest:function(){var e=this;this.validate().then((function(){if(!0!==e.invalid){e.isLoading=!0;var t=e.getRequestBody();delete t.enable,delete t.syncInterval,e.http.request({method:"POST",url:"api/v2/admin/ldap-test-connection",data:t}).then((function(t){var n=t.data.data;e.testModalState=n})).finally((function(){return e.isLoading=!1}))}}))},getRequestBody:function(){var e,t,n,o;return this.configuration.employeeSelectorMapping&&(o=[{field:this.configuration.employeeSelectorMapping,attributeName:this.configuration.dataMapping[this.configuration.employeeSelectorMapping]}]),{enable:this.configuration.enable,hostname:this.configuration.hostname,port:parseInt(this.configuration.port),encryption:(null===(e=this.configuration.encryption)||void 0===e?void 0:e.id)||"none",ldapImplementation:null===(t=this.configuration.ldapImplementation)||void 0===t?void 0:t.id,bindAnonymously:this.configuration.bindAnonymously,bindUserDN:this.configuration.bindUserDN,bindUserPassword:this.configuration.bindUserPassword,userLookupSettings:[{baseDN:this.configuration.baseDistinguishedName,searchScope:null===(n=this.configuration.searchScope)||void 0===n?void 0:n.id,userNameAttribute:this.configuration.userNameAttribute,userSearchFilter:this.configuration.userSearchFilter,userUniqueIdAttribute:this.configuration.userUniqueIdAttribute,employeeSelectorMapping:o||[]}],dataMapping:this.configuration.dataMapping,mergeLDAPUsersWithExistingSystemUsers:this.configuration.mergeLDAPUsersWithExistingSystemUsers,syncInterval:parseInt(this.configuration.syncInterval)}},onClickSave:function(){var e=this;this.validate().then((function(){!0!==e.invalid&&(e.isLoading=!0,e.http.request({method:"PUT",data:e.getRequestBody()}).then((function(){return e.$toast.updateSuccess()})).finally((function(){return ee()})))}))},onCloseTestModal:function(){this.testModalState=null}}};n("4872");const Sm=C()(Em,[["render",fm],["__scopeId","data-v-0fd04af0"]]);var Am=Sm,$m={"job-title-list":mn,"job-title-edit":bo,"job-title-save":go,"job-category-list":ko,"job-category-edit":Bo,"job-category-save":qo,"qualification-education-list":Sr,"qualification-education-edit":Ir,"qualification-education-save":Mr,"system-user-list":ra,"system-user-edit":_a,"system-user-save":Ca,"organization-structure":tr,"employment-status-list":hr,"employment-status-save":yr,"employment-status-edit":cr,"qualification-skill-list":Kr,"qualification-skill-edit":rl,"qualification-skill-save":ml,"license-list":$l,"license-save":wl,"license-edit":Ol,"module-configuration-edit":Ru,"qualification-language-list":ec,"qualification-language-edit":Ul,"qualification-language-save":Gl,"qualification-membership-list":uc,"qualification-membership-edit":fc,"qualification-membership-save":Cc,"organization-general-information-view":_c,"nationality-list":Ic,"nationality-edit":Mc,"nationality-save":Jc,"location-list":ji,"location-save":wi,"location-edit":Si,"email-configuration-view":ai,"pay-grade-list":qi,"pay-grade-add":Wi,"pay-grade-edit":Du,"work-shift-list":Ku,"work-shift-save":ud,"work-shift-edit":jd,"email-subscription-list":Dd,"email-subscription-edit":Wd,"localization-configuration":Zd,"corporate-branding":Cs,"language-package-list":Ms,"language-translation-edit":um,"ldap-configuration":Am},Fm={class:"orangehrm-background-container"},Bm={class:"orangehrm-card-container"},Tm={class:"orangehrm-employee-container"},Im={class:"orangehrm-employee-image"},Lm={class:"orangehrm-employee-form"};function Um(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("profile-image-input"),d=Object(o["resolveComponent"])("full-name-input"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-input-field"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("oxd-switch-input"),h=Object(o["resolveComponent"])("oxd-input-group"),j=Object(o["resolveComponent"])("password-input"),O=Object(o["resolveComponent"])("required-text"),v=Object(o["resolveComponent"])("oxd-button"),g=Object(o["resolveComponent"])("submit-button"),C=Object(o["resolveComponent"])("oxd-form-actions"),y=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fm,[Object(o["createElementVNode"])("div",Bm,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_employee")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(y,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Tm,[Object(o["createElementVNode"])("div",Im,[Object(o["createVNode"])(u,{modelValue:a.employee.empPicture,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.employee.empPicture=e}),rules:r.rules.empPicture,"img-src":l.profilePicUrl},null,8,["modelValue","rules","img-src"])]),Object(o["createElementVNode"])("div",Lm,[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{firstName:a.employee.firstName,"onUpdate:firstName":t[1]||(t[1]=function(e){return a.employee.firstName=e}),middleName:a.employee.middleName,"onUpdate:middleName":t[2]||(t[2]=function(e){return a.employee.middleName=e}),lastName:a.employee.lastName,"onUpdate:lastName":t[3]||(t[3]=function(e){return a.employee.lastName=e}),rules:r.rules},null,8,["firstName","middleName","lastName","rules"])]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.employee.employeeId,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.employee.employeeId=e}),label:e.$t("general.employee_id"),rules:r.rules.employeeId},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{class:"user-form-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"user-form-header-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.create_login_details")),1)]})),_:1}),Object(o["createVNode"])(f,{modelValue:r.createLogin,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.createLogin=e})},null,8,["modelValue"])]})),_:1}),r.createLogin?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.user.username,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.user.username=e}),label:e.$t("general.username"),rules:r.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{label:e.$t("general.status"),classes:{wrapper:"--status-grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.user.status,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.user.status=e}),type:"radio","option-label":e.$t("general.enabled"),value:"1"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(b,{modelValue:r.user.status,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.user.status=e}),type:"radio","option-label":e.$t("general.disabled"),value:"2"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,{password:r.user.password,"onUpdate:password":t[9]||(t[9]=function(e){return r.user.password=e}),passwordConfirm:r.user.passwordConfirm,"onUpdate:passwordConfirm":t[10]||(t[10]=function(e){return r.user.passwordConfirm=e})},null,8,["password","passwordConfirm"])],64)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(i),Object(o["createVNode"])(C,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O),Object(o["createVNode"])(v,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(g)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Pm={class:"employee-image-wrapper"},qm=["src"];function Rm(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon-button"),i=Object(o["resolveComponent"])("oxd-input-field"),u=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,Object(o["mergeProps"])({ref:"fileInput"},e.$attrs,{type:"file"}),{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Pm,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:n.imgSrc},null,8,qm)]),Object(o["createVNode"])(c,{class:"employee-image-action",name:"plus",role:"none"})]})),_:1},16),Object(o["createVNode"])(u,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accept_jpg_png_upto_1mb_recomended_dimentions_200px_x_200px")),1)]})),_:1})],64)}var Mm={name:"ProfileImageInput",inheritAttrs:!1,props:{imgSrc:{type:String,required:!0}}};n("1f4d");const zm=C()(Mm,[["render",Rm],["__scopeId","data-v-449ec876"]]);var Gm=zm;function Qm(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{label:l.localizedLabel,classes:l.classes},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-firstname",name:"firstName",placeholder:e.$t("general.first_name"),"model-value":n.firstName,rules:n.rules.firstName,disabled:n.disabled,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:firstName",t)})},null,8,["placeholder","model-value","rules","disabled"]),Object(o["createVNode"])(c,{class:"orangehrm-middlename",name:"middleName","model-value":n.middleName,rules:n.rules.middleName,disabled:n.disabled,placeholder:n.showMiddleNamePlaceholder?e.$t("general.middle_name"):"","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:middleName",t)})},null,8,["model-value","rules","disabled","placeholder"]),Object(o["createVNode"])(c,{class:"orangehrm-lastname",name:"lastName",placeholder:e.$t("general.last_name"),"model-value":n.lastName,rules:n.rules.lastName,disabled:n.disabled,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:lastName",t)})},null,8,["placeholder","model-value","rules","disabled"])]})),_:1},8,["label","classes"])}var Wm={name:"FullNameInput",inheritAttrs:!1,props:{firstName:{type:String,required:!0},middleName:{type:String,required:!0},lastName:{type:String,required:!0},rules:{type:Object,required:!0},disabled:{type:Boolean,default:!1},showMiddleNamePlaceholder:{type:Boolean,default:!0},label:{type:String,default:null}},emits:["update:firstName","update:middleName","update:lastName"],computed:{classes:function(){return{label:{"oxd-input-field-required":!0},wrapper:{"--name-grouped-field":!0}}},localizedLabel:function(){return this.label?this.label:this.$t("general.employee_full_name")}}};n("2823");const Hm=C()(Wm,[["render",Qm],["__scopeId","data-v-428506ce"]]);var Jm=Hm,Ym="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),Xm={firstName:"",middleName:"",lastName:"",empPicture:null,employeeId:""},Km={username:"",userRoleId:2,empNumber:0,status:"1",password:"",passwordConfirm:""},Zm={components:{"oxd-switch-input":Pa["a"],"profile-image-input":Gm,"full-name-input":Jm,"password-input":ha},props:{empId:{type:String,required:!0},allowedImageTypes:{type:Array,required:!0}},setup:function(e){var t=Object(o["ref"])(Object(M["a"])(Object(M["a"])({},Xm),{},{employeeId:e.empId?e.empId:""})),n=new te(window.appGlobal.baseUrl,"api/v2/pim/employees");return{http:n,employee:t}},data:function(){return{isLoading:!1,createLogin:!1,user:Object(M["a"])({},Km),empNumber:null,rules:{firstName:[On,vn(30)],middleName:[vn(30)],lastName:[On,vn(30)],employeeId:[vn(10)],empPicture:[Tn(1048576),In(this.allowedImageTypes)],username:[On,Mn(5),vn(40)],status:[On]}}},computed:{profilePicUrl:function(){if(this.employee.empPicture){var e=this.employee.empPicture.base64,t=this.employee.empPicture.type,n=this.allowedImageTypes.findIndex((function(e){return e===t}));return n>-1?"data:".concat(t,";base64,").concat(e):Ym}return Ym}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;return e.rules.employeeId.push((function(t){var o=n.findIndex((function(e){var n;return(null===(n=e.employeeId)||void 0===n?void 0:n.trim())&&String(e.employeeId).toLowerCase()==String(t).toLowerCase()}));return!(o>-1)||e.$t("pim.employee_id_exists")})),e.http.http.get("api/v2/admin/users")})).then((function(t){var n=t.data.data;e.rules.username.push((function(t){var o=n.findIndex((function(e){return String(e.userName).toLowerCase()==String(t).toLowerCase()}));return!(o>-1)||e.$t("pim.username_already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/pim/viewEmployeeList")},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.employee)).then((function(t){var n=t.data;return null!==n&&void 0!==n&&n.data&&(e.empNumber=n.data.empNumber),e.createLogin&&null!==n&&void 0!==n&&n.data?e.http.http.post("api/v2/admin/users",{username:e.user.username,password:e.user.password,status:"1"==e.user.status,userRoleId:e.user.userRoleId,empNumber:n.data.empNumber}):void 0})).then((function(){return e.$toast.saveSuccess()})).then((function(){e.employee=Object(M["a"])({},Xm),e.user=Object(M["a"])({},Km),e.empNumber?Z("/pim/viewPersonalDetails/empNumber/".concat(e.empNumber)):e.onCancel()}))}}};n("e746");const eb=C()(Zm,[["render",Um],["__scopeId","data-v-4e1a259a"]]);var tb=eb,nb=function(e){return Object(o["pushScopeId"])("data-v-402ceab4"),e=e(),Object(o["popScopeId"])(),e},ob={class:"orangehrm-background-container"},ab=nb((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),rb={class:"orangehrm-paper-container"},lb={key:0,class:"orangehrm-header-container"},cb={class:"orangehrm-container"},ib={class:"orangehrm-bottom-container"};function ub(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("employment-status-dropdown"),m=Object(o["resolveComponent"])("include-employee-dropdown"),b=Object(o["resolveComponent"])("jobtitle-dropdown"),p=Object(o["resolveComponent"])("subunit-dropdown"),f=Object(o["resolveComponent"])("oxd-grid"),h=Object(o["resolveComponent"])("oxd-form-row"),j=Object(o["resolveComponent"])("oxd-divider"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("oxd-table-filter"),y=Object(o["resolveComponent"])("table-header"),V=Object(o["resolveComponent"])("oxd-card-table"),w=Object(o["resolveComponent"])("oxd-pagination"),x=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ob,[Object(o["createVNode"])(C,{"filter-title":e.$t("pim.employee_information")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{onSubmitValid:l.filterItems,onReset:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){var e;return[Object(o["createVNode"])(i,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),rules:r.rules.employee,params:{includeEmployees:null===(e=a.filters.includeEmployees)||void 0===e?void 0:e.param}},null,8,["modelValue","rules","params"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.employeeId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.employeeId=e}),label:e.$t("general.employee_id")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.empStatusId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.empStatusId=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.includeEmployees=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.supervisor,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.supervisor=e}),rules:r.rules.supervisor,label:e.$t("pim.supervisor_name")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.jobTitleId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.jobTitleId=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:a.filters.subunitId,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.filters.subunitId=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(O,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),ab,Object(o["createElementVNode"])("div",rb,[e.$can.create("employee_list")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",lb,[Object(o["createVNode"])(O,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(y,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",cb,[Object(o["createVNode"])(V,{ref:"cardTable",selected:r.checkedItems,"onUpdate:selected":t[7]||(t[7]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[8]||(t[8]=function(e){return a.sortDefinition=e}),headers:l.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:e.$can.delete("employee_list"),clickable:!0,loading:a.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card",onClick:l.onClickEdit},null,8,["selected","order","headers","items","selectable","loading","onClick"])]),Object(o["createElementVNode"])("div",ib,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:0,current:a.currentPage,"onUpdate:current":t[9]||(t[9]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(x,{ref:"deleteDialog"},null,512)])}function db(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("general.job_title"),options:a.options},null,8,["label","options"])}var sb={name:"JobtitleDropdown",setup:function(){var e=Object(o["ref"])([]),t=new te(window.appGlobal.baseUrl,"api/v2/admin/job-titles");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.title}}))}))})),{options:e}}};const mb=C()(sb,[["render",db]]);var bb=mb;function pb(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("general.sub_unit"),options:a.options},null,8,["label","options"])}var fb={name:"SubunitDropdown",setup:function(){var e=Object(o["ref"])([]),t=new te(window.appGlobal.baseUrl,"api/v2/admin/subunits");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.name,_indent:e.level?e.level+1:1}}))}))})),{options:e}}};const hb=C()(fb,[["render",pb]]);var jb=hb;function Ob(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("general.employment_status"),options:a.options},null,8,["label","options"])}var vb={name:"EmploymentStatusDropdown",setup:function(){var e=Object(o["ref"])([]),t=new te(window.appGlobal.baseUrl,"api/v2/admin/employment-statuses");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.name}}))}))})),{options:e}}};const gb=C()(vb,[["render",Ob]]);var Cb=gb;function yb(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("pim.include"),options:r.includeOpts,"show-empty-selector":!1},null,8,["label","options"])}var Vb={name:"IncludeEmployeeDropdown",data:function(){return{includeOpts:[{id:1,param:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,param:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,param:"onlyPast",label:this.$t("general.past_employees_only")}]}}};const wb=C()(Vb,[["render",yb]]);var xb=wb,Db={"employee.employeeId":"DEFAULT","employee.firstName":"ASC","employee.lastName":"DEFAULT","jobTitle.jobTitleName":"DEFAULT","empStatus.name":"DEFAULT","subunit.name":"DEFAULT","supervisor.firstName":"DEFAULT"},Nb={components:{"delete-confirmation":rn,"employee-autocomplete":Zo,"jobtitle-dropdown":bb,"subunit-dropdown":jb,"employment-status-dropdown":Cb,"include-employee-dropdown":xb},props:{unselectableEmpNumbers:{type:Array,default:function(){return[]}}},setup:function(e){var t=Je(),n=t.$t,a=function(t){return t.map((function(t){var o,a,r,l,c=e.unselectableEmpNumbers.findIndex((function(e){return e==t.empNumber}));return{id:t.empNumber,employeeId:t.employeeId,firstAndMiddleName:"".concat(t.firstName," ").concat(t.middleName),lastName:t.lastName+(t.terminationId?" ".concat(n("general.past_employee")):""),jobTitle:null!==(o=t.jobTitle)&&void 0!==o&&o.isDeleted?t.jobTitle.title+n("general.deleted"):null===(a=t.jobTitle)||void 0===a?void 0:a.title,empStatus:null===(r=t.empStatus)||void 0===r?void 0:r.name,subunit:null===(l=t.subunit)||void 0===l?void 0:l.name,supervisor:t.supervisors?t.supervisors.map((function(e){return"".concat(e.firstName," ").concat(e.lastName)})).join(","):"",isSelectable:-1===c}}))},r=Object(o["ref"])({employee:null,employeeId:"",empStatusId:null,supervisor:null,jobTitleId:null,subunitId:null,includeEmployees:{id:1,param:"onlyCurrent",label:n("general.current_employees_only")}}),l=ln({sortDefinition:Db}),c=l.sortDefinition,i=l.sortField,u=l.sortOrder,d=l.onSort,s=Object(o["computed"])((function(){var e,t,n,o,a;return{model:"detailed",nameOrId:"string"===typeof r.value.employee?r.value.employee:void 0,empNumber:null===(e=r.value.employee)||void 0===e?void 0:e.id,employeeId:r.value.employeeId,empStatusId:null===(t=r.value.empStatusId)||void 0===t?void 0:t.id,includeEmployees:null===(n=r.value.includeEmployees)||void 0===n?void 0:n.param,supervisorEmpNumbers:r.value.supervisor?[r.value.supervisor.id]:void 0,jobTitleId:null===(o=r.value.jobTitleId)||void 0===o?void 0:o.id,subunitId:null===(a=r.value.subunitId)||void 0===a?void 0:a.id,sortField:i.value,sortOrder:u.value}})),m=new te(window.appGlobal.baseUrl,"api/v2/pim/employees"),b=Kt(m,{query:s,normalizer:a}),p=b.showPaginator,f=b.currentPage,h=b.total,j=b.pages,O=b.pageSize,v=b.response,g=b.isLoading,C=b.execQuery;return d(C),{http:m,showPaginator:p,currentPage:f,isLoading:g,total:h,pages:j,pageSize:O,execQuery:C,items:v,filters:r,sortDefinition:c}},data:function(){return{checkedItems:[],rules:{employee:[],supervisor:[Kn]}}},computed:{headers:function(){return[{name:"employeeId",slot:"title",title:this.$t("general.id"),sortField:"employee.employeeId",style:{flex:1}},{name:"firstAndMiddleName",title:this.$t("pim.first_middle_name"),sortField:"employee.firstName",style:{flex:1}},{name:"lastName",title:this.$t("general.last_name"),sortField:"employee.lastName",style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:1}},{name:"empStatus",title:this.$t("general.employment_status"),sortField:"empStatus.name",style:{flex:1}},{name:"subunit",title:this.$t("general.sub_unit"),sortField:"subunit.name",style:{flex:1}},{name:"supervisor",title:this.$t("pim.supervisor"),sortField:"supervisor.firstName",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:Object(M["a"])(Object(M["a"])({},this.$can.delete("employee_list")&&{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}}),{},{edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}})}]}},methods:{onClickAdd:function(){Z("/pim/addEmployee")},onClickEdit:function(e){var t,n=e.id?e.id:null===(t=e.item)||void 0===t?void 0:t.id;Z("/pim/viewPersonalDetails/empNumber/{id}",{id:n})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e,t){var n=this;t.stopImmediatePropagation();var o=this.unselectableEmpNumbers.findIndex((function(t){return t==e.id}));if(o>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then((function(t){"ok"===t&&n.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};n("f6a9");const _b=C()(Nb,[["render",ub],["__scopeId","data-v-402ceab4"]]);var kb=_b,Eb={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Sb(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("full-name-input"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-input-field"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("oxd-input-group"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(g,{"employee-id":n.empNumber,screen:"personal"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Eb,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.personal_details")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{firstName:r.employee.firstName,"onUpdate:firstName":t[0]||(t[0]=function(e){return r.employee.firstName=e}),middleName:r.employee.middleName,"onUpdate:middleName":t[1]||(t[1]=function(e){return r.employee.middleName=e}),lastName:r.employee.lastName,"onUpdate:lastName":t[2]||(t[2]=function(e){return r.employee.lastName=e}),rules:r.rules},null,8,["firstName","middleName","lastName","rules"])]})),_:1})]})),_:1}),n.showDeprecatedFields?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.nickname,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.employee.nickname=e}),label:e.$t("pim.nickname"),rules:r.rules.nickname},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.employeeId,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.employee.employeeId=e}),label:e.$t("general.employee_id"),rules:r.rules.employeeId,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.otherId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.employee.otherId=e}),label:e.$t("pim.other_id"),rules:r.rules.otherId},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.drivingLicenseNo,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.employee.drivingLicenseNo=e}),label:e.$t("pim.driver_license_number"),rules:r.rules.drivingLicenseNo,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.employee.drivingLicenseExpiredDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.employee.drivingLicenseExpiredDate=e}),rules:r.rules.drivingLicenseExpiredDate,label:e.$t("pim.license_expiry_date")},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[n.showSsnField?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.ssnNumber,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.employee.ssnNumber=e}),label:e.$t("pim.ssn_number"),rules:r.rules.ssnNumber,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1})):Object(o["createCommentVNode"])("",!0),n.showSinField?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.sinNumber,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.employee.sinNumber=e}),label:e.$t("pim.sin_number"),rules:r.rules.sinNumber,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.nationality,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.employee.nationality=e}),type:"select",label:e.$t("general.nationality"),clear:!1,options:n.nationalities},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.maritalStatus,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.employee.maritalStatus=e}),type:"select",label:e.$t("pim.marital_status"),clear:!1,options:r.maritalStatuses},null,8,["modelValue","label","options"])]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.employee.birthday,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.employee.birthday=e}),label:e.$t("pim.date_of_birth"),rules:r.rules.birthday,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{label:e.$t("pim.gender"),classes:{wrapper:"--gender-grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.gender,"onUpdate:modelValue":t[13]||(t[13]=function(e){return r.employee.gender=e}),type:"radio","option-label":e.$t("general.male"),value:"1"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(m,{modelValue:r.employee.gender,"onUpdate:modelValue":t[14]||(t[14]=function(e){return r.employee.gender=e}),type:"radio","option-label":e.$t("general.female"),value:"2"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),n.showDeprecatedFields?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0})):Object(o["createCommentVNode"])("",!0),n.showDeprecatedFields?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.militaryService,"onUpdate:modelValue":t[15]||(t[15]=function(e){return r.employee.militaryService=e}),label:e.$t("pim.military_service"),rules:r.rules.militaryService},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.employee.smoker,"onUpdate:modelValue":t[16]||(t[16]=function(e){return r.employee.smoker=e}),type:"checkbox",label:e.$t("pim.smoker"),"option-label":e.$t("general.yes")},null,8,["modelValue","label","option-label"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]})),_:1},8,["employee-id"])}var Ab={class:"orangehrm-background-container"},$b={class:"orangehrm-card-container"},Fb={class:"orangehrm-edit-employee"},Bb={class:"orangehrm-edit-employee-navigation"},Tb={class:"orangehrm-edit-employee-imagesection"},Ib={class:"orangehrm-edit-employee-name"},Lb={class:"orangehrm-edit-employee-image-wrapper"},Ub=["src"],Pb={class:"orangehrm-edit-employee-content"};function qb(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("tabs-navigation"),u=Object(o["resolveComponent"])("profile-custom-fields"),d=Object(o["resolveComponent"])("profile-attachments");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ab,[Object(o["createElementVNode"])("div",$b,[Object(o["createElementVNode"])("div",Fb,[Object(o["createElementVNode"])("div",Bb,[Object(o["createElementVNode"])("div",Tb,[Object(o["createElementVNode"])("div",Ib,[Object(o["createVNode"])(c,{tag:"h6",class:"--strong"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.employeeName),1)]})),_:1}),a.isCurrentEmp?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.past_employee")),1)]})),_:1}))]),Object(o["createElementVNode"])("div",Lb,[Object(o["createElementVNode"])("div",{class:"orangehrm-edit-employee-image",onClick:t[0]||(t[0]=function(){return a.onClickProfilePic&&a.onClickProfilePic.apply(a,arguments)})},[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:a.imgSrc},null,8,Ub)])])]),Object(o["createVNode"])(i,{tabs:n.tabs},null,8,["tabs"])]),Object(o["createElementVNode"])("div",Pb,[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0),"default"!==n.screen?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,"employee-id":n.employeeId,screen:n.screen},null,8,["employee-id","screen"])):Object(o["createCommentVNode"])("",!0),"default"!==n.screen?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,"employee-id":n.employeeId,"allowed-file-types":n.allowedFileTypes,"max-file-size":n.maxFileSize,screen:n.screen},null,8,["employee-id","allowed-file-types","max-file-size","screen"])):Object(o["createCommentVNode"])("",!0)])])])])}var Rb={role:"tablist",class:"orangehrm-tabs"},Mb=["href"];function zb(e,t,n,a,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Rb,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.tabs,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e,role:"tab",class:"orangehrm-tabs-wrapper"},[Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])({"orangehrm-tabs-item":!0,"--active":e.active}),href:e.url},Object(o["toDisplayString"])(e.name),11,Mb)])})),128))])}var Gb={name:"TabsNavigation",props:{tabs:{type:Array,required:!0}}};n("73b1");const Qb=C()(Gb,[["render",zb],["__scopeId","data-v-0c35ff1f"]]);var Wb=Qb,Hb={class:"orangehrm-attachment"},Jb={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Yb={class:"orangehrm-container"},Xb={key:0,class:"orangehrm-bottom-container"};function Kb(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("save-attachment"),d=Object(o["resolveComponent"])("edit-attachment"),s=Object(o["resolveComponent"])("profile-action-header"),m=Object(o["resolveComponent"])("table-header"),b=Object(o["resolveComponent"])("oxd-card-table"),p=Object(o["resolveComponent"])("oxd-pagination"),f=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Hb,[Object(o["createVNode"])(i),r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,http:a.http,"allowed-file-types":n.allowedFileTypes,"max-file-size":n.maxFileSize,onClose:l.onSaveModalClose},null,8,["http","allowed-file-types","max-file-size","onClose"])):r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,data:r.editModalState,http:a.http,"allowed-file-types":n.allowedFileTypes,"max-file-size":n.maxFileSize,onClose:l.onEditModalClose},null,8,["data","http","allowed-file-types","max-file-size","onClose"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Object(o["createElementVNode"])("div",Jb,[Object(o["createVNode"])(s,{"action-button-shown":e.$can.create("".concat(n.screen,"_attachment")),onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.attachments")),1)]})),_:1},8,["action-button-shown","onClick"])]),Object(o["createVNode"])(m,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Yb,[Object(o["createVNode"])(b,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.tableHeaders,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:e.$can.delete("".concat(n.screen,"_attachment")),clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xb,[Object(o["createVNode"])(p,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0)],64)),Object(o["createVNode"])(f,{ref:"deleteDialog"},null,512)])}var Zb=1,ep=1024,tp=1048576,np=1073741824,op=function(e,t){var n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Zb,r="B";return n="number"===typeof e?e:parseInt(e,10),n>=np?(a=np,r="GB"):n>=tp?(a=tp,r="MB"):n>=ep&&(a=ep,r="kB"),(n/a).toFixed(t)+(o?" "+r:"")},ap={class:"orangehrm-card-container"};function rp(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ap,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_attachment")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attachment.attachment=e}),type:"file",label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),rules:r.rules.attachment,placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attachment.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attachment.description=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var lp={attachment:null,description:""},cp={name:"SaveAttachment",props:{http:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},emits:["close"],data:function(){return{isLoading:!1,attachment:Object(M["a"])({},lp),rules:{description:[vn(200)],attachment:[On,Tn(this.maxFileSize),In(this.allowedFileTypes)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.attachment)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.attachment=Object(M["a"])({},lp),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const ip=C()(cp,[["render",rp]]);var up=ip,dp={class:"orangehrm-card-container"};function sp(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-input-field"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dp,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_attachment")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("general.current_file")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.currentFile),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attachment.attachment=e}),type:"file",label:e.$t("general.replace_with"),"button-label":e.$t("general.browse"),rules:r.rules.attachment,placeholder:e.$t("general.no_file_selected")},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.attachment.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attachment.description=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var mp={attachment:null,description:""},bp={name:"EditAttachment",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},emits:["close"],data:function(){return{isLoading:!1,currentFile:"",attachment:Object(M["a"])({},mp),rules:{description:[vn(200)],attachment:[Tn(this.maxFileSize),In(this.allowedFileTypes)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.currentFile=n.filename,e.attachment.description=n.description})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(M["a"])({},this.attachment)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.attachment=Object(M["a"])({},mp),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const pp=C()(bp,[["render",sp]]);var fp=pp,hp={class:"orangehrm-action-header"};function jp(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",hp,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)]})),_:3}),n.actionButtonShown?(Object(o["openBlock"])(),Object(o["createBlock"])(i,Object(o["mergeProps"])({key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"text"},e.$attrs),null,16,["label"])):Object(o["createCommentVNode"])("",!0)])}var Op={name:"ProfileActionHeader",inheritAttrs:!1,props:{actionButtonShown:{type:Boolean,required:!1,default:!0}}};n("9d36");const vp=C()(Op,[["render",jp],["__scopeId","data-v-3dab643a"]]);var gp=vp,Cp={name:"ProfileAttachments",components:{"save-attachment":up,"edit-attachment":fp,"profile-action-header":gp,"delete-confirmation":rn},props:{employeeId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},screen:{type:String,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/screen/").concat(e.screen,"/attachments")),n=de(),o=n.jsDateFormat,a=Xe(),r=a.locale,l=function(e){return e.map((function(e){return Object(M["a"])(Object(M["a"])({},e),{},{attachedDate:ke(_e(e.attachedDate),o,{locale:r}),size:op(e.size,2)})}))},c=Kt(t,{normalizer:l,toastNoRecords:!1}),i=c.showPaginator,u=c.currentPage,d=c.total,s=c.pages,m=c.pageSize,b=c.response,p=c.isLoading,f=c.execQuery;return{http:t,showPaginator:i,currentPage:u,isLoading:p,total:d,pages:s,pageSize:m,execQuery:f,items:b}},data:function(){return{headers:[{name:"filename",slot:"title",title:this.$t("general.file_name"),style:{flex:1}},{name:"description",title:this.$t("general.description"),style:{flex:1}},{name:"size",title:this.$t("general.size"),style:{flex:1}},{name:"fileType",title:this.$t("general.type"),style:{flex:1}},{name:"attachedDate",title:this.$t("pim.date_added"),style:{flex:1}},{name:"attachedByName",title:this.$t("pim.added_by"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{tableHeaders:function(){var e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.update("".concat(this.screen,"_attachment"))&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),this.$can.delete("".concat(this.screen,"_attachment"))&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.read("".concat(this.screen,"_attachment"))&&(e.cellConfig.download={onClick:this.onClickDownload,props:{name:"download"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onClickDownload:function(e){var t="".concat(window.appGlobal.baseUrl,"/pim/viewAttachment/empNumber/").concat(this.employeeId,"/attachId/").concat(e.id);window.open(t,"_blank")},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};n("63aa");const yp=C()(Cp,[["render",Kb],["__scopeId","data-v-a8aff5a0"]]);var Vp=yp,wp={key:0,class:"orangehrm-custom-fields"},xp={class:"orangehrm-card-container"};function Dp(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-divider"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return 0!==r.fields.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",wp,[Object(o["createVNode"])(c),Object(o["createElementVNode"])("div",xp,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.custom_fields")),1)]})),_:1}),Object(o["createVNode"])(c),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.fields,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:t.id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customFieldsModel[t.model],"onUpdate:modelValue":function(e){return r.customFieldsModel[t.model]=e},type:t.type,label:t.label,options:t.extraData,rules:r.rules.default,disabled:!e.$can.update("".concat(n.screen,"_custom_fields"))},null,8,["modelValue","onUpdate:modelValue","type","label","options","rules","disabled"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),e.$can.update("".concat(n.screen,"_custom_fields"))?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(c),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b)]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","onSubmitValid"])])])):Object(o["createCommentVNode"])("",!0)}var Np=function(e){return"string"===typeof e?e.split(",").map((function(e,t){return{id:t,label:e}})).filter((function(e){return""!=e.label.trim()})):[]},_p={name:"ProfileCustomFields",props:{employeeId:{type:String,required:!0},screen:{type:String,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/custom-fields?screen=").concat(e.screen));return{http:t}},data:function(){return{isLoading:!1,fields:[],customFieldsModel:{},rules:{default:[vn(250)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data,o=n.data,a=n.meta;e.customFieldsModel=Object(M["a"])({},o),a.fields&&a.fields.length>0&&(e.fields=a.fields.map((function(t){var n=Np(t.extraData),a="custom".concat(t.id);if(1==t.fieldType&&o[a]){var r=n.find((function(e){return e.label==o[a]}));e.customFieldsModel[a]=r||null}return{id:t.id,label:t.fieldName,type:1==t.fieldType?"select":"input",model:a,extraData:n}})))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",url:"api/v2/pim/employees/".concat(this.employeeId,"/custom-fields"),data:Object(M["a"])({},this.customFieldsModel),transformRequest:[function(e){for(var t in e){var n;null!==(n=e[t])&&void 0!==n&&n.label&&(e[t]=e[t].label)}return JSON.stringify(e)}]}).then((function(){e.isLoading=!1,e.$toast.saveSuccess()}))}}};const kp=C()(_p,[["render",Dp]]);var Ep=kp,Sp="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),Ap={name:"EditEmployeeLayout",components:{"tabs-navigation":Wb,"profile-attachments":Vp,"profile-custom-fields":Ep},props:{employeeId:{type:String,required:!0},tabs:{type:Array,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},screen:{type:String,default:"default",validator:function(e){return["default","personal","contact","emergency","dependents","immigration","qualifications","tax","salary","job","report-to","membership"].includes(e)}}},setup:function(e){var t=Object(o["ref"])(""),n=Object(o["ref"])(!0),a=new te(window.appGlobal.baseUrl,"api/v2/pim/employees");a.get(e.employeeId).then((function(e){var o=e.data;t.value="".concat(o.data.firstName," ").concat(o.data.lastName),n.value=!o.data.terminationId}));var r=Object(o["computed"])((function(){return e.employeeId?"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.employeeId):Sp})),l=function(){Z("/pim/viewPhotograph/empNumber/{empNumber}",{empNumber:e.employeeId})};return{imgSrc:r,employeeName:t,isCurrentEmp:n,onClickProfilePic:l}}};n("3bd4");const $p=C()(Ap,[["render",qb],["__scopeId","data-v-09a26ef1"]]);var Fp=$p,Bp={firstName:"",middleName:"",lastName:"",employeeId:"",otherId:"",drivingLicenseNo:"",drivingLicenseExpiredDate:"",ssnNumber:"",sinNumber:"",nationality:[],maritalStatus:[],birthday:"",gender:"",nickname:"",smoker:"",militaryService:""},Tp={components:{"edit-employee-layout":Fp,"full-name-input":Jm},props:{empNumber:{type:String,required:!0},nationalities:{type:Array,default:function(){return[]}},showDeprecatedFields:{type:Boolean,default:!1},showSsnField:{type:Boolean,default:!1},showSinField:{type:Boolean,default:!1}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/personal-details")),n=de(),o=n.userDateFormat;return{http:t,userDateFormat:o}},data:function(){return{isLoading:!1,employee:Object(M["a"])({},Bp),rules:{firstName:[On,vn(30)],middleName:[vn(30)],lastName:[On,vn(30)],employeeId:[vn(10)],otherId:[vn(30)],drivingLicenseNo:[vn(30)],ssnNumber:[vn(30)],sinNumber:[vn(30)],nickname:[vn(30)],militaryService:[vn(30)],birthday:[gn(this.userDateFormat)],drivingLicenseExpiredDate:[gn(this.userDateFormat)]},maritalStatuses:[{id:"Single",label:"Single"},{id:"Married",label:"Married"},{id:"Other",label:"Other"}]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){return e.updateModel(t),e.http.request({method:"GET",url:"api/v2/pim/employees"})})).then((function(t){var n=t.data.data;e.rules.employeeId.push((function(t){var o=n.findIndex((function(e){var n;return(null===(n=e.employeeId)||void 0===n?void 0:n.trim())&&String(e.employeeId).toLowerCase()==String(t).toLowerCase()}));if(o>-1){var a=n[o].empNumber;return a==e.empNumber||e.$t("pim.employee_id_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.request({method:"PUT",data:{lastName:this.employee.lastName,firstName:this.employee.firstName,middleName:this.employee.middleName,employeeId:this.employee.employeeId,otherId:this.employee.otherId,drivingLicenseNo:this.employee.drivingLicenseNo,drivingLicenseExpiredDate:this.employee.drivingLicenseExpiredDate,gender:this.employee.gender,maritalStatus:null===(e=this.employee.maritalStatus)||void 0===e?void 0:e.id,birthday:this.employee.birthday,nationalityId:null===(t=this.employee.nationality)||void 0===t?void 0:t.id,ssnNumber:this.showSsnField?this.employee.ssnNumber:void 0,sinNumber:this.showSinField?this.employee.sinNumber:void 0,nickname:this.showDeprecatedFields?this.employee.nickname:void 0,smoker:this.showDeprecatedFields?this.employee.smoker:void 0,militaryService:this.showDeprecatedFields?this.employee.militaryService:void 0}}).then((function(e){return n.updateModel(e),n.$toast.updateSuccess()})).then((function(){n.isLoading=!1}))},updateModel:function(e){var t=e.data.data;this.employee=Object(M["a"])(Object(M["a"])({},Bp),t),this.employee.maritalStatus=this.maritalStatuses.find((function(e){return e.id===t.maritalStatus})),this.employee.nationality=this.nationalities.find((function(e){var n;return e.id===(null===(n=t.nationality)||void 0===n?void 0:n.id)}))}}};n("6eb6");const Ip=C()(Tp,[["render",Sb],["__scopeId","data-v-00c9062b"]]);var Lp=Ip,Up={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Pp(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(j,{"employee-id":n.empNumber,screen:"contact"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Up,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.contact_details")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("admin.address")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.street1,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.contact.street1=e}),label:e.$t("pim.street1"),rules:r.rules.street1},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.street2,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.contact.street2=e}),label:e.$t("pim.street2"),rules:r.rules.street2},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.city,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.contact.city=e}),label:e.$t("general.city"),rules:r.rules.city},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.province,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.contact.province=e}),label:e.$t("general.state_province"),rules:r.rules.province},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.zipCode,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.contact.zipCode=e}),label:e.$t("general.zip_postal_code"),rules:r.rules.zipCode},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.countryCode,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.contact.countryCode=e}),type:"select",label:e.$t("general.country"),options:n.countries},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.telephone")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.homeTelephone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.contact.homeTelephone=e}),modelModifiers:{trim:!0},label:e.$t("pim.home"),rules:r.rules.homeTelephone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.mobile,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.contact.mobile=e}),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:r.rules.mobile},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.workTelephone,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.contact.workTelephone=e}),modelModifiers:{trim:!0},label:e.$t("pim.work"),rules:r.rules.workTelephone},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.email")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.workEmail,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.contact.workEmail=e}),label:e.$t("general.work_email"),rules:r.rules.workEmail},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.otherEmail,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.contact.otherEmail=e}),label:e.$t("general.other_email"),rules:r.rules.otherEmail},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]})),_:1},8,["employee-id"])}var qp={street1:"",street2:"",city:"",province:"",countryCode:[],zipCode:"",homeTelephone:"",workTelephone:"",mobile:"",workEmail:"",otherEmail:""},Rp={components:{"edit-employee-layout":Fp},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employee/".concat(e.empNumber,"/contact-details"));return t.setIgnorePath("api/v2/pim/employees/[0-9]+/contact-details/validation/(work-emails|other-emails)"),{http:t}},data:function(){return{isLoading:!1,contact:Object(M["a"])({},qp),rules:{street1:[vn(70)],street2:[vn(70)],city:[vn(70)],province:[vn(70)],zipCode:[vn(10)],homeTelephone:[vn(25),Un],mobile:[vn(25),Un],workTelephone:[vn(25),Un],workEmail:[vn(50),Ln,Object(ja["a"])(this.validateWorkEmail,500)],otherEmail:[vn(50),Ln,Object(ja["a"])(this.validateOtherEmail,500)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){e.updateModel(t)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.request({method:"PUT",data:Object(M["a"])(Object(M["a"])({},this.contact),{},{countryCode:null===(e=this.contact.countryCode)||void 0===e?void 0:e.id})}).then((function(e){return t.updateModel(e),t.$toast.updateSuccess()})).then((function(){t.isLoading=!1}))},validateWorkEmail:function(e){var t=this;return new Promise((function(n){if(e){var o=t.contact.workEmail===t.contact.otherEmail;t.http.request({method:"GET",url:"api/v2/pim/employees/".concat(t.empNumber,"/contact-details/validation/work-emails"),params:{workEmail:t.contact.workEmail}}).then((function(e){var a=e.data.data;return!0===a.valid?n(!o||t.$t("pim.work_email_and_other_email_cannot_be_the_same")):n(t.$t("general.already_exists"))}))}else n(!0)}))},validateOtherEmail:function(e){var t=this;return new Promise((function(n){if(e){var o=t.contact.otherEmail===t.contact.workEmail;t.http.request({method:"GET",url:"api/v2/pim/employees/".concat(t.empNumber,"/contact-details/validation/other-emails"),params:{otherEmail:t.contact.otherEmail}}).then((function(e){var a=e.data.data;return!0===a.valid?n(!o||t.$t("pim.work_email_and_other_email_cannot_be_the_same")):n(t.$t("general.already_exists"))}))}else n(!0)}))},validateEmailDifferent:function(e){var t=this;return function(n){var o=e();return null===o||""===o||(n!==o||t.$t("pim.work_email_and_other_email_cannot_be_the_same"))}},updateModel:function(e){var t=e.data.data;this.contact=Object(M["a"])(Object(M["a"])({},qp),t),this.contact.countryCode=this.countries.find((function(e){return e.id===t.countryCode}))}}};const Mp=C()(Rp,[["render",Pp]]);var zp=Mp,Gp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Qp={class:"orangehrm-container"},Wp={class:"orangehrm-bottom-container"};function Hp(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("save-emergency-contact"),i=Object(o["resolveComponent"])("edit-emergency-contact"),u=Object(o["resolveComponent"])("profile-action-header"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"emergency"},{default:Object(o["withCtx"])((function(){var n;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,onClose:l.onSaveModalClose},null,8,["http","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Gp,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_emergency_contacts")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Qp,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(n=a.items)||void 0===n?void 0:n.data,selectable:!0,disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(o["createElementVNode"])("div",Wp,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var Jp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Yp(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Jp,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.save_emergency_contact")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.contact.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.relationship,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.contact.relationship=e}),label:e.$t("pim.relationship"),rules:r.rules.relationship,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.homePhone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.contact.homePhone=e}),modelModifiers:{trim:!0},label:e.$t("pim.home_telephone"),rules:r.rules.homePhone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.mobilePhone,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.contact.mobilePhone=e}),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:r.rules.mobilePhone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.officePhone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.contact.officePhone=e}),modelModifiers:{trim:!0},label:e.$t("pim.work_telephone"),rules:r.rules.officePhone},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var Xp={name:"",relationship:"",homePhone:"",officePhone:"",mobilePhone:""},Kp={name:"SaveEmergencyContact",props:{http:{type:Object,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,contact:Object(M["a"])({},Xp),rules:{name:[On,vn(100)],relationship:[On,vn(100)],homePhone:[Un,vn(30),function(t){return""!==t||""!==e.contact.mobilePhone||""!==e.contact.officePhone||e.$t("pim.at_least_one_phone_number_is_required")}],mobilePhone:[Un,vn(30)],officePhone:[Un,vn(30)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.contact)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.contact=Object(M["a"])({},Xp),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Zp=C()(Kp,[["render",Yp]]);var ef=Zp,tf={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function nf(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",tf,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_emergency_contact")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.contact.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.relationship,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.contact.relationship=e}),label:e.$t("pim.relationship"),rules:r.rules.relationship,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.homePhone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.contact.homePhone=e}),modelModifiers:{trim:!0},label:e.$t("pim.home_telephone"),rules:r.rules.homePhone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.mobilePhone,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.contact.mobilePhone=e}),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:r.rules.mobilePhone},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contact.officePhone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.contact.officePhone=e}),modelModifiers:{trim:!0},label:e.$t("pim.work_telephone"),rules:r.rules.officePhone},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var of={name:"",relationship:"",homePhone:"",officePhone:"",mobilePhone:""},af={name:"EditEmergencyContact",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data:function(){var e=this;return{isLoading:!1,contact:Object(M["a"])({},of),rules:{name:[On,vn(100)],relationship:[On,vn(100)],homePhone:[Un,vn(30),function(t){return""!==t||""!==e.contact.mobilePhone||""!==e.contact.officePhone||e.$t("pim.at_least_one_phone_number_is_required")}],mobilePhone:[Un,vn(30)],officePhone:[Un,vn(30)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.contact=Object(M["a"])(Object(M["a"])({},of),n)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(M["a"])({},this.contact)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.contact=Object(M["a"])({},of),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const rf=C()(af,[["render",nf]]);var lf=rf,cf={components:{"profile-action-header":gp,"edit-employee-layout":Fp,"save-emergency-contact":ef,"edit-emergency-contact":lf,"delete-confirmation":rn},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/emergency-contacts")),n=Kt(t,{toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,c=n.pageSize,i=n.response,u=n.isLoading,d=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:u,total:r,pages:l,pageSize:c,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"relationship",title:this.$t("pim.relationship"),style:{flex:1}},{name:"homePhone",title:this.$t("pim.home_telephone"),style:{flex:1}},{name:"mobilePhone",title:this.$t("general.mobile"),style:{flex:1}},{name:"officePhone",title:this.$t("pim.work_telephone"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};n("188d");const uf=C()(cf,[["render",Hp],["__scopeId","data-v-65539289"]]);var df=uf,sf={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},mf={class:"orangehrm-container"},bf={class:"orangehrm-bottom-container"};function pf(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("save-dependent"),i=Object(o["resolveComponent"])("edit-dependent"),u=Object(o["resolveComponent"])("profile-action-header"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"dependents"},{default:Object(o["withCtx"])((function(){var n;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,onClose:l.onSaveModalClose},null,8,["http","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",sf,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_dependents")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",mf,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(n=a.items)||void 0===n?void 0:n.data,selectable:!0,disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(o["createElementVNode"])("div",bf,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var ff={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function hf(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",ff,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_dependent")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.dependent.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.dependent.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.dependent.relationshipType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.dependent.relationshipType=e}),type:"select",label:e.$t("pim.relationship"),rules:r.rules.relationshipType,options:r.relationshipOptions,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.showRelationship?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.dependent.relationship,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.dependent.relationship=e}),label:e.$t("pim.please_specify"),rules:r.rules.relationship,required:""},null,8,["modelValue","label","rules"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.dependent.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.dependent.dateOfBirth=e}),label:e.$t("pim.date_of_birth"),rules:r.rules.dateOfBirth},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var jf={name:"",relationshipType:null,relationship:"",dateOfBirth:""},Of={name:"SaveDependent",props:{http:{type:Object,required:!0}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){return{isLoading:!1,dependent:Object(M["a"])({},jf),rules:{name:[On,vn(100)],relationshipType:[On],relationship:[On,vn(100)],dateOfBirth:[gn(this.userDateFormat)]},relationshipOptions:[{id:"child",label:this.$t("pim.child")},{id:"other",label:this.$t("pim.other")}]}},computed:{showRelationship:function(){var e;return"other"==(null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id)}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.dependent),{},{relationshipType:null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.dependent=Object(M["a"])({},jf),t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const vf=C()(Of,[["render",hf]]);var gf=vf,Cf={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function yf(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Cf,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_dependent")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.dependent.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.dependent.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.dependent.relationshipType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.dependent.relationshipType=e}),type:"select",label:e.$t("pim.relationship"),rules:r.rules.relationshipType,options:r.relationshipOptions,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.showRelationship?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.dependent.relationship,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.dependent.relationship=e}),label:e.$t("pim.please_specify"),rules:r.rules.relationship,required:""},null,8,["modelValue","label","rules"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.dependent.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.dependent.dateOfBirth=e}),label:e.$t("pim.date_of_birth"),rules:r.rules.dateOfBirth},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var Vf={name:"",relationshipType:null,relationship:"",dateOfBirth:""},wf={name:"EditDependent",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){return{isLoading:!1,dependent:Object(M["a"])({},Vf),rules:{name:[On,vn(100)],relationshipType:[On],relationship:[On,vn(100)],dateOfBirth:[gn(this.userDateFormat)]},relationshipOptions:[{id:"child",label:this.$t("pim.child")},{id:"other",label:this.$t("pim.other")}]}},computed:{showRelationship:function(){var e;return"other"==(null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.dependent=Object(M["a"])(Object(M["a"])({},Vf),n),e.dependent.relationshipType=e.relationshipOptions.find((function(e){return e.id===n.relationshipType}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.update(this.data.id,Object(M["a"])(Object(M["a"])({},this.dependent),{},{relationshipType:null===(e=this.dependent.relationshipType)||void 0===e?void 0:e.id})).then((function(){return t.$toast.updateSuccess()})).then((function(){t.dependent=Object(M["a"])({},Vf),t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const xf=C()(wf,[["render",yf]]);var Df=xf,Nf={components:{"profile-action-header":gp,"edit-employee-layout":Fp,"save-dependent":gf,"edit-dependent":Df,"delete-confirmation":rn},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/dependents")),n=de(),o=n.jsDateFormat,a=Xe(),r=a.locale,l=function(e){return e.map((function(e){return{id:e.id,name:e.name,dateOfBirth:ke(_e(e.dateOfBirth),o,{locale:r}),relationship:"other"==e.relationshipType?e.relationship:"Child"}}))},c=Kt(t,{normalizer:l,toastNoRecords:!1}),i=c.showPaginator,u=c.currentPage,d=c.total,s=c.pages,m=c.pageSize,b=c.response,p=c.isLoading,f=c.execQuery;return{http:t,showPaginator:i,currentPage:u,isLoading:p,total:d,pages:s,pageSize:m,execQuery:f,items:b}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"relationship",title:this.$t("pim.relationship"),style:{flex:1}},{name:"dateOfBirth",title:this.$t("pim.date_of_birth"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"0.5"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const _f=C()(Nf,[["render",pf]]);var kf=_f,Ef={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Sf={class:"orangehrm-employee-picture"};function Af(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("profile-image-input"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("submit-button"),m=Object(o["resolveComponent"])("oxd-form-actions"),b=Object(o["resolveComponent"])("oxd-form"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ef,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.change_profile_picture")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Sf,[Object(o["createVNode"])(u,{modelValue:r.empPicture,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.empPicture=e}),rules:r.rules.empPicture,"img-src":l.profilePicUrl},null,8,["modelValue","rules","img-src"])])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]})),_:1},8,["employee-id"])}var $f="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),Ff={components:{"profile-image-input":Gm,"edit-employee-layout":Fp},props:{empNumber:{type:String,required:!0},allowedImageTypes:{type:Array,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/picture"));return{http:t}},data:function(){return{isLoading:!1,empPicture:null,rules:{empPicture:[On,Tn(1048576),In(this.allowedImageTypes)]}}},computed:{profilePicUrl:function(){if(this.empPicture){var e=this.empPicture.base64,t=this.empPicture.type,n=this.allowedImageTypes.findIndex((function(e){return e===t}));return n>-1?"data:".concat(t,";base64,").concat(e):$f}return $f}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{empPicture:this.empPicture}}).then((function(){return e.$toast.updateSuccess()})).then((function(){location.reload()}))}}};n("f9c0");const Bf=C()(Ff,[["render",Af],["__scopeId","data-v-6b5ff2de"]]);var Tf=Bf,If={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Lf={class:"orangehrm-container"},Uf={class:"orangehrm-bottom-container"};function Pf(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("save-salary-component"),i=Object(o["resolveComponent"])("edit-salary-component"),u=Object(o["resolveComponent"])("profile-action-header"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"salary"},{default:Object(o["withCtx"])((function(){var p;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,paygrades:n.paygrades,"pay-frequencies":n.payFrequencies,currencies:n.currencies,"account-types":n.accountTypes,onClose:l.onSaveModalClose},null,8,["http","paygrades","pay-frequencies","currencies","account-types","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,http:a.http,data:r.editModalState,paygrades:n.paygrades,"pay-frequencies":n.payFrequencies,currencies:n.currencies,"account-types":n.accountTypes,onClose:l.onEditModalClose},null,8,["http","data","paygrades","pay-frequencies","currencies","account-types","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",If,[Object(o["createVNode"])(u,{"action-button-shown":e.$can.update("salary_details"),onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_salary_components")),1)]})),_:1},8,["action-button-shown","onClick"])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Lf,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.tableHeaders,items:null===(p=a.items)||void 0===p?void 0:p.data,selectable:e.$can.delete("salary_details"),disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),Object(o["createElementVNode"])("div",Uf,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var qf={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Rf=Object(o["createTextVNode"])(" Add Salary Component ");function Mf(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-switch-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",qf,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Rf]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.salaryComponent.name=e}),label:e.$t("pim.salary_component"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.salaryComponent.payGradeId=e}),type:"select",label:e.$t("general.pay_grade"),options:n.paygrades},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.salaryComponent.payFrequencyId=e}),type:"select",label:e.$t("pim.pay_frequency"),options:n.payFrequencies},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{key:l.currenciesOpts,modelValue:r.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.salaryComponent.currencyId=e}),type:"select",label:e.$t("general.currency"),options:l.currenciesOpts,rules:r.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.salaryComponent.salaryAmount=e}),label:e.$t("pim.amount"),rules:r.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==l.minAmount||void 0!==l.maxAmount?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){var e,t;return[Object(o["createTextVNode"])(" Min: "+Object(o["toDisplayString"])(null!==(e=l.minAmount)&&void 0!==e?e:0)+" - Max: "+Object(o["toDisplayString"])(null!==(t=l.maxAmount)&&void 0!==t?t:0),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.comment,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.salaryComponent.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{class:"directdeposit-form-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"directdeposit-form-header-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.include_direct_deposit_details")),1)]})),_:1}),Object(o["createVNode"])(b,{modelValue:r.includeDirectDeposit,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.includeDirectDeposit=e})},null,8,["modelValue"])]})),_:1}),r.includeDirectDeposit?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.directDeposit.directDepositAccount,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.directDeposit.directDepositAccount=e}),label:e.$t("pim.account_number"),rules:r.rules.directDepositAccount,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.directDeposit.directDepositAccountType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.directDeposit.directDepositAccountType=e}),type:"select",label:e.$t("pim.account_type"),rules:r.rules.directDepositAccountType,options:n.accountTypes,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.showOptionalAccountType?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.accountType,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.accountType=e}),label:e.$t("pim.please_specify"),rules:r.rules.accountType,required:""},null,8,["modelValue","label","rules"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.directDeposit.directDepositRoutingNumber,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.directDeposit.directDepositRoutingNumber=e}),label:e.$t("pim.routing_number"),rules:r.rules.directDepositRoutingNumber,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.directDeposit.directDepositAmount,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.directDeposit.directDepositAmount=e}),label:e.$t("pim.amount"),rules:r.rules.directDepositAmount,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var zf={name:"",salaryAmount:"",comment:"",payGradeId:null,payFrequencyId:null,currencyId:null},Gf={directDepositAccount:"",directDepositAccountType:null,directDepositRoutingNumber:"",directDepositAmount:""},Qf={name:"SaveSalaryComponent",components:{"oxd-switch-input":Pa["a"]},props:{http:{type:Object,required:!0},paygrades:{type:Array,default:function(){return[]}},payFrequencies:{type:Array,default:function(){return[]}},currencies:{type:Array,default:function(){return[]}},accountTypes:{type:Array,default:function(){return[]}}},emits:["close"],data:function(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:Object(M["a"])({},zf),directDeposit:Object(M["a"])({},Gf),accountType:"",usableCurrencies:[],rules:{name:[On,vn(100)],salaryAmount:[On,Dn,qn(1e9)],comment:[vn(250)],currencyId:[On],directDepositAccount:[On,vn(100)],directDepositAccountType:[On],accountType:[On,vn(20)],directDepositRoutingNumber:[On,vn(9),Dn],directDepositAmount:[On,Dn,qn(1e9)]}}},computed:{showOptionalAccountType:function(){var e;return"OTHER"==(null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id)},minAmount:function(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.minAmount},maxAmount:function(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.maxAmount},currenciesOpts:function(){var e,t=this,n=null===(e=this.salaryComponent.payGradeId)||void 0===e?void 0:e.id;return n?n&&this.usableCurrencies.length>0?this.currencies.filter((function(e){return t.usableCurrencies.findIndex((function(t){return t.id===e.id}))>-1})):[]:this.currencies},currencyInfo:function(){var e=this;return this.usableCurrencies.find((function(t){var n;return t.id===(null===(n=e.salaryComponent.currencyId)||void 0===n?void 0:n.id)}))}},watch:{"salaryComponent.payGradeId":function(e){var t=this;null!==e&&void 0!==e&&e.id?(this.isLoading=!0,this.http.request({url:"/api/v2/admin/pay-grades/".concat(e.id,"/currencies"),method:"GET"}).then((function(e){var n=e.data.data;t.usableCurrencies=n.map((function(e){return{id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary}}));var o=t.salaryComponent.currencyId,a=t.usableCurrencies.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}));t.salaryComponent.currencyId=-1===a?null:t.salaryComponent.currencyId})).then((function(){t.isLoading=!1}))):this.usableCurrencies=[]}},mounted:function(){var e=this;this.$nextTick((function(){e.rules.salaryAmount.push((function(t){var n=e.minAmount?e.minAmount:0;return t>=n||e.$t("pim.should_be_within_min_max_values")})),e.rules.salaryAmount.push((function(t){var n=e.maxAmount?e.maxAmount:999999999;return t<=n||e.$t("pim.should_be_within_min_max_values")}))}))},methods:{onSave:function(){var e,t,n,o,a=this;this.isLoading=!0;var r=this.showOptionalAccountType?this.accountType:null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id;this.http.create({salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:null===(t=this.salaryComponent.payGradeId)||void 0===t?void 0:t.id,currencyId:null===(n=this.salaryComponent.currencyId)||void 0===n?void 0:n.id,payFrequencyId:null===(o=this.salaryComponent.payFrequencyId)||void 0===o?void 0:o.id,comment:this.salaryComponent.comment?this.salaryComponent.comment:null,addDirectDeposit:this.includeDirectDeposit,directDepositAccount:this.includeDirectDeposit?this.directDeposit.directDepositAccount:void 0,directDepositAccountType:this.includeDirectDeposit?r:void 0,directDepositAmount:this.includeDirectDeposit?this.directDeposit.directDepositAmount:void 0,directDepositRoutingNumber:this.includeDirectDeposit?this.directDeposit.directDepositRoutingNumber:void 0}).then((function(){return a.$toast.saveSuccess()})).then((function(){a.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};n("2e48");const Wf=C()(Qf,[["render",Mf],["__scopeId","data-v-76f954a6"]]);var Hf=Wf,Jf={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Yf(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-switch-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Jf,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_salary_component")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.salaryComponent.name=e}),label:e.$t("pim.salary_component"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.salaryComponent.payGradeId=e}),type:"select",label:e.$t("general.pay_grade"),options:n.paygrades},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.salaryComponent.payFrequencyId=e}),type:"select",label:e.$t("pim.pay_frequency"),options:n.payFrequencies},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{key:l.currenciesOpts,modelValue:r.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.salaryComponent.currencyId=e}),type:"select",label:e.$t("general.currency"),options:l.currenciesOpts,rules:r.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.salaryComponent.salaryAmount=e}),label:e.$t("pim.amount"),rules:r.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==l.minAmount||void 0!==l.maxAmount?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){var e,t;return[Object(o["createTextVNode"])(" Min: "+Object(o["toDisplayString"])(null!==(e=l.minAmount)&&void 0!==e?e:0)+" - Max: "+Object(o["toDisplayString"])(null!==(t=l.maxAmount)&&void 0!==t?t:0),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.salaryComponent.comment,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.salaryComponent.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{class:"directdeposit-form-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"directdeposit-form-header-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.include_direct_deposit_details")),1)]})),_:1}),Object(o["createVNode"])(b,{modelValue:r.includeDirectDeposit,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.includeDirectDeposit=e})},null,8,["modelValue"])]})),_:1}),r.includeDirectDeposit?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.directDeposit.directDepositAccount,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.directDeposit.directDepositAccount=e}),label:e.$t("pim.account_number"),rules:r.rules.directDepositAccount,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.directDeposit.directDepositAccountType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.directDeposit.directDepositAccountType=e}),type:"select",label:e.$t("pim.account_type"),rules:r.rules.directDepositAccountType,options:n.accountTypes,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.showOptionalAccountType?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.accountType,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.accountType=e}),label:e.$t("pim.please_specify"),rules:r.rules.accountType,required:""},null,8,["modelValue","label","rules"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.directDeposit.directDepositRoutingNumber,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.directDeposit.directDepositRoutingNumber=e}),label:e.$t("pim.routing_number"),rules:r.rules.directDepositRoutingNumber,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.directDeposit.directDepositAmount,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.directDeposit.directDepositAmount=e}),label:e.$t("pim.amount"),rules:r.rules.directDepositAmount,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var Xf={name:"",salaryAmount:"",comment:"",payGradeId:null,payFrequencyId:null,currencyId:null},Kf={directDepositAccount:"",directDepositAccountType:null,directDepositRoutingNumber:"",directDepositAmount:""},Zf={name:"EditSalaryComponent",components:{"oxd-switch-input":Pa["a"]},props:{http:{type:Object,required:!0},data:{type:Object,required:!0},paygrades:{type:Array,default:function(){return[]}},payFrequencies:{type:Array,default:function(){return[]}},currencies:{type:Array,default:function(){return[]}},accountTypes:{type:Array,default:function(){return[]}}},emits:["close"],data:function(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:Object(M["a"])({},Xf),directDeposit:Object(M["a"])({},Kf),accountType:"",usableCurrencies:[],rules:{name:[On,vn(100)],salaryAmount:[On,Dn,qn(1e9)],comment:[vn(250)],currencyId:[On],directDepositAccount:[On,vn(100)],directDepositAccountType:[On],accountType:[On,vn(20)],directDepositRoutingNumber:[On,vn(9),Dn],directDepositAmount:[On,Dn,qn(1e9)]}}},computed:{showOptionalAccountType:function(){var e;return"OTHER"==(null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id)},minAmount:function(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.minAmount},maxAmount:function(){var e;return null===(e=this.currencyInfo)||void 0===e?void 0:e.maxAmount},currenciesOpts:function(){var e,t=this,n=null===(e=this.salaryComponent.payGradeId)||void 0===e?void 0:e.id;return n?n&&this.usableCurrencies.length>0?this.currencies.filter((function(e){return t.usableCurrencies.findIndex((function(t){return t.id===e.id}))>-1})):[]:this.currencies},currencyInfo:function(){var e=this;return this.usableCurrencies.find((function(t){var n;return t.id===(null===(n=e.salaryComponent.currencyId)||void 0===n?void 0:n.id)}))}},watch:{"salaryComponent.payGradeId":function(e){var t=this;null!==e&&void 0!==e&&e.id?(this.isLoading=!0,this.http.request({url:"/api/v2/admin/pay-grades/".concat(e.id,"/currencies"),method:"GET"}).then((function(e){var n=e.data.data;t.usableCurrencies=n.map((function(e){return{id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary}}));var o=t.salaryComponent.currencyId,a=t.usableCurrencies.findIndex((function(e){return e.id===(null===o||void 0===o?void 0:o.id)}));t.salaryComponent.currencyId=-1===a?[]:t.salaryComponent.currencyId})).then((function(){t.isLoading=!1}))):this.usableCurrencies=[]}},mounted:function(){var e=this;this.$nextTick((function(){e.rules.salaryAmount.push((function(t){var n=e.minAmount?e.minAmount:0;return t>=n||e.$t("pim.should_be_within_min_max_values")})),e.rules.salaryAmount.push((function(t){var n=e.maxAmount?e.maxAmount:999999999;return t<=n||e.$t("pim.should_be_within_min_max_values")}))}))},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;if(e.salaryComponent.name=n.salaryName,e.salaryComponent.salaryAmount=n.amount,e.salaryComponent.comment=n.comment?n.comment:"",e.salaryComponent.payGradeId=e.paygrades.find((function(e){var t;return e.id===(null===(t=n.payGrade)||void 0===t?void 0:t.id)})),e.salaryComponent.payFrequencyId=e.payFrequencies.find((function(e){var t;return e.id===(null===(t=n.payPeriod)||void 0===t?void 0:t.id)})),e.salaryComponent.currencyId=e.currencies.find((function(e){var t;return e.id===(null===(t=n.currencyType)||void 0===t?void 0:t.id)})),null!==n.directDebit.id){e.includeDirectDeposit=!0,e.directDeposit.directDepositAccount=n.directDebit.account;var o=e.accountTypes.find((function(e){return e.id===n.directDebit.accountType}));e.directDeposit.directDepositAccountType=o||{id:"OTHER",label:e.$t("pim.other")},e.accountType=0===o.length?n.directDebit.accountType:"",e.directDeposit.directDepositRoutingNumber=n.directDebit.routingNumber,e.directDeposit.directDepositAmount=n.directDebit.amount}})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o,a=this;this.isLoading=!0;var r=this.showOptionalAccountType?this.accountType:null===(e=this.directDeposit.directDepositAccountType)||void 0===e?void 0:e.id;this.http.update(this.data.id,{salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:null===(t=this.salaryComponent.payGradeId)||void 0===t?void 0:t.id,currencyId:null===(n=this.salaryComponent.currencyId)||void 0===n?void 0:n.id,payFrequencyId:null===(o=this.salaryComponent.payFrequencyId)||void 0===o?void 0:o.id,comment:this.salaryComponent.comment?this.salaryComponent.comment:null,addDirectDeposit:this.includeDirectDeposit,directDepositAccount:this.includeDirectDeposit?this.directDeposit.directDepositAccount:void 0,directDepositAccountType:this.includeDirectDeposit?r:void 0,directDepositAmount:this.includeDirectDeposit?this.directDeposit.directDepositAmount:void 0,directDepositRoutingNumber:this.includeDirectDeposit?this.directDeposit.directDepositRoutingNumber:void 0}).then((function(){return a.$toast.updateSuccess()})).then((function(){a.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};n("2163");const eh=C()(Zf,[["render",Yf],["__scopeId","data-v-535600c8"]]);var th=eh,nh=function(e){return e.map((function(e){var t,n,o;return{id:e.id,name:e.salaryName,amount:e.amount,currency:null===(t=e.currencyType)||void 0===t?void 0:t.name,frequency:null===(n=e.payPeriod)||void 0===n?void 0:n.name,depositAmount:null===(o=e.directDebit)||void 0===o?void 0:o.amount}}))},oh={components:{"profile-action-header":gp,"edit-employee-layout":Fp,"save-salary-component":Hf,"edit-salary-component":th,"delete-confirmation":rn},props:{empNumber:{type:String,required:!0},paygrades:{type:Array,default:function(){return[]}},payFrequencies:{type:Array,default:function(){return[]}},currencies:{type:Array,default:function(){return[]}},accountTypes:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/salary-components")),n=Kt(t,{normalizer:nh,toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,c=n.pageSize,i=n.response,u=n.isLoading,d=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:u,total:r,pages:l,pageSize:c,execQuery:d,items:i}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.salary_component"),style:{flex:1}},{name:"amount",title:this.$t("pim.amount"),style:{flex:1}},{name:"currency",title:this.$t("general.currency"),style:{flex:1}},{name:"frequency",title:this.$t("pim.pay_frequency"),style:{flex:1}},{name:"depositAmount",title:this.$t("pim.direct_deposit_amount"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal},tableHeaders:function(){var e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("salary_details")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("salary_details")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const ah=C()(oh,[["render",Pf]]);var rh=ah,lh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},ch={key:1,class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function ih(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("date-input"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("job-spec-download"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("oxd-switch-input"),h=Object(o["resolveComponent"])("file-upload-input"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("profile-action-header"),C=Object(o["resolveComponent"])("terminate-modal"),y=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(y,{screen:"job","employee-id":n.empNumber,"max-file-size":n.maxFileSize,"allowed-file-types":n.allowedFileTypes},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",lh,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.job_details")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.job.joinedDate,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.job.joinedDate=e}),label:e.$t("general.joined_date"),rules:r.rules.joinedDate,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.jobTitleId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.job.jobTitleId=e}),type:"select",label:e.$t("general.job_title"),options:l.normalizedJobTitles,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{key:"jobspec-".concat(l.selectedJobTitleId),"resource-id":l.selectedJobTitleId},null,8,["resource-id"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.jobCategoryId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.job.jobCategoryId=e}),type:"select",label:e.$t("general.job_category"),options:n.jobCategories,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.subunitId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.job.subunitId=e}),type:"select",label:e.$t("general.sub_unit"),options:n.subunits,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.locationId,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.job.locationId=e}),type:"select",label:e.$t("general.location"),options:n.locations,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.job.empStatusId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.job.empStatusId=e}),type:"select",label:e.$t("general.employment_status"),options:n.employmentStatuses,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{class:"user-form-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"user-form-header-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.include_employment_contract_details")),1)]})),_:1}),Object(o["createVNode"])(f,{modelValue:r.showContractDetails,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.showContractDetails=e})},null,8,["modelValue"])]})),_:1}),r.showContractDetails?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contract.startDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.contract.startDate=e}),label:e.$t("pim.contract_start_date"),rules:r.rules.startDate,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.contract.endDate,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.contract.endDate=e}),label:e.$t("pim.contract_end_date"),rules:r.rules.endDate,disabled:!l.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{newFile:r.contract.newAttachment,"onUpdate:newFile":t[9]||(t[9]=function(e){return r.contract.newAttachment=e}),method:r.contract.method,"onUpdate:method":t[10]||(t[10]=function(e){return r.contract.method=e}),label:e.$t("pim.contract_details"),"button-label":e.$t("general.browse"),file:r.contract.oldAttachment,rules:r.rules.contractAttachment,url:"pim/viewAttachment/empNumber/".concat(n.empNumber,"/attachId"),hint:"Accepts up to 1MB",disabled:!l.hasUpdatePermissions},null,8,["newFile","method","label","button-label","file","rules","url","disabled"])]})),_:1})]})),_:1})]})),_:1})],64)):Object(o["createCommentVNode"])("",!0),l.hasUpdatePermissions?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j)]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","onSubmitValid"])]),l.hasUpdatePermissions?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0})):Object(o["createCommentVNode"])("",!0),l.hasUpdatePermissions?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ch,[Object(o["createVNode"])(g,{"icon-name":"","display-type":l.terminationActionType,label:l.terminationActionLabel,class:"--termination-button",onClick:l.onClickTerminate},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.employee_termination_activation")),1)]})),_:1},8,["display-type","label","onClick"]),r.termination&&r.termination.id?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,tag:"p",class:"orangehrm-terminate-date",onClick:l.openTerminateModal},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.terminated_on"))+": "+Object(o["toDisplayString"])(l.terminationDate),1)]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),r.showTerminateModal?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:2,"employee-id":n.empNumber,"termination-reasons":n.terminationReasons,"termination-id":r.termination.id,onClose:l.closeTerminateModal},null,8,["employee-id","termination-reasons","termination-id","onClose"])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["employee-id","max-file-size","allowed-file-types"])}function uh(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-icon-button"),u=Object(o["resolveComponent"])("oxd-loading-spinner"),d=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{label:e.$t("general.job_specification")},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({"input-container":!0,"--disabled":!e.file.id})},[Object(o["createVNode"])(c,{class:"input-container-filename",tag:"p",title:e.file.filename,onClick:a.downloadFile},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.file.id?e.file.filename:"Not Defined"),1)]})),_:1},8,["title","onClick"]),!e.isLoading&&e.file.id?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"input-container-icon",name:"download",onClick:a.downloadFile},null,8,["onClick"])):Object(o["createCommentVNode"])("",!0),e.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,class:"input-container-loader","with-container":!1})):Object(o["createCommentVNode"])("",!0)],2)]})),_:1},8,["label"])}var dh={name:"JobSpecDownload",components:{"oxd-loading-spinner":ne["a"]},props:{resourceId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/admin/job-titles/".concat(e.resourceId,"/specification")),n=Object(o["reactive"])({isLoading:!1,file:{id:"",filename:"",fileType:"",fileSize:0}}),a=function(){var e=Object(fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.isLoading=!0,t.request({method:"GET",validateStatus:function(e){return e>=200&&e<300||404==e}}).then((function(e){var t=e.data;n.file=Object(M["a"])({},t.data)})).finally((function(){n.isLoading=!1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){if(n.file.id){var e="".concat(window.appGlobal.baseUrl,"/admin/viewJobSpecification/attachId/").concat(n.file.id);window.open(e,"_blank")}};return e.resourceId&&Object(o["onBeforeMount"])(a),Object(M["a"])(Object(M["a"])({},Object(o["toRefs"])(n)),{},{downloadFile:r})}};n("eb83");const sh=C()(dh,[["render",uh],["__scopeId","data-v-d8a08d64"]]);var mh=sh,bh={class:"orangehrm-modal-header"};function ph(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("date-input"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(j,{class:"orangehrm-dialog-modal","onUpdate:show":t[4]||(t[4]=function(e){return l.onCancel(!1)})},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",bh,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.terminate_employment")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.termination.date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.termination.date=e}),label:e.$t("pim.termination_date"),rules:r.rules.date,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.termination.terminationReason,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.termination.terminationReason=e}),type:"select",label:e.$t("pim.termination_reason"),rules:r.rules.terminationReason,options:n.terminationReasons,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.termination.note,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.termination.note=e}),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.type_here"),rules:r.rules.note},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:t[3]||(t[3]=function(e){return l.onCancel(!1)})},null,8,["label"]),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1})}var fh={terminationReason:null,date:"",note:null},hh={name:"TerminateModal",components:{"oxd-dialog":oe["a"]},props:{employeeId:{type:String,required:!0},terminationReasons:{type:Array,required:!0},terminationId:{type:Number,required:!1,default:null}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/terminations")),n=de(),o=n.userDateFormat;return{http:t,userDateFormat:o}},data:function(){return{isLoading:!1,termination:Object(M["a"])({},fh),rules:{terminationReason:[On],date:[On,gn(this.userDateFormat)],note:[vn(250)]}}},beforeMount:function(){var e=this;this.terminationId&&(this.isLoading=!0,this.http.get(this.terminationId).then((function(t){var n=t.data.data;e.termination.terminationReason=e.terminationReasons.find((function(e){var t;return e.id===(null===(t=n.terminationReason)||void 0===t?void 0:t.id)})),e.termination.date=n.date,e.termination.note=n.note})).finally((function(){e.isLoading=!1})))},methods:{onSave:function(){var e,t=this;this.isLoading=!0;var n={date:this.termination.date,note:this.termination.note,terminationReasonId:null===(e=this.termination.terminationReason)||void 0===e?void 0:e.id};this.submitData(n,this.terminationId).then((function(){return t.$toast.updateSuccess()})).then((function(){t.onCancel(!0)}))},submitData:function(e,t){var n=this;return Object(fe["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.abrupt("return",t?n.http.update(t,e):n.http.create(e));case 1:case"end":return o.stop()}}),o)})))()},onCancel:function(e){this.$emit("close",e)}}};const jh=C()(hh,[["render",ph]]);var Oh=jh,vh={joinedDate:"",jobTitleId:[],empStatusId:[],jobCategoryId:[],subunitId:[],locationId:[]},gh={startDate:"",endDate:"",oldAttachment:null,newAttachment:null,method:"keepCurrent"},Ch={components:{"edit-employee-layout":Fp,"oxd-switch-input":Pa["a"],"job-spec-download":mh,"file-upload-input":io,"profile-action-header":gp,"terminate-modal":Oh},props:{empNumber:{type:String,required:!0},locations:{type:Array,default:function(){return[]}},jobTitles:{type:Array,default:function(){return[]}},jobCategories:{type:Array,default:function(){return[]}},subunits:{type:Array,default:function(){return[]}},employmentStatuses:{type:Array,default:function(){return[]}},terminationReasons:{type:Array,default:function(){return[]}},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/job-details")),n=de(),o=n.jsDateFormat,a=n.userDateFormat,r=Xe(),l=r.locale;return{http:t,locale:l,jsDateFormat:o,userDateFormat:a}},data:function(){var e=this;return{isLoading:!1,showContractDetails:!1,job:Object(M["a"])({},vh),contract:Object(M["a"])({},gh),termination:null,showTerminateModal:!1,rules:{joinedDate:[gn(this.userDateFormat)],startDate:[gn(this.userDateFormat)],endDate:[gn(this.userDateFormat),Sn((function(){return e.contract.startDate}))],contractAttachment:[function(t){return"replaceCurrent"!=e.contract.method||On(t)},In(this.allowedFileTypes),Tn(this.maxFileSize)]}}},computed:{selectedJobTitleId:function(){var e,t=null===(e=this.job.jobTitleId)||void 0===e?void 0:e.id;return t||0},terminationActionLabel:function(){var e;return null!==(e=this.termination)&&void 0!==e&&e.id?this.$t("pim.activate_employment"):this.$t("pim.terminate_employment")},terminationActionType:function(){var e;return null!==(e=this.termination)&&void 0!==e&&e.id?"ghost-success":"label-danger"},hasUpdatePermissions:function(){return this.$can.update("job_details")},normalizedJobTitles:function(){var e=this;return this.jobTitles.map((function(t){return{id:t.id,label:null!==t&&void 0!==t&&t.deleted?t.label+e.$t("general.deleted"):t.label}}))},terminationDate:function(){var e;return null!==(e=this.termination)&&void 0!==e&&e.date?ke(_e(this.termination.date),this.jsDateFormat,{locale:this.locale}):null}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){e.updateJobModel(t)})).then((function(){return e.http.request({method:"GET",url:"api/v2/pim/employees/".concat(e.empNumber,"/employment-contract")})})).then((function(t){e.updateContractModel(t)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o,a,r=this;this.isLoading=!0,this.http.request({method:"PUT",data:Object(M["a"])(Object(M["a"])({},this.job),{},{jobTitleId:null===(e=this.job.jobTitleId)||void 0===e?void 0:e.id,jobCategoryId:null===(t=this.job.jobCategoryId)||void 0===t?void 0:t.id,subunitId:null===(n=this.job.subunitId)||void 0===n?void 0:n.id,empStatusId:null===(o=this.job.empStatusId)||void 0===o?void 0:o.id,locationId:null===(a=this.job.locationId)||void 0===a?void 0:a.id})}).then((function(e){return r.updateJobModel(e),r.http.request({method:"PUT",url:"api/v2/pim/employees/".concat(r.empNumber,"/employment-contract"),data:{startDate:r.contract.startDate,endDate:r.contract.endDate,currentContractAttachment:r.contract.oldAttachment?r.contract.method:void 0,contractAttachment:r.contract.newAttachment?r.contract.newAttachment:void 0}})})).then((function(e){return e&&r.updateContractModel(e),r.$toast.updateSuccess()})).then((function(){r.isLoading=!1}))},onClickTerminate:function(){var e,t=this;null!==(e=this.termination)&&void 0!==e&&e.id?(this.$loader.startLoading(),this.http.request({method:"DELETE",url:"api/v2/pim/employees/".concat(this.empNumber,"/terminations")}).then((function(){return t.$toast.updateSuccess()})).then((function(){t.$loader.endLoading(),location.reload()}))):this.openTerminateModal()},openTerminateModal:function(){this.showTerminateModal=!0},closeTerminateModal:function(e){this.showTerminateModal=!1,e&&location.reload()},updateContractModel:function(e){var t,n,o=e.data.data;this.contract.startDate=o.startDate,this.contract.endDate=o.endDate,this.contract.oldAttachment=null!==(t=o.contractAttachment)&&void 0!==t&&t.id?o.contractAttachment:null,this.contract.newAttachment=null,this.contract.method="keepCurrent",o.startDate||o.endDate||null!==(n=o.contractAttachment)&&void 0!==n&&n.id?this.showContractDetails=!0:this.showContractDetails=!1},updateJobModel:function(e){var t=e.data.data;this.job.joinedDate=t.joinedDate,this.job.jobTitleId=this.normalizedJobTitles.find((function(e){var n;return e.id===(null===(n=t.jobTitle)||void 0===n?void 0:n.id)})),this.job.jobCategoryId=this.jobCategories.find((function(e){var n;return e.id===(null===(n=t.jobCategory)||void 0===n?void 0:n.id)})),this.job.subunitId=this.subunits.find((function(e){var n;return e.id===(null===(n=t.subunit)||void 0===n?void 0:n.id)})),this.job.empStatusId=this.employmentStatuses.find((function(e){var n;return e.id===(null===(n=t.empStatus)||void 0===n?void 0:n.id)})),this.job.locationId=this.locations.find((function(e){var n;return e.id===(null===(n=t.location)||void 0===n?void 0:n.id)})),this.termination=t.employeeTerminationRecord}}};n("046c");const yh=C()(Ch,[["render",ih],["__scopeId","data-v-09003a95"]]);var Vh=yh,wh={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function xh(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("employee-work-experience"),d=Object(o["resolveComponent"])("employee-education"),s=Object(o["resolveComponent"])("employee-skills"),m=Object(o["resolveComponent"])("employee-languages"),b=Object(o["resolveComponent"])("employee-license"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"qualifications"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",wh,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.qualifications")),1)]})),_:1}),Object(o["createVNode"])(i)]),Object(o["createVNode"])(u,{"employee-id":n.empNumber},null,8,["employee-id"]),Object(o["createVNode"])(d,{"employee-id":n.empNumber},null,8,["employee-id"]),Object(o["createVNode"])(s,{"employee-id":n.empNumber},null,8,["employee-id"]),Object(o["createVNode"])(m,{"employee-id":n.empNumber,fluencies:n.fluencies,competencies:n.competencies},null,8,["employee-id","fluencies","competencies"]),Object(o["createVNode"])(b,{"employee-id":n.empNumber},null,8,["employee-id"])]})),_:1},8,["employee-id"])}var Dh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Nh={class:"orangehrm-container"},_h={key:2,class:"orangehrm-bottom-container"};function kh(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-skill"),u=Object(o["resolveComponent"])("edit-skill"),d=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,api:a.skillsEndpoint,onClose:l.onSaveModalClose},null,8,["http","api","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Dh,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.skills")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Nh,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,disabled:l.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_h,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var Eh={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Sh(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("qualification-dropdown"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Eh,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_skill")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.skill.skillId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.skill.skillId=e}),label:e.$t("pim.skill"),rules:r.rules.skillId,api:n.api,required:""},null,8,["modelValue","label","rules","api"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.skill.yearsOfExperience,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.skill.yearsOfExperience=e}),label:e.$t("pim.years_of_experience"),rules:r.rules.yearsOfExperience},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.skill.comments,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.skill.comments=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comments},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}function Ah(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",options:a.options},null,8,["options"])}var $h={name:"QualificationDropdown",props:{api:{type:String,required:!0}},setup:function(e){var t=Object(o["ref"])([]),n=new te(window.appGlobal.baseUrl,e.api);return Object(o["onBeforeMount"])((function(){n.getAll().then((function(e){var n=e.data;t.value=n.data.map((function(e){return{id:e.id,label:e.name}}))}))})),{options:t}}};const Fh=C()($h,[["render",Ah]]);var Bh=Fh,Th={yearsOfExperience:"",comments:"",skillId:null},Ih={name:"SaveSkill",components:{"qualification-dropdown":Bh},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],data:function(){return{isLoading:!1,skill:Object(M["a"])({},Th),rules:{skillId:[On],yearsOfExperience:[wn,Vn(100)],comments:[vn(100)]}}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create({skillId:null===(e=this.skill.skillId)||void 0===e?void 0:e.id,yearsOfExperience:parseInt(this.skill.yearsOfExperience),comments:""!==this.skill.comments?this.skill.comments:" "}).then((function(){return t.$toast.saveSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Lh=C()(Ih,[["render",Sh]]);var Uh=Lh,Ph={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function qh(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ph,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_skill")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.skill.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.skill.name=e}),label:e.$t("pim.skill"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.skill.yearsOfExperience,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.skill.yearsOfExperience=e}),label:e.$t("pim.years_of_experience"),rules:r.rules.yearsOfExperience},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.skill.comments,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.skill.comments=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comments},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var Rh={yearsOfExperience:0,comments:"",name:""},Mh={name:"EditSkill",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data:function(){return{isLoading:!1,skill:Object(M["a"])({},Rh),rules:{yearsOfExperience:[wn,Vn(100)],comments:[vn(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.skill.name=n.skill.name,e.skill.comments=n.comments,e.skill.yearsOfExperience=n.yearsOfExperience})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{yearsOfExperience:parseInt(this.skill.yearsOfExperience),comments:""!==this.skill.comments?this.skill.comments:" "}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const zh=C()(Mh,[["render",qh]]);var Gh=zh,Qh=function(e){return e.map((function(e){return{id:e.skill.id,name:e.skill.name,yearsOfExperience:e.yearsOfExperience,comments:e.comments}}))},Wh={name:"EmployeeSkills",components:{"profile-action-header":gp,"save-skill":Uh,"edit-skill":Gh,"delete-confirmation":rn},props:{employeeId:{type:String,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/skills")),n="api/v2/pim/employees/".concat(e.employeeId,"/skills/allowed?limit=0"),o=Kt(t,{normalizer:Qh,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u,skillsEndpoint:n}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.skill"),style:{flex:1}},{name:"yearsOfExperience",title:this.$t("pim.years_of_experience"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Hh=C()(Wh,[["render",kh]]);var Jh=Hh,Yh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Xh={class:"orangehrm-container"},Kh={key:2,class:"orangehrm-bottom-container"};function Zh(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-education"),u=Object(o["resolveComponent"])("edit-education"),d=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,api:a.educationEndpoint,onClose:l.onSaveModalClose},null,8,["http","api","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Yh,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.education")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Xh,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,disabled:l.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Kh,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var ej={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function tj(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("qualification-dropdown"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ej,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_education")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.education.educationId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.education.educationId=e}),label:e.$t("general.level"),rules:r.rules.educationId,api:n.api,required:""},null,8,["modelValue","label","rules","api"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.education.institute,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.education.institute=e}),label:e.$t("pim.institute"),rules:r.rules.institute},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.education.major,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.education.major=e}),label:e.$t("pim.major_specialization"),rules:r.rules.major},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.education.year,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.education.year=e}),label:e.$t("general.year"),rules:r.rules.year},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.education.score,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.education.score=e}),label:e.$t("pim.gpa_score"),rules:r.rules.score},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.education.startDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.education.startDate=e}),label:e.$t("general.start_date"),rules:r.rules.startDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.education.endDate,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.education.endDate=e}),label:e.$t("general.end_date"),rules:r.rules.endDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var nj={educationId:null,institute:"",major:"",year:"",score:"",startDate:"",endDate:""},oj={name:"SaveEducation",components:{"qualification-dropdown":Bh},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,education:Object(M["a"])({},nj),rules:{educationId:[On],institute:[vn(100)],major:[vn(100)],score:[vn(25)],year:[vn(4),wn],startDate:[gn(this.userDateFormat)],endDate:[gn(this.userDateFormat),Sn((function(){return e.education.startDate}))]}}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.education),{},{educationId:null===(e=this.education.educationId)||void 0===e?void 0:e.id,year:parseInt(this.education.year)})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const aj=C()(oj,[["render",tj]]);var rj=aj,lj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function cj(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",lj,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_education")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.education.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.education.name=e}),label:e.$t("general.level"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.education.institute,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.education.institute=e}),label:e.$t("pim.institute"),rules:r.rules.institute},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.education.major,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.education.major=e}),label:e.$t("pim.major_specialization"),rules:r.rules.major},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.education.year,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.education.year=e}),label:e.$t("general.year"),rules:r.rules.year},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.education.score,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.education.score=e}),label:e.$t("pim.gpa_score"),rules:r.rules.score},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.education.startDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.education.startDate=e}),label:e.$t("general.start_date"),rules:r.rules.startDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.education.endDate,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.education.endDate=e}),label:e.$t("general.end_date"),rules:r.rules.endDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var ij={name:"",institute:"",major:"",year:"",score:"",startDate:"",endDate:""},uj={name:"EditEducation",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,education:Object(M["a"])({},ij),rules:{institute:[vn(100)],major:[vn(100)],score:[vn(25)],year:[vn(4),wn],startDate:[gn(this.userDateFormat)],endDate:[gn(this.userDateFormat),Sn((function(){return e.education.startDate}))]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.education.name=n.education.name,e.education.institute=n.institute,e.education.major=n.major,e.education.year=n.year?n.year:"",e.education.score=n.score,e.education.startDate=n.startDate?n.startDate:"",e.education.endDate=n.endDate?n.endDate:""})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{institute:this.education.institute,major:this.education.major,year:parseInt(this.education.year),score:this.education.score,startDate:this.education.startDate,endDate:this.education.endDate}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const dj=C()(uj,[["render",cj]]);var sj=dj,mj=function(e){return e.map((function(e){return{id:e.id,level:e.education.name,year:e.year,score:e.score}}))},bj={name:"EmployeeEducation",components:{"profile-action-header":gp,"save-education":rj,"edit-education":sj,"delete-confirmation":rn},props:{employeeId:{type:String,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/educations")),n="api/v2/admin/educations?limit=0",o=Kt(t,{normalizer:mj,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u,educationEndpoint:n}},data:function(){return{headers:[{name:"level",slot:"title",title:this.$t("general.level"),style:{flex:1}},{name:"year",title:this.$t("general.year"),style:{flex:1}},{name:"score",title:this.$t("pim.gpa_score"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const pj=C()(bj,[["render",Zh]]);var fj=pj,hj={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},jj={class:"orangehrm-container"},Oj={key:2,class:"orangehrm-bottom-container"};function vj(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-language"),u=Object(o["resolveComponent"])("edit-language"),d=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,api:a.languagesEndpoint,fluencies:n.fluencies,competencies:n.competencies,onClose:l.onSaveModalClose},null,8,["http","api","fluencies","competencies","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,http:a.http,data:r.editModalState,"employee-id":n.employeeId,competencies:n.competencies,onClose:l.onEditModalClose},null,8,["http","data","employee-id","competencies","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",hj,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.languages")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",jj,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,disabled:l.isDisabled,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Oj,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var gj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Cj(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gj,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_language")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{key:l.allowedLanguages,modelValue:r.language.languageId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language.languageId=e}),type:"select",label:e.$t("general.language"),options:l.allowedLanguages,rules:r.rules.languageId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{key:l.allowedFluencies,modelValue:r.language.fluencyId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.language.fluencyId=e}),type:"select",label:e.$t("pim.fluency"),options:l.allowedFluencies,rules:r.rules.fluencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language.competencyId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.language.competencyId=e}),type:"select",label:e.$t("pim.competency"),options:n.competencies,rules:r.rules.competencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language.comment,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.language.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var yj={languageId:null,fluencyId:null,competencyId:null,comment:""},Vj={name:"SaveLanguage",props:{http:{type:Object,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0},api:{type:String,required:!0}},emits:["close"],data:function(){return{isLoading:!1,language:Object(M["a"])({},yj),languages:[],rules:{languageId:[On],fluencyId:[On],competencyId:[On],comment:[vn(100)]}}},computed:{allowedLanguages:function(){return this.languages},allowedFluencies:function(){var e=this,t=this.languages.findIndex((function(t){var n;return t.id===(null===(n=e.language.languageId)||void 0===n?void 0:n.id)}));if(t>-1){var n=this.languages[t];return this.fluencies.filter((function(e){return n.allowedFluencyIds.includes(e.id)}))}return[]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:this.api}).then((function(t){var n=t.data.data;Array.isArray(n)&&(e.languages=n.map((function(e){return{id:e.id,label:e.name,allowedFluencyIds:e.allowedFluencyIds?e.allowedFluencyIds:[]}})))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o=this;this.isLoading=!0,this.http.create({languageId:null===(e=this.language.languageId)||void 0===e?void 0:e.id,fluencyId:null===(t=this.language.fluencyId)||void 0===t?void 0:t.id,competencyId:null===(n=this.language.competencyId)||void 0===n?void 0:n.id,comment:this.language.comment}).then((function(){return o.$toast.saveSuccess()})).then((function(){o.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const wj=C()(Vj,[["render",Cj]]);var xj=wj,Dj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Nj(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Dj,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_language")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.language.name=e}),label:e.$t("general.language"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language.fluency,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.language.fluency=e}),label:e.$t("pim.fluency"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language.competencyId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.language.competencyId=e}),type:"select",label:e.$t("pim.competency"),options:n.competencies,rules:r.rules.competencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.language.comment,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.language.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var _j={name:"",fluency:"",competencyId:null,comment:""},kj={name:"EditLanguage",props:{http:{type:Object,required:!0},employeeId:{type:String,required:!0},data:{type:Object,required:!0},competencies:{type:Array,required:!0}},emits:["close"],data:function(){return{isLoading:!1,language:Object(M["a"])({},_j),rules:{competencyId:[On],comment:[vn(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/pim/employees/".concat(this.employeeId,"/languages/").concat(this.data.languageId,"/fluencies/").concat(this.data.fluencyId)}).then((function(t){var n=t.data.data;e.language.name=n.language.name,e.language.fluency=n.fluency.name,e.language.comment=n.comment?n.comment:"",e.language.competencyId=e.competencies.find((function(e){var t;return e.id===(null===(t=n.competency)||void 0===t?void 0:t.id)}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",url:"api/v2/pim/employees/".concat(this.employeeId,"/languages/").concat(this.data.languageId,"/fluencies/").concat(this.data.fluencyId),data:{competencyId:this.language.competencyId.id,comment:this.language.comment}}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Ej=C()(kj,[["render",Nj]]);var Sj=Ej,Aj=function(e){return e.map((function(e){return{language:e.language.name,languageId:e.language.id,fluency:e.fluency.name,fluencyId:e.fluency.id,competency:e.competency.name,comments:e.comment}}))},$j={name:"EmployeeLanguages",components:{"profile-action-header":gp,"save-language":xj,"edit-language":Sj,"delete-confirmation":rn},props:{employeeId:{type:String,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/languages")),n="api/v2/pim/employees/".concat(e.employeeId,"/languages/allowed?limit=0"),o=Kt(t,{normalizer:Aj,toastNoRecords:!1}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u,languagesEndpoint:n}},data:function(){return{headers:[{name:"language",slot:"title",title:this.$t("general.language"),style:{flex:1}},{name:"fluency",title:this.$t("pim.fluency"),style:{flex:1}},{name:"competency",title:this.$t("pim.competency"),style:{flex:1}},{name:"comments",title:this.$t("general.comments"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n,o;return{languageId:null===(n=e.items)||void 0===n?void 0:n.data[t].languageId,fluencyId:null===(o=e.items)||void 0===o?void 0:o.data[t].fluencyId}}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([{languageId:e.languageId,fluencyId:e.fluencyId}])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Fj=C()($j,[["render",vj]]);var Bj=Fj,Tj={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Ij={class:"orangehrm-container"},Lj={key:2,class:"orangehrm-bottom-container"};function Uj(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-work-experience"),u=Object(o["resolveComponent"])("edit-work-experience"),d=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,onClose:l.onSaveModalClose},null,8,["http","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Tj,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.work_experience")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Ij,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,disabled:l.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Lj,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var Pj={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function qj(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Pj,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_work_experience")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workExperience.company,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workExperience.company=e}),label:e.$t("pim.company"),rules:r.rules.company,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workExperience.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workExperience.jobTitle=e}),label:e.$t("general.job_title"),rules:r.rules.jobTitle,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workExperience.fromDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workExperience.fromDate=e}),label:e.$t("general.from"),rules:r.rules.fromDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workExperience.toDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workExperience.toDate=e}),label:e.$t("general.to"),rules:r.rules.toDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workExperience.comment,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.workExperience.comment=e}),type:"textarea",label:e.$t("general.comment"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var Rj={company:"",jobTitle:"",fromDate:"",toDate:"",comment:""},Mj={name:"SaveWorkExperience",props:{http:{type:Object,required:!0}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,workExperience:Object(M["a"])({},Rj),rules:{company:[On,vn(100)],jobTitle:[On,vn(100)],fromDate:[gn(this.userDateFormat)],toDate:[gn(this.userDateFormat),Sn((function(){return e.workExperience.fromDate}),this.$t("general.to_date_should_be_after_from_date"))],comment:[vn(200)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.workExperience)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const zj=C()(Mj,[["render",qj]]);var Gj=zj,Qj={class:"orangehrm-horizontal-padding orangehrm-top-padding"},Wj=Object(o["createTextVNode"])(" Edit Work Experience ");function Hj(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qj,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Wj]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workExperience.company,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workExperience.company=e}),label:e.$t("pim.company"),rules:r.rules.company,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workExperience.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workExperience.jobTitle=e}),label:e.$t("general.job_title"),rules:r.rules.jobTitle,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workExperience.fromDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workExperience.fromDate=e}),label:e.$t("general.from"),rules:r.rules.fromDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.workExperience.toDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workExperience.toDate=e}),label:e.$t("general.to"),rules:r.rules.toDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workExperience.comment,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.workExperience.comment=e}),type:"textarea",label:e.$t("general.comment"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var Jj={company:"",jobTitle:"",fromDate:"",toDate:"",comment:""},Yj={name:"EditWorkExperience",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,workExperience:Object(M["a"])({},Jj),rules:{company:[On,vn(100)],jobTitle:[On,vn(100)],fromDate:[gn(this.userDateFormat)],toDate:[gn(this.userDateFormat),Sn((function(){return e.workExperience.fromDate}),this.$t("general.to_date_should_be_after_from_date"))],comment:[vn(200)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.workExperience=Object(M["a"])({},n)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,Object(M["a"])({},this.workExperience)).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Xj=C()(Yj,[["render",Hj]]);var Kj=Xj,Zj={name:"EmployeeWorkExperience",components:{"profile-action-header":gp,"save-work-experience":Gj,"edit-work-experience":Kj,"delete-confirmation":rn},props:{employeeId:{type:String,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/work-experiences")),n=de(),o=n.jsDateFormat,a=Xe(),r=a.locale,l=function(e){return e.map((function(e){return Object(M["a"])(Object(M["a"])({},e),{},{fromDate:ke(_e(e.fromDate),o,{locale:r}),toDate:ke(_e(e.toDate),o,{locale:r})})}))},c=Kt(t,{toastNoRecords:!1,normalizer:l}),i=c.showPaginator,u=c.currentPage,d=c.total,s=c.pages,m=c.pageSize,b=c.response,p=c.isLoading,f=c.execQuery;return{http:t,showPaginator:i,currentPage:u,isLoading:p,total:d,pages:s,pageSize:m,execQuery:f,items:b}},data:function(){return{headers:[{name:"company",slot:"title",title:this.$t("pim.company"),style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),style:{flex:1}},{name:"fromDate",title:this.$t("general.from"),style:{flex:1}},{name:"toDate",title:this.$t("general.to"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const eO=C()(Zj,[["render",Uj]]);var tO=eO,nO={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},oO={class:"orangehrm-container"},aO={key:2,class:"orangehrm-bottom-container"};function rO(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-license"),u=Object(o["resolveComponent"])("edit-license"),d=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,api:a.licenceEndpoint,onClose:l.onSaveModalClose},null,8,["http","api","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,http:a.http,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",nO,[Object(o["createVNode"])(d,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.license")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",oO,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,disabled:l.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",aO,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var lO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function cO(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("qualification-dropdown"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",lO,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_license")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.license.licenseId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.license.licenseId=e}),label:e.$t("pim.license_type"),rules:r.rules.licenseId,api:n.api,required:""},null,8,["modelValue","label","rules","api"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.license.licenseNo,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.license.licenseNo=e}),label:e.$t("pim.license_number"),rules:r.rules.licenseNo},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.license.issuedDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.license.issuedDate=e}),label:e.$t("pim.issued_date"),rules:r.rules.issuedDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.license.expiryDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.license.expiryDate=e}),label:e.$t("general.expiry_date"),rules:r.rules.expiryDate,years:r.yearArray},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var iO=n("2909"),uO=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getFullYear(),n=new Array(e),o=0;o<n.length;o++)n[o]=t-Math.floor(e/2)+o;return n},dO={licenseId:null,licenseNo:"",issuedDate:"",expiryDate:""},sO={name:"SaveLicense",components:{"qualification-dropdown":Bh},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,license:Object(M["a"])({},dO),yearArray:Object(iO["a"])(uO()),rules:{licenseId:[On],licenseNo:[vn(50)],issuedDate:[gn(this.userDateFormat)],expiryDate:[gn(this.userDateFormat),Sn((function(){return e.license.issuedDate}),this.$t("pim.expiry_date_should_be_after_issued_date"))]}}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.license),{},{licenseId:null===(e=this.license.licenseId)||void 0===e?void 0:e.id})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const mO=C()(sO,[["render",cO]]);var bO=mO,pO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function fO(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pO,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_license")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.license.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.license.name=e}),label:e.$t("pim.license_type"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.license.licenseNo,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.license.licenseNo=e}),label:e.$t("pim.license_number"),rules:r.rules.licenseNo},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.license.issuedDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.license.issuedDate=e}),label:e.$t("pim.issued_date"),rules:r.rules.issuedDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.license.expiryDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.license.expiryDate=e}),label:e.$t("general.expiry_date"),rules:r.rules.expiryDate,years:r.yearArray},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var hO={name:"",licenseNo:"",issuedDate:"",expiryDate:""},jO={name:"EditLicense",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,license:Object(M["a"])({},hO),yearArray:Object(iO["a"])(uO()),rules:{licenseNo:[vn(50)],issuedDate:[gn(this.userDateFormat)],expiryDate:[gn(this.userDateFormat),Sn((function(){return e.license.issuedDate}),this.$t("pim.expiry_date_should_be_after_issued_date"))]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.license.name=n.license.name,e.license.licenseNo=n.licenseNo?n.licenseNo:"",e.license.issuedDate=n.issuedDate,e.license.expiryDate=n.expiryDate})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{licenseNo:this.license.licenseNo,issuedDate:this.license.issuedDate,expiryDate:this.license.expiryDate}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const OO=C()(jO,[["render",fO]]);var vO=OO,gO={name:"EmployeeLicense",components:{"profile-action-header":gp,"save-license":bO,"edit-license":vO,"delete-confirmation":rn},props:{employeeId:{type:String,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.employeeId,"/licenses")),n=de(),o=n.jsDateFormat,a=Xe(),r=a.locale,l="api/v2/pim/employees/".concat(e.employeeId,"/licenses/allowed?limit=0"),c=function(e){return e.map((function(e){return{id:e.license.id,type:e.license.name,licenseNo:e.licenseNo,issuedDate:ke(_e(e.issuedDate),o,{locale:r}),expiryDate:ke(_e(e.expiryDate),o,{locale:r})}}))},i=Kt(t,{normalizer:c,toastNoRecords:!1}),u=i.showPaginator,d=i.currentPage,s=i.total,m=i.pages,b=i.pageSize,p=i.response,f=i.isLoading,h=i.execQuery;return{http:t,showPaginator:u,currentPage:d,isLoading:f,total:s,pages:m,pageSize:b,execQuery:h,items:p,licenceEndpoint:l}},data:function(){return{headers:[{name:"type",slot:"title",title:this.$t("pim.license_type"),style:{flex:1}},{name:"issuedDate",title:this.$t("pim.issued_date"),style:{flex:1}},{name:"expiryDate",title:this.$t("general.expiry_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const CO=C()(gO,[["render",rO]]);var yO=CO,VO={components:{"edit-employee-layout":Fp,"employee-skills":Jh,"employee-education":fj,"employee-languages":Bj,"employee-work-experience":tO,"employee-license":yO},props:{empNumber:{type:String,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0}}};const wO=C()(VO,[["render",xh]]);var xO=wO,DO={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},NO={class:"orangehrm-container"},_O={class:"orangehrm-bottom-container"};function kO(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("save-immigration"),i=Object(o["resolveComponent"])("edit-immigration"),u=Object(o["resolveComponent"])("profile-action-header"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"immigration"},{default:Object(o["withCtx"])((function(){var p;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,countries:n.countries,onClose:l.onSaveModalClose},null,8,["http","countries","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,http:a.http,countries:n.countries,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","countries","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",DO,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_immigration_records")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",NO,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(p=a.items)||void 0===p?void 0:p.data,selectable:!0,disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(o["createElementVNode"])("div",_O,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var EO={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function SO(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-input-group"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",EO,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_immigration")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:e.$t("pim.document"),classes:{wrapper:"--gender-grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.immigration.type=e}),type:"radio","option-label":e.$t("pim.passport"),value:"1"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.immigration.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.immigration.type=e}),type:"radio","option-label":e.$t("pim.visa"),value:"2"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.number,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.immigration.number=e}),label:e.$t("pim.number"),rules:r.rules.number,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.issuedDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.immigration.issuedDate=e}),label:e.$t("pim.issued_date"),rules:r.rules.issuedDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.expiryDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.immigration.expiryDate=e}),label:e.$t("general.expiry_date"),years:r.yearArray,rules:r.rules.expiryDate},null,8,["modelValue","label","years","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.status,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.immigration.status=e}),label:e.$t("pim.eligible_status"),rules:r.rules.status},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.countryCode,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.immigration.countryCode=e}),type:"select",label:e.$t("pim.issued_by"),options:n.countries},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.reviewDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.immigration.reviewDate=e}),label:e.$t("pim.eligible_review_date"),rules:r.rules.reviewDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.comment,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.immigration.comment=e}),type:"textarea",label:e.$t("general.comments"),placeholder:e.$t("general.type_comments_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var AO={number:"",issuedDate:"",expiryDate:"",type:1,status:"",reviewDate:"",countryCode:null,comment:""},$O={name:"SaveImmigration",props:{http:{type:Object,required:!0},countries:{type:Array,default:function(){return[]}}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,immigration:Object(M["a"])({},AO),yearArray:Object(iO["a"])(uO()),rules:{number:[On,vn(30)],expiryDate:[gn(this.userDateFormat),Sn((function(){return e.immigration.issuedDate}),this.$t("pim.expiry_date_should_be_after_issued_date"))],status:[vn(30)],issuedDate:[gn(this.userDateFormat)],reviewDate:[gn(this.userDateFormat)],comment:[vn(250)]}}},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.immigration),{},{countryCode:null===(e=this.immigration.countryCode)||void 0===e?void 0:e.id})).then((function(){return t.$toast.saveSuccess()})).then((function(){t.immigration=Object(M["a"])({},AO),t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const FO=C()($O,[["render",SO]]);var BO=FO,TO={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function IO(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-input-group"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",TO,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_immigration")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:"Document",classes:r.immigrationTypeClasses},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.immigration.type=e}),type:"radio","option-label":e.$t("pim.passport"),value:"1"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.immigration.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.immigration.type=e}),type:"radio","option-label":e.$t("pim.visa"),value:"2"},null,8,["modelValue","option-label"])]})),_:1},8,["classes"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.number,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.immigration.number=e}),label:e.$t("pim.number"),rules:r.rules.number,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.issuedDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.immigration.issuedDate=e}),label:e.$t("pim.issued_date"),rules:r.rules.issuedDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.expiryDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.immigration.expiryDate=e}),label:e.$t("general.expiry_date"),years:r.yearArray,rules:r.rules.expiryDate},null,8,["modelValue","label","years","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.status,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.immigration.status=e}),label:e.$t("pim.eligible_status"),rules:r.rules.status},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.countryCode,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.immigration.countryCode=e}),type:"select",label:e.$t("pim.issued_by"),options:n.countries},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.immigration.reviewDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.immigration.reviewDate=e}),label:e.$t("pim.eligible_review_date"),rules:r.rules.reviewDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.immigration.comment,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.immigration.comment=e}),type:"textarea",label:e.$t("general.comments"),placeholder:e.$t("general.type_comments_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var LO={number:"",issuedDate:"",expiryDate:"",type:1,status:"",reviewDate:"",countryCode:null,comment:""},UO={name:"EditImmigration",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},countries:{type:Array,default:function(){return[]}}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,immigration:Object(M["a"])({},LO),yearArray:Object(iO["a"])(uO()),rules:{number:[On,vn(30)],expiryDate:[gn(this.userDateFormat),Sn((function(){return e.immigration.issuedDate}),this.$t("pim.expiry_date_should_be_after_issued_date"))],status:[vn(30)],issuedDate:[gn(this.userDateFormat)],reviewDate:[gn(this.userDateFormat)],comment:[vn(250)]},immigrationTypeClasses:{wrapper:"--gender-grouped-field",label:{"oxd-input-field-required":!0}}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.immigration=Object(M["a"])(Object(M["a"])({},LO),n),e.immigration.countryCode=e.countries.find((function(e){var t;return e.id===(null===(t=n.country)||void 0===t?void 0:t.code)}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.update(this.data.id,{number:this.immigration.number,issuedDate:this.immigration.issuedDate,expiryDate:this.immigration.expiryDate,type:this.immigration.type,status:this.immigration.status,reviewDate:this.immigration.reviewDate,comment:this.immigration.comment,countryCode:null===(e=this.immigration.countryCode)||void 0===e?void 0:e.id}).then((function(){return t.$toast.updateSuccess()})).then((function(){t.immigration=Object(M["a"])({},LO),t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const PO=C()(UO,[["render",IO]]);var qO=PO,RO={components:{"profile-action-header":gp,"edit-employee-layout":Fp,"save-immigration":BO,"edit-immigration":qO,"delete-confirmation":rn},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/immigrations")),n=de(),o=n.jsDateFormat,a=Xe(),r=a.locale,l=function(e){return e.map((function(e){return{id:e.id,type:1==e.type?"Passport":"VISA",number:e.number,countryCode:e.country.code,countryName:e.country.name,issuedDate:ke(_e(e.issuedDate),o,{locale:r}),expiryDate:ke(_e(e.expiryDate),o,{locale:r})}}))},c=Kt(t,{normalizer:l,toastNoRecords:!1}),i=c.showPaginator,u=c.currentPage,d=c.total,s=c.pages,m=c.pageSize,b=c.response,p=c.isLoading,f=c.execQuery;return{http:t,showPaginator:i,currentPage:u,isLoading:p,total:d,pages:s,pageSize:m,execQuery:f,items:b}},data:function(){return{headers:[{name:"type",slot:"title",title:this.$t("pim.document"),style:{flex:1}},{name:"number",title:this.$t("pim.number"),style:{flex:1}},{name:"countryName",title:this.$t("pim.issued_by"),style:{flex:1}},{name:"issuedDate",title:this.$t("pim.issued_date"),style:{flex:1}},{name:"expiryDate",title:this.$t("general.expiry_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};n("d3dd");const MO=C()(RO,[["render",kO],["__scopeId","data-v-86f003b2"]]);var zO=MO,GO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function QO(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("employee-supervisors"),d=Object(o["resolveComponent"])("employee-subordinates"),s=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(s,{"employee-id":n.empNumber,screen:"report-to"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",GO,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.report_to")),1)]})),_:1}),Object(o["createVNode"])(i)]),Object(o["createVNode"])(u,{"emp-number":n.empNumber,"reporting-methods":n.reportingMethods},null,8,["emp-number","reporting-methods"]),Object(o["createVNode"])(d,{"emp-number":n.empNumber,"reporting-methods":n.reportingMethods},null,8,["emp-number","reporting-methods"])]})),_:1},8,["employee-id"])}var WO={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},HO={class:"orangehrm-container"},JO={key:2,class:"orangehrm-bottom-container"};function YO(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-employee-report-to"),u=Object(o["resolveComponent"])("edit-employee-report-to"),d=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,"reporting-methods":n.reportingMethods,type:"Supervisor","emp-number":n.empNumber,onClose:l.onSaveModalClose},null,8,["http","reporting-methods","emp-number","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,http:a.http,"emp-number":n.empNumber,data:r.editModalState,type:"Supervisor",api:a.supervisorEndpoint,"reporting-methods":n.reportingMethods,onClose:l.onEditModalClose},null,8,["http","emp-number","data","api","reporting-methods","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",WO,[Object(o["createVNode"])(d,{"action-button-shown":e.$can.create("supervisor"),onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_supervisors")),1)]})),_:1},8,["action-button-shown","onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",HO,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.tableHeaders,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:e.$can.delete("supervisor"),disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",JO,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var XO={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function KO(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("report-to-employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",XO,["Supervisor"===n.type?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_supervisor")),1)]})),_:1})):Object(o["createCommentVNode"])("",!0),"Subordinate"===n.type?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_subordinate")),1)]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.reportTo.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.reportTo.employee=e}),rules:r.rules.employee,api:a.api,required:""},null,8,["modelValue","rules","api"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.reportTo.reportingMethod,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.reportTo.reportingMethod=e}),type:"select",label:e.$t("pim.reporting_method"),rules:r.rules.reportingMethod,options:n.reportingMethods,required:""},null,8,["modelValue","label","rules","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:"Cancel",onClick:l.onCancel},null,8,["onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var ZO={key:0,class:"past-employee-tag"};function ev(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"autocomplete",label:e.$t("general.name"),clear:!1,"create-options":l.loadEmployees},{afterSelected:Object(o["withCtx"])((function(t){var n=t.data;return[n.isPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.past_employee")),1)],64)):Object(o["createCommentVNode"])("",!0)]})),option:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.label),1),n.isPastEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ZO,Object(o["toDisplayString"])(e.$t("general.past_employee")),1)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["label","create-options"])}var tv={name:"ReportToEmployeeAutocomplete",props:{api:{type:String,required:!0},params:{type:Object,default:function(){return{}}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,e.api);return{http:t}},methods:{loadEmployees:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll(Object(M["a"])({nameOrId:e.trim()},t.params)).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const nv=C()(tv,[["render",ev]]);var ov=nv,av={employee:null,reportingMethod:null},rv={name:"SaveEmployeeReportTo",components:{"report-to-employee-autocomplete":ov},props:{http:{type:Object,required:!0},reportingMethods:{type:Array,required:!0},type:{type:String,required:!0},empNumber:{type:String,required:!0}},emits:["close"],setup:function(e){var t="api/v2/pim/employees/".concat(e.empNumber,"/report-to/allowed");return{api:t}},data:function(){return{isLoading:!1,reportTo:Object(M["a"])({},av),rules:{employee:[On,Kn],reportingMethod:[On]}}},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.create({empNumber:null===(e=this.reportTo.employee)||void 0===e?void 0:e.id,reportingMethodId:null===(t=this.reportTo.reportingMethod)||void 0===t?void 0:t.id}).then((function(){return n.$toast.saveSuccess()})).then((function(){n.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const lv=C()(rv,[["render",KO]]);var cv=lv,iv={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function uv(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("report-to-employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",iv,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit"))+" "+Object(o["toDisplayString"])(n.type),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.reportTo.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.reportTo.employee=e}),required:"",disabled:"",api:a.allowedEmployeesApi,rules:r.rules.employee,clear:!1},null,8,["modelValue","api","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.reportTo.reportingMethod,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.reportTo.reportingMethod=e}),type:"select",label:e.$t("pim.reporting_method"),rules:r.rules.reportingMethod,options:n.reportingMethods,required:""},null,8,["modelValue","label","rules","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),Object(o["createVNode"])(i)])}var dv={employee:null,reportingMethod:null},sv={name:"EditEmployeeReportTo",components:{"report-to-employee-autocomplete":ov},props:{http:{type:Object,required:!0},data:{type:Object,required:!0},reportingMethods:{type:Array,required:!0},type:{type:String,required:!0},empNumber:{type:String,required:!0},api:{type:String,required:!0}},emits:["close"],setup:function(e){var t="api/v2/pim/employees/".concat(e.empNumber,"/report-to/allowed");return{allowedEmployeesApi:t}},data:function(){return{isLoading:!1,reportTo:Object(M["a"])({},dv),rules:{employee:[On,Kn],reportingMethod:[On]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"Supervisor"===this.type?"".concat(this.api).concat(this.data.supervisorEmpNumber):"".concat(this.api).concat(this.data.subordinateEmpNumber)}).then((function(t){var n=t.data.data;e.reportTo.employee={id:"Supervisor"===e.type?n.supervisor.empNumber:n.subordinate.empNumber,label:"Supervisor"===e.type?"".concat(n.supervisor.firstName," ").concat(n.supervisor.middleName," ").concat(n.supervisor.lastName):"".concat(n.subordinate.firstName," ").concat(n.subordinate.middleName," ").concat(n.subordinate.lastName),isPastEmployee:"Supervisor"===e.type?n.supervisor.terminationId:n.subordinate.terminationId},e.reportTo.reportingMethod=e.reportingMethods.find((function(e){return e.id===n.reportingMethod.id}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0;var n="Supervisor"===this.type?this.data.supervisorEmpNumber:this.data.subordinateEmpNumber;this.http.update(n,{reportingMethodId:null===(e=this.reportTo.reportingMethod)||void 0===e?void 0:e.id}).then((function(){return t.$toast.updateSuccess()})).then((function(){t.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const mv=C()(sv,[["render",uv]]);var bv=mv,pv={name:"EmployeeSupervisors",components:{"edit-employee-report-to":bv,"profile-action-header":gp,"save-employee-report-to":cv,"delete-confirmation":rn},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/supervisors")),n=Je(),o=n.$t,a=function(e){return e.map((function(e){var t,n;return{name:"".concat(null===(t=e.supervisor)||void 0===t?void 0:t.firstName," ").concat(null===(n=e.supervisor)||void 0===n?void 0:n.lastName," ").concat(e.supervisor.terminationId?o("general.past_employee"):""),reportingMethod:e.reportingMethod.name,supervisorEmpNumber:e.supervisor.empNumber}}))},r="api/v2/pim/employees/".concat(e.empNumber,"/supervisors/"),l=Kt(t,{normalizer:a,toastNoRecords:!1}),c=l.showPaginator,i=l.currentPage,u=l.total,d=l.pages,s=l.pageSize,m=l.response,b=l.isLoading,p=l.execQuery;return{http:t,showPaginator:c,currentPage:i,isLoading:b,total:u,pages:d,pageSize:s,execQuery:p,items:m,supervisorEndpoint:r}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"reportingMethod",title:this.$t("pim.reporting_method"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal},tableHeaders:function(){var e={name:"actions",slot:"action",title:"Actions",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("supervisor")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("supervisor")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].supervisorEmpNumber}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.supervisorEmpNumber])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const fv=C()(pv,[["render",YO]]);var hv=fv,jv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Ov={class:"orangehrm-container"},vv={key:2,class:"orangehrm-bottom-container"};function gv(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-employee-report-to"),u=Object(o["resolveComponent"])("edit-employee-report-to"),d=Object(o["resolveComponent"])("profile-action-header"),s=Object(o["resolveComponent"])("table-header"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-pagination"),p=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,type:"Subordinate","emp-number":n.empNumber,"reporting-methods":n.reportingMethods,onClose:l.onSaveModalClose},null,8,["http","emp-number","reporting-methods","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,http:a.http,"emp-number":n.empNumber,data:r.editModalState,type:"Subordinate",api:a.subordinateEndpoint,"reporting-methods":n.reportingMethods,onClose:l.onEditModalClose},null,8,["http","emp-number","data","api","reporting-methods","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",jv,[Object(o["createVNode"])(d,{"action-button-shown":e.$can.create("subordinates"),onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_subordinates")),1)]})),_:1},8,["action-button-shown","onClick"])]),Object(o["createVNode"])(s,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Ov,[Object(o["createVNode"])(m,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.tableHeaders,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:e.$can.delete("subordinates"),disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vv,[Object(o["createVNode"])(b,{current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,{ref:"deleteDialog"},null,512)])}var Cv={name:"EmployeeSubordinates",components:{"edit-employee-report-to":bv,"save-employee-report-to":cv,"profile-action-header":gp,"delete-confirmation":rn},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/subordinates")),n=Je(),o=n.$t,a=function(e){return e.map((function(e){var t,n;return{name:"".concat(null===(t=e.subordinate)||void 0===t?void 0:t.firstName," ").concat(null===(n=e.subordinate)||void 0===n?void 0:n.lastName," ").concat(e.subordinate.terminationId?o("general.past_employee"):""),reportingMethod:e.reportingMethod.name,subordinateEmpNumber:e.subordinate.empNumber}}))},r="api/v2/pim/employees/".concat(e.empNumber,"/subordinates/"),l=Kt(t,{normalizer:a,toastNoRecords:!1}),c=l.showPaginator,i=l.currentPage,u=l.total,d=l.pages,s=l.pageSize,m=l.response,b=l.isLoading,p=l.execQuery;return{http:t,showPaginator:c,currentPage:i,isLoading:b,total:u,pages:d,pageSize:s,execQuery:p,items:m,subordinateEndpoint:r}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"reportingMethod",title:this.$t("pim.reporting_method"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal},tableHeaders:function(){var e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("subordinates")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("subordinates")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].subordinateEmpNumber}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.subordinateEmpNumber])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const yv=C()(Cv,[["render",gv]]);var Vv=yv,wv={components:{"edit-employee-layout":Fp,"employee-supervisors":hv,"employee-subordinates":Vv},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}}};const xv=C()(wv,[["render",QO]]);var Dv=xv,Nv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},_v={class:"orangehrm-container"},kv={class:"orangehrm-bottom-container"};function Ev(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("save-membership"),i=Object(o["resolveComponent"])("edit-membership"),u=Object(o["resolveComponent"])("profile-action-header"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{"employee-id":n.empNumber,screen:"membership"},{default:Object(o["withCtx"])((function(){var p;return[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,http:a.http,currencies:n.currencies,"paid-by":n.paidBy,memberships:n.memberships,onClose:l.onSaveModalClose},null,8,["http","currencies","paid-by","memberships","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,http:a.http,currencies:n.currencies,"paid-by":n.paidBy,memberships:n.memberships,data:r.editModalState,onClose:l.onEditModalClose},null,8,["http","currencies","paid-by","memberships","data","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Nv,[Object(o["createVNode"])(u,{onClick:l.onClickAdd},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.assigned_memberships")),1)]})),_:1},8,["onClick"])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",_v,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(p=a.items)||void 0===p?void 0:p.data,selectable:!0,disabled:l.isDisabled,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),Object(o["createElementVNode"])("div",kv,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)]})),_:1},8,["employee-id"])}var Sv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Av(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Sv,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_membership")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.membership,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.membership.membership=e}),type:"select",label:e.$t("pim.membership"),options:n.memberships,rules:r.rules.membership,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.subscriptionPaidBy,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.membership.subscriptionPaidBy=e}),type:"select",label:e.$t("pim.subscription_paid_by"),options:n.paidBy},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.subscriptionFee,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.membership.subscriptionFee=e}),label:e.$t("pim.subscription_amount"),rules:r.rules.subscriptionFee},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.currencyType,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.membership.currencyType=e}),type:"select",label:e.$t("general.currency"),options:n.currencies},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.membership.subscriptionCommenceDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.membership.subscriptionCommenceDate=e}),label:e.$t("pim.subscription_commence_date"),rules:r.rules.subscriptionCommenceDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.membership.subscriptionRenewalDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.membership.subscriptionRenewalDate=e}),label:e.$t("pim.subscription_renewal_date"),years:r.yearArray,rules:r.rules.subscriptionRenewalDate},null,8,["modelValue","label","years","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var $v={membershipId:[],subscriptionFee:"",subscriptionPaidBy:null,currencyTypeId:[],subscriptionCommenceDate:"",subscriptionRenewalDate:""},Fv={name:"SaveMembership",props:{http:{type:Object,required:!0},currencies:{type:Array,default:function(){return[]}},paidBy:{type:Array,default:function(){return[]}},memberships:{type:Array,default:function(){return[]}}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,membership:Object(M["a"])({},$v),yearArray:Object(iO["a"])(uO()),rules:{membership:[On],subscriptionCommenceDate:[gn(this.userDateFormat)],subscriptionRenewalDate:[gn(this.userDateFormat),Sn((function(){return e.membership.subscriptionCommenceDate}),this.$t("pim.renewal_date_should_be_after_the_commencing_date"))],subscriptionFee:[Dn,qn(1e9)]}}},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.create({subscriptionFee:this.membership.subscriptionFee,subscriptionCommenceDate:this.membership.subscriptionCommenceDate,subscriptionRenewalDate:this.membership.subscriptionRenewalDate,membershipId:this.membership.membership.id,subscriptionPaidBy:null===(e=this.membership.subscriptionPaidBy)||void 0===e?void 0:e.id,currencyTypeId:null===(t=this.membership.currencyType)||void 0===t?void 0:t.id}).then((function(){return n.$toast.saveSuccess()})).then((function(){n.membership=Object(M["a"])({},$v),n.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const Bv=C()(Fv,[["render",Av]]);var Tv=Bv,Iv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Lv(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",Iv,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_membership")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.membership,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.membership.membership=e}),type:"select",label:e.$t("pim.membership"),options:n.memberships,rules:r.rules.membership,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.subscriptionPaidBy,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.membership.subscriptionPaidBy=e}),type:"select",label:e.$t("pim.subscription_paid_by"),options:n.paidBy},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.subscriptionFee,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.membership.subscriptionFee=e}),label:e.$t("pim.subscription_amount"),rules:r.rules.subscriptionFee},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.membership.currencyType,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.membership.currencyType=e}),type:"select",label:e.$t("general.currency"),options:n.currencies},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.membership.subscriptionCommenceDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.membership.subscriptionCommenceDate=e}),label:e.$t("pim.subscription_commence_date"),rules:r.rules.subscriptionCommenceDate},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.membership.subscriptionRenewalDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.membership.subscriptionRenewalDate=e}),label:e.$t("pim.subscription_renewal_date"),years:r.yearArray,rules:r.rules.subscriptionRenewalDate},null,8,["modelValue","label","years","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(i)],64)}var Uv={membership:[],subscriptionFee:"",subscriptionPaidBy:null,currencyType:[],subscriptionCommenceDate:"",subscriptionRenewalDate:""},Pv={name:"EditMembership",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},currencies:{type:Array,default:function(){return[]}},paidBy:{type:Array,default:function(){return[]}},memberships:{type:Array,default:function(){return[]}}},emits:["close"],setup:function(){var e=de(),t=e.userDateFormat;return{userDateFormat:t}},data:function(){var e=this;return{isLoading:!1,membership:Object(M["a"])({},Uv),yearArray:Object(iO["a"])(uO()),rules:{membership:[On],subscriptionCommenceDate:[gn(this.userDateFormat)],subscriptionRenewalDate:[gn(this.userDateFormat),Sn((function(){return e.membership.subscriptionCommenceDate}),this.$t("pim.renewal_date_should_be_after_the_commencing_date"))],subscriptionFee:[Dn,qn(1e9)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.membership.subscriptionFee=n.subscriptionFee,e.membership.subscriptionCommenceDate=n.subscriptionCommenceDate,e.membership.subscriptionRenewalDate=n.subscriptionRenewalDate,e.membership.membership=e.memberships.find((function(e){return e.id===n.membership.id})),e.membership.subscriptionPaidBy=e.paidBy.find((function(e){return e.id===n.subscriptionPaidBy})),e.membership.currencyType=e.currencies.find((function(e){var t;return e.id===(null===(t=n.currencyType)||void 0===t?void 0:t.id)}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.update(this.data.id,{subscriptionFee:this.membership.subscriptionFee,subscriptionCommenceDate:this.membership.subscriptionCommenceDate,subscriptionRenewalDate:this.membership.subscriptionRenewalDate,membershipId:this.membership.membership.id,subscriptionPaidBy:null===(e=this.membership.subscriptionPaidBy)||void 0===e?void 0:e.id,currencyTypeId:null===(t=this.membership.currencyType)||void 0===t?void 0:t.id}).then((function(){return n.$toast.updateSuccess()})).then((function(){n.membership=Object(M["a"])({},Uv),n.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const qv=C()(Pv,[["render",Lv]]);var Rv=qv,Mv={components:{"profile-action-header":gp,"edit-employee-layout":Fp,"save-membership":Tv,"edit-membership":Rv,"delete-confirmation":rn},props:{empNumber:{type:String,required:!0},currencies:{type:Array,default:function(){return[]}},paidBy:{type:Array,default:function(){return[]}},memberships:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/pim/employees/".concat(e.empNumber,"/memberships")),n=de(),o=n.jsDateFormat,a=Xe(),r=a.locale,l=function(e){return e.map((function(e){return{id:e.id,membershipId:e.membership.id,membershipName:e.membership.name,subscriptionPaidBy:e.subscriptionPaidBy,subscriptionFee:e.subscriptionFee,subscriptionTypeId:e.currencyType.id,subscriptionCurrencyName:e.currencyType.name,subscriptionCommenceDate:ke(_e(e.subscriptionCommenceDate),o,{locale:r}),subscriptionRenewalDate:ke(_e(e.subscriptionRenewalDate),o,{locale:r})}}))},c=Kt(t,{normalizer:l,toastNoRecords:!1}),i=c.showPaginator,u=c.currentPage,d=c.total,s=c.pages,m=c.pageSize,b=c.response,p=c.isLoading,f=c.execQuery;return{http:t,showPaginator:i,currentPage:u,isLoading:p,total:d,pages:s,pageSize:m,execQuery:f,items:b}},data:function(){return{headers:[{name:"membershipName",slot:"title",title:this.$t("pim.membership"),style:{flex:1}},{name:"subscriptionPaidBy",title:this.$t("pim.subscription_paid_by"),style:{flex:1}},{name:"subscriptionFee",title:this.$t("pim.subscription_amount"),style:{flex:1}},{name:"subscriptionCurrencyName",title:this.$t("general.currency"),style:{flex:1}},{name:"subscriptionCommenceDate",title:this.$t("pim.subscription_commence_date"),style:{flex:1}},{name:"subscriptionRenewalDate",title:this.$t("pim.subscription_renewal_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled:function(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit:function(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose:function(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose:function(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};n("d876");const zv=C()(Mv,[["render",Ev],["__scopeId","data-v-71721782"]]);var Gv=zv,Qv={class:"orangehrm-background-container"},Wv={class:"orangehrm-paper-container"},Hv={class:"orangehrm-header-container"},Jv={class:"orangehrm-container"},Yv={class:"orangehrm-bottom-container"};function Xv(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qv,[Object(o["createElementVNode"])("div",Wv,[Object(o["createElementVNode"])("div",Hv,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.termination_reasons")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Jv,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Yv,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var Kv={components:{"delete-confirmation":rn},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,name:t.name,isSelectable:-1===n}}))},n=new te(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons"),o=Kt(n,{normalizer:t}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:n,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/pim/saveTerminationReasons")},onClickEdit:function(e){Z("/pim/saveTerminationReasons/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.termination_reasons_in_use")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const Zv=C()(Kv,[["render",Xv]]);var eg=Zv,tg={class:"orangehrm-background-container"},ng={class:"orangehrm-card-container"};function og(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tg,[Object(o["createElementVNode"])("div",ng,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_termination_reason")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.termination.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.termination.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var ag={props:{terminationReasonId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons");return{http:e}},data:function(){return{isLoading:!1,termination:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.terminationReasonId).then((function(t){var n=t.data.data;return e.termination.id=n.id,e.termination.name=n.name,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.termination.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.terminationReasonId,{name:this.termination.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/pim/viewTerminationReasons")}}};const rg=C()(ag,[["render",og]]);var lg=rg,cg={class:"orangehrm-background-container"},ig={class:"orangehrm-card-container"};function ug(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",cg,[Object(o["createElementVNode"])("div",ig,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_termination_reason")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.termination.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.termination.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var dg={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons");return{http:e}},data:function(){return{isLoading:!1,termination:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.termination.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/pim/viewTerminationReasons")}}};const sg=C()(dg,[["render",ug]]);var mg=sg,bg={class:"orangehrm-background-container"},pg={class:"orangehrm-paper-container"},fg={class:"orangehrm-header-container"},hg={class:"orangehrm-container"},jg={class:"orangehrm-bottom-container"};function Og(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bg,[Object(o["createElementVNode"])("div",pg,[Object(o["createElementVNode"])("div",fg,[Object(o["createVNode"])(i,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.reporting_methods")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",hg,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",jg,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var vg={components:{"delete-confirmation":rn},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,name:t.name,isSelectable:-1===n}}))},n=new te(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods"),o=Kt(n,{normalizer:t}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:n,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/pim/saveReportingMethod")},onClickEdit:function(e){Z("/pim/saveReportingMethod/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.reporting_methods_in_use")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const gg=C()(vg,[["render",Og]]);var Cg=gg,yg={class:"orangehrm-background-container"},Vg={class:"orangehrm-card-container"};function wg(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yg,[Object(o["createElementVNode"])("div",Vg,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_reporting_method")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.reportingMethod.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.reportingMethod.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var xg={props:{reportingMethodId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods");return{http:e}},data:function(){return{isLoading:!1,reportingMethod:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.reportingMethodId).then((function(t){var n=t.data.data;return e.reportingMethod.id=n.id,e.reportingMethod.name=n.name,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));if(o>-1){var a=n[o].id;return a===e.reportingMethod.id||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.reportingMethodId,{name:this.reportingMethod.name}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/pim/viewReportingMethods")}}};const Dg=C()(xg,[["render",wg]]);var Ng=Dg,_g={class:"orangehrm-background-container"},kg={class:"orangehrm-card-container"};function Eg(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_g,[Object(o["createElementVNode"])("div",kg,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_reporting_method")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.reportingMethod.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.reportingMethod.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Sg={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods");return{http:e}},data:function(){return{isLoading:!1,reportingMethod:{id:"",name:""},rules:{name:[On,vn(100)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name===t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.reportingMethod.name}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/pim/viewReportingMethods")}}};const Ag=C()(Sg,[["render",Eg]]);var $g=Ag,Fg={class:"orangehrm-background-container"},Bg={class:"orangehrm-paper-container"},Tg={class:"orangehrm-header-container"},Ig={class:"orangehrm-custom-field-title"},Lg={class:"orangehrm-container"},Ug={class:"orangehrm-bottom-container"};function Pg(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fg,[Object(o["createElementVNode"])("div",Bg,[Object(o["createElementVNode"])("div",Tg,[Object(o["createElementVNode"])("div",Ig,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.custom_fields")),1)]})),_:1}),a.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[l.remainingFields>0?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"--infotext",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.remaining_no_of_custom_fields"))+" "+Object(o["toDisplayString"])(l.remainingFields),1)]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,class:"--infotext",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.all_custom_fields_in_use")),1)]})),_:1}))],64))]),l.remainingFields>0?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Lg,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Ug,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var qg={components:{"delete-confirmation":rn},props:{customFieldLimit:{type:Number,required:!0},screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0},unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields"),n=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,fieldName:t.fieldName,screen:e.screenList.filter((function(e){return t.screen===e.id}))[0].label,fieldType:e.fieldTypeList.filter((function(e){return t.fieldType===e.id}))[0].label,extraData:t.extraData,isSelectable:-1===n}}))},o=Kt(t,{normalizer:n}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u}},data:function(){return{screenWidth:screen.width,headers:[{name:"fieldName",slot:"title",title:this.$t("pim.custom_field_name"),style:{flex:2}},{name:"screen",title:this.$t("pim.screen"),style:{flex:2}},{name:"fieldType",title:this.$t("pim.field_type"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},computed:{isLoaded:function(){return!this.isLoading},remainingFields:function(){var e,t;return this.customFieldLimit-(null===(e=this.items)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)}},methods:{onClickAdd:function(){Z("/pim/saveCustomFields")},onClickEdit:function(e){Z("/pim/saveCustomFields/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.custom_fields_in_use")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};n("1670");const Rg=C()(qg,[["render",Pg],["__scopeId","data-v-7752e39f"]]);var Mg=Rg,zg={class:"orangehrm-background-container"},Gg={class:"orangehrm-card-container"};function Qg(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zg,[Object(o["createElementVNode"])("div",Gg,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_custom_field")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customField.fieldName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customField.fieldName=e}),label:e.$t("pim.field_name"),rules:r.rules.fieldName,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customField.screen,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customField.screen=e}),type:"select",label:e.$t("pim.screen"),rules:r.rules.screen,options:n.screenList,required:""},null,8,["modelValue","label","rules","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customField.fieldType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.customField.fieldType=e}),type:"select",label:e.$t("general.type"),rules:r.rules.fieldType,options:n.fieldTypeList,required:"",disabled:n.fieldInUse},null,8,["modelValue","label","rules","options","disabled"])]})),_:1}),l.isDropDownField?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customField.extraData,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.customField.extraData=e}),label:e.$t("pim.select_options"),rules:r.rules.extraData,required:l.isDropDownField},null,8,["modelValue","label","rules","required"]),Object(o["createVNode"])(c,{tag:"p",class:"select-options-hint"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.enter_allowed_options_separated_by_commas")),1)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Wg={id:null,fieldName:"",screen:"",fieldType:"",extraData:""},Hg={props:{customFieldId:{type:Number,required:!0},screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0},fieldInUse:{type:Boolean,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields");return{http:e}},data:function(){return{isLoading:!1,customField:Object(M["a"])({},Wg),rules:{fieldName:[On,vn(250)],screen:[On,vn(100)],fieldType:[On,vn(15)],extraData:[On,vn(250)]}}},computed:{isDropDownField:function(){var e;return 1===(null===(e=this.customField.fieldType)||void 0===e?void 0:e.id)}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.customFieldId).then((function(t){var n=t.data.data;return e.customField.fieldName=n.fieldName,""!==n.screen&&null!==n.screen&&(e.customField.screen=e.screenList.find((function(e){return e.id===n.screen}))),""!==n.fieldType&&null!==n.fieldType&&(e.customField.fieldType=e.fieldTypeList.find((function(e){return e.id===n.fieldType}))),e.customField.extraData=n.extraData,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.fieldName.push((function(t){var o=n.findIndex((function(e){return e.fieldName===t}));if(o>-1){var a=n[o].id;return a==e.customFieldId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.customFieldId,{fieldName:this.customField.fieldName,screen:this.customField.screen.id,fieldType:this.customField.fieldType.id,extraData:this.customField.extraData}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/pim/listCustomFields")}}};n("35f5");const Jg=C()(Hg,[["render",Qg],["__scopeId","data-v-46ae9122"]]);var Yg=Jg,Xg={class:"orangehrm-background-container"},Kg={class:"orangehrm-card-container"};function Zg(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xg,[Object(o["createElementVNode"])("div",Kg,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_custom_field")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customField.fieldName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customField.fieldName=e}),label:e.$t("pim.field_name"),rules:r.rules.fieldName,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customField.screen,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customField.screen=e}),type:"select",label:e.$t("pim.screen"),rules:r.rules.screen,options:n.screenList,required:""},null,8,["modelValue","label","rules","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"organization-name-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customField.fieldType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.customField.fieldType=e}),type:"select",label:e.$t("general.type"),rules:r.rules.fieldType,options:n.fieldTypeList,required:""},null,8,["modelValue","label","rules","options"])]})),_:1}),l.isDropDownField?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customField.extraData,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.customField.extraData=e}),label:e.$t("pim.select_options"),rules:r.rules.extraData,required:l.isDropDownField},null,8,["modelValue","label","rules","required"]),Object(o["createVNode"])(c,{tag:"p",class:"select-options-hint"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.enter_allowed_options_separated_by_commas")),1)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var eC={fieldName:"",screen:"",fieldType:"",extraData:""},tC={props:{screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields");return{http:e}},data:function(){return{isLoading:!1,customField:Object(M["a"])({},eC),rules:{fieldName:[On,vn(250)],screen:[On,vn(100)],fieldType:[On,vn(15)],extraData:[On,vn(250)]}}},computed:{isDropDownField:function(){var e;return 1===(null===(e=this.customField.fieldType)||void 0===e?void 0:e.id)}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.fieldName.push((function(t){var o=n.findIndex((function(e){return e.fieldName==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0;var t=this.customField.fieldType.id;this.http.create({fieldName:this.customField.fieldName,screen:this.customField.screen.id,fieldType:t,extraData:1===t?this.customField.extraData:null}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/pim/listCustomFields")}}};n("38e9");const nC=C()(tC,[["render",Zg],["__scopeId","data-v-42abd14c"]]);var oC=nC,aC={class:"orangehrm-background-container"},rC={class:"orangehrm-card-container"},lC={class:"orangehrm-optional-field-row"},cC={class:"orangehrm-optional-field-row"},iC={class:"orangehrm-optional-field-row"},uC={class:"orangehrm-optional-field-row"};function dC(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-switch-input"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("submit-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",aC,[Object(o["createElementVNode"])("div",rC,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.optional_fields")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_deprecated_fields")),1)]})),_:1}),Object(o["createVNode"])(d,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",lC,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_nick_name_smoker_and_military_service_in_personal_details")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.optionalField.pimShowDeprecatedFields,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.optionalField.pimShowDeprecatedFields=e})},null,8,["modelValue"])])]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.country_specific_information")),1)]})),_:1}),Object(o["createVNode"])(d,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",cC,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_ssn_field_in_personal_details")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.optionalField.showSSN,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.optionalField.showSSN=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",iC,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_sin_field_in_personal_details")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.optionalField.showSIN,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.optionalField.showSIN=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",uC,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-optional-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.show_us_tax_exemptions_menu")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.optionalField.showTaxExemptions,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.optionalField.showTaxExemptions=e})},null,8,["modelValue"])])]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var sC={pimShowDeprecatedFields:!1,showSSN:!1,showSIN:!1,showTaxExemptions:!1},mC={components:{"oxd-switch-input":Pa["a"]},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/pim/optional-field");return{http:e}},data:function(){return{isLoading:!1,optionalField:Object(M["a"])({},sC)}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.optionalField=Object(M["a"])({},n)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:Object(M["a"])({},this.optionalField)}).then((function(t){var n=t.data.data;e.optionalField=Object(M["a"])({},n),e.$toast.saveSuccess(),e.isLoading=!1}))}}};n("1cd0");const bC=C()(mC,[["render",dC],["__scopeId","data-v-435b3865"]]);var pC=bC,fC={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function hC(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("edit-employee-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{"employee-id":n.empNumber,screen:"tax"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",fC,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.tax_exemptions")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.federal_income_tax")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.taxExemption.federalStatus,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.taxExemption.federalStatus=e}),type:"select",label:e.$t("general.status"),options:n.statuses,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.taxExemption.federalExemptions,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.taxExemption.federalExemptions=e}),label:e.$t("pim.exemptions"),rules:r.rules.federalExemptions,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.state_income_tax")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.taxExemption.taxState,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.taxExemption.taxState=e}),type:"select",label:e.$t("general.state"),options:n.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.taxExemption.stateStatus,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.taxExemption.stateStatus=e}),type:"select",label:e.$t("general.status"),options:n.statuses,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.taxExemption.stateExemptions,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.taxExemption.stateExemptions=e}),label:e.$t("pim.exemptions"),rules:r.rules.stateExemptions,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.taxExemption.unemploymentState,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.taxExemption.unemploymentState=e}),type:"select",label:e.$t("pim.unemployment_state"),options:n.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.taxExemption.workState,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.taxExemption.workState=e}),type:"select",label:e.$t("pim.work_state"),options:n.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[e.$can.update("tax_exemptions")?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])]})),_:1},8,["employee-id"])}n("466d");var jC={federalStatus:null,federalExemptions:null,taxStateCode:[],stateStatus:null,stateExemptions:null,unemploymentStateCode:[],workStateCode:[]},OC={components:{"edit-employee-layout":Fp},props:{empNumber:{type:String,required:!0},provinces:{type:Array,default:function(){return[]}},statuses:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/pim/employees/".concat(e.empNumber,"/tax-exemption"));return{http:t}},data:function(){var e=this;return{isLoading:!1,taxExemption:Object(M["a"])({},jC),rules:{federalExemptions:[function(t){return null!==t.match(/^\d*\.?\d*$/)||e.$t("general.should_be_a_positive_number")},vn(2)],stateExemptions:[function(t){return null!==t.match(/^\d*\.?\d*$/)||e.$t("general.should_be_a_positive_number")},vn(2)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){e.updateModel(t)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o,a,r=this;this.isLoading=!0,this.http.request({method:"PUT",data:{federalStatus:null===(e=this.taxExemption.federalStatus)||void 0===e?void 0:e.id,federalExemptions:this.taxExemption.federalExemptions,taxStateCode:null===(t=this.taxExemption.taxState)||void 0===t?void 0:t.id,stateStatus:null===(n=this.taxExemption.stateStatus)||void 0===n?void 0:n.id,stateExemptions:this.taxExemption.stateExemptions,unemploymentStateCode:null===(o=this.taxExemption.unemploymentState)||void 0===o?void 0:o.id,workStateCode:null===(a=this.taxExemption.workState)||void 0===a?void 0:a.id}}).then((function(e){return r.updateModel(e),r.$toast.updateSuccess()})).then((function(){r.isLoading=!1}))},updateModel:function(e){var t=e.data.data;this.taxExemption.federalExemptions=t.federalExemptions,this.taxExemption.stateExemptions=t.stateExemptions,this.taxExemption.taxState=this.provinces.find((function(e){return e.id===t.taxState.code})),this.taxExemption.unemploymentState=this.provinces.find((function(e){return e.id===t.unemploymentState.code})),this.taxExemption.workState=this.provinces.find((function(e){return e.id===t.workState.code})),this.taxExemption.federalStatus=this.statuses.find((function(e){return e.id===t.federalStatus})),this.taxExemption.stateStatus=this.statuses.find((function(e){return e.id===t.stateStatus}))}}};const vC=C()(OC,[["render",hC]]);var gC=vC,CC=function(e){return Object(o["pushScopeId"])("data-v-c67d9e86"),e=e(),Object(o["popScopeId"])(),e},yC={class:"orangehrm-background-container"},VC={class:"orangehrm-card-container"},wC={class:"orangehrm-information-card-container"},xC=CC((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function DC(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("employee-data-import-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yC,[Object(o["createElementVNode"])("div",VC,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.data_import")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",wC,[Object(o["createVNode"])(c,{class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.note"))+": ",1)]})),_:1}),Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(c,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.column_order_should_not_be_changed")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(c,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.first_name_and_last_name_are_compulsory")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(c,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.all_date_fields_should_be_in_yyyy_mm_dd_format")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(c,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.gender_specified_value_should_be_either_m_or_f")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(c,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.each_import_file_should_be_configured_for_100_records_or_less")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(c,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.multiple_import_files_may_be_required")),1)]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(c,{class:"orangehrm-information-card-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.sample_csv_file"))+" : ",1),Object(o["createElementVNode"])("a",{href:"#",class:"download-link",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){return l.onClickDownload&&l.onClickDownload.apply(l,arguments)}),["prevent"]))},Object(o["toDisplayString"])(e.$t("general.download")),1)]})),_:1})])])]),xC,Object(o["createVNode"])(h,{ref:"formRef",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attachment.attachment,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attachment.attachment=e}),type:"file",rules:r.rules.attachment,label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","rules","label","button-label","placeholder"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{label:e.$t("general.upload")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),r.importModalState?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,data:r.importModalState,onClose:l.onImportModalClose},null,8,["data","onClose"])):Object(o["createCommentVNode"])("",!0)])}var NC={class:"orangehrm-modal-header"},_C={class:"orangehrm-text-center-align"},kC={class:"orangehrm-modal-footer"};function EC(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{class:"orangehrm-dialog-popup","onUpdate:show":l.onClose},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",NC,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.import_details")),1)]})),_:1})]),Object(o["createElementVNode"])("div",_C,[Object(o["createVNode"])(c,{type:"card-body",class:Object(o["normalizeClass"])({"orangehrm-success-message":n.data.success>0})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.n_records_successfully_imported",{count:n.data.success})),1)]})),_:1},8,["class"]),n.data.failed>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(c,{type:"card-body",class:"orangehrm-error-message"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.n_records_failed_to_import",{count:n.data.failed})),1)]})),_:1}),Object(o["createVNode"])(c,{type:"card-body",class:"orangehrm-error-message"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.failed_rows")),1)]})),_:1}),Object(o["createVNode"])(c,{type:"card-body",class:"orangehrm-error-message"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.data.failedRows.toString()),1)]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",kC,[Object(o["createVNode"])(i,{"display-type":"text",label:e.$t("general.ok"),onClick:l.onClose},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])}var SC={name:"EmployeeDataImportModal",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,required:!0}},emits:["close"],methods:{onClose:function(){this.$emit("close",!0)}}};n("4963");const AC=C()(SC,[["render",EC],["__scopeId","data-v-40cb7196"]]);var $C=AC,FC={attachment:null},BC={components:{"employee-data-import-modal":$C},props:{allowedFileTypes:{type:Array,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/pim/csv-import"),t=us(),n=t.formRef,o=t.reset;return{http:e,reset:o,formRef:n}},data:function(){return{isLoading:!1,attachment:Object(M["a"])({},FC),rules:{attachment:[On,Tn(1048576),In(this.allowedFileTypes)]},importModalState:null}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.attachment)).then((function(t){var n=t.data.meta;e.importModalState=n})).finally((function(){e.reset(),e.isLoading=!1}))},onClickDownload:function(){var e="".concat(window.appGlobal.baseUrl,"/pim/sampleCsvDownload");window.open(e,"_blank")},onImportModalClose:function(){this.importModalState=null}}};n("0a5d");const TC=C()(BC,[["render",DC],["__scopeId","data-v-c67d9e86"]]);var IC=TC,LC={class:"orangehrm-background-container"},UC=Object(o["createElementVNode"])("br",null,null,-1),PC={class:"orangehrm-paper-container"},qC={class:"orangehrm-header-container"},RC={class:"orangehrm-container"},MC={class:"orangehrm-bottom-container"};function zC(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("report-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("table-header"),O=Object(o["resolveComponent"])("oxd-card-table"),v=Object(o["resolveComponent"])("oxd-pagination"),g=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",LC,[Object(o["createVNode"])(h,{"filter-title":e.$t("general.employee_reports")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.report,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.report=e}),rules:r.rules.report},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),UC,Object(o["createElementVNode"])("div",PC,[Object(o["createElementVNode"])("div",qC,[Object(o["createVNode"])(b,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(j,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",RC,[Object(o["createVNode"])(O,{selected:r.checkedItems,"onUpdate:selected":t[1]||(t[1]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[2]||(t[2]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",MC,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(g,{ref:"deleteDialog"},null,512)])}function GC(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"autocomplete",label:e.$t("general.report_name"),clear:!1,"create-options":l.loadReports},{option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1)]})),_:1},8,["label","create-options"])}var QC={name:"ReportAutocomplete",setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined");return{http:e}},methods:{loadReports:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll({name:e}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.id,label:e.name}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const WC=C()(QC,[["render",GC]]);var HC=WC,JC={report:null},YC={"report.name":"ASC"},XC={components:{"delete-confirmation":rn,"report-autocomplete":HC},setup:function(){var e=ln({sortDefinition:YC}),t=e.sortDefinition,n=e.sortField,a=e.sortOrder,r=e.onSort,l=Object(o["ref"])(Object(M["a"])({},JC)),c=Object(o["computed"])((function(){var e;return{reportId:null===(e=l.value.report)||void 0===e?void 0:e.id,sortField:n.value,sortOrder:a.value}})),i=new te(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),u=Kt(i,{query:c}),d=u.showPaginator,s=u.currentPage,m=u.total,b=u.pages,p=u.pageSize,f=u.response,h=u.isLoading,j=u.execQuery;return r(j),{http:i,showPaginator:d,currentPage:s,isLoading:h,total:m,pages:b,pageSize:p,execQuery:j,items:f,filters:l,sortDefinition:t}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:"85%"},sortField:"report.name"},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}},view:{onClick:this.onClickView,props:{name:"file-text-fill"}}}}],checkedItems:[],rules:{report:[Kn]}}},methods:{onClickAdd:function(){Z("/pim/definePredefinedReport")},onClickEdit:function(e){Z("/pim/definePredefinedReport/{id}",{id:e.id})},onClickView:function(e){Z("/pim/displayPredefinedReport/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickReset:function(){this.filters=Object(M["a"])({},JC),this.filterItems()}}};const KC=C()(XC,[["render",zC]]);var ZC=KC,ey={class:"orangehrm-background-container"},ty={class:"orangehrm-card-container"};function ny(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-icon-button"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("report-criterion"),h=Object(o["resolveComponent"])("report-display-field"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("submit-button"),g=Object(o["resolveComponent"])("oxd-form-actions"),C=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ey,[Object(o["createElementVNode"])("div",ty,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.add_report")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(C,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.report.name=e}),label:e.$t("general.report_name"),placeholder:e.$t("general.type_here_message"),rules:r.rules.name,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.selection_criteria")),1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.criterion,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.report.criterion=e}),type:"select",label:e.$t("pim.selection_criteria"),options:a.availableCriteria},null,8,["modelValue","label","options"]),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:a.addCriterion},null,8,["onClick"])]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.includeEmployees,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.report.includeEmployees=e}),type:"select",label:e.$t("pim.include"),options:r.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.report.criteriaSelected,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:e,operator:a.report.criteriaFieldValues[e.id].operator,"onUpdate:operator":function(t){return a.report.criteriaFieldValues[e.id].operator=t},valueX:a.report.criteriaFieldValues[e.id].valueX,"onUpdate:valueX":function(t){return a.report.criteriaFieldValues[e.id].valueX=t},valueY:a.report.criteriaFieldValues[e.id].valueY,"onUpdate:valueY":function(t){return a.report.criteriaFieldValues[e.id].valueY=t},criterion:e,onDelete:function(e){return a.removeCriterion(t)}},null,8,["operator","onUpdate:operator","valueX","onUpdate:valueX","valueY","onUpdate:valueY","criterion","onDelete"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.display_fields")),1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.fieldGroup,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.report.fieldGroup=e}),type:"select",label:e.$t("pim.select_display_field_group"),options:a.availableFieldGroups},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.displayField,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.report.displayField=e}),type:"select",label:e.$t("pim.select_display_field"),options:a.availableDisplyFields},null,8,["modelValue","label","options"]),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:a.addDisplayField},null,8,["onClick"])]})),_:1})]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.report.fieldGroupSelected,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:e,includeHeader:a.report.displayFieldSelected[e.id].includeHeader,"onUpdate:includeHeader":function(t){return a.report.displayFieldSelected[e.id].includeHeader=t},"field-group":e,"selected-fields":a.report.displayFieldSelected[e.id].fields,onDelete:function(e){return a.removeDisplayFieldGroup(t)},onDeleteChip:function(e){return a.removeDisplayField(e,t)}},null,8,["includeHeader","onUpdate:includeHeader","field-group","selected-fields","onDelete","onDeleteChip"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(v)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}function oy(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon-button"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-grid-item");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,{class:"orangehrm-report-criteria --offset-column-1"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{name:"trash-fill",onClick:a.onClickDelete},null,8,["onClick"]),Object(o["createVNode"])(i,{class:"orangehrm-report-criteria-name"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.criterion.label),1)]})),_:1})]})),_:1}),(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(a.field.component),Object(o["mergeProps"])(e.$attrs,{api:a.field.api,label:a.field.name,options:a.field.options}),null,16,["api","label","options"]))],64)}function ay(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete"),i=Object(o["resolveComponent"])("oxd-grid-item");return Object(o["openBlock"])(),Object(o["createBlock"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,Object(o["mergeProps"])(e.$attrs,{params:{includeEmployees:"currentAndPast"},rules:a.rules,"model-value":n.valueX,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:valueX",t)})}),null,16,["rules","model-value"])]})),_:1})}var ry={name:"ReportCriterionAutocomplete",components:{"employee-autocomplete":Zo},inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:function(){return null}},valueX:{type:Object,required:!1,default:function(){return null}}},emits:["update:valueX","update:operator"],setup:function(e,t){var n=[On,Kn];return t.emit("update:operator",{id:"eq",label:"Equal"}),{rules:n}}};n("49bc");const ly=C()(ry,[["render",ay],["__scopeId","data-v-f5f20a1c"]]);var cy=ly;function iy(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item");return Object(o["openBlock"])(),Object(o["createBlock"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,Object(o["mergeProps"])(e.$attrs,{type:"select",rules:a.rules,options:a.opts,"model-value":n.valueX,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:valueX",t)})}),null,16,["rules","options","model-value"])]})),_:1})}var uy={name:"ReportCriterionSelect",inheritAttrs:!1,props:{api:{type:String,required:!1,default:null},options:{type:Array,default:function(){return[]}},valueX:{type:Object,required:!1,default:function(){return null}}},emits:["update:valueX","update:operator"],setup:function(e,t){var n=Object(o["ref"])(e.options),a=[On];if(e.api){var r=new te(window.appGlobal.baseUrl,e.api);Object(o["onBeforeMount"])((function(){r.getAll().then((function(e){var t=e.data;n.value=t.data.map((function(e){return{id:e.id,label:e.name?e.name:e.title,_indent:e.level?e.level+1:1}}))}))}))}return"api/v2/admin/locations"===e.api||"api/v2/admin/subunits"===e.api?t.emit("update:operator",{id:"in",label:"Equal"}):t.emit("update:operator",{id:"eq",label:"Equal"}),{opts:n,rules:a}}};n("4605");const dy=C()(uy,[["render",iy],["__scopeId","data-v-5c311cc0"]]);var sy=dy,my=Object(o["createTextVNode"])("to");function by(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"select",rules:a.rules.operator,options:a.operators,"model-value":n.operator,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:operator",t)})},null,8,["rules","options","model-value"])]})),_:1}),n.operator&&"between"===n.operator.id?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"orangehrm-report-range"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{rules:a.rules.valueX,"model-value":n.valueX,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:valueX",t)})},null,8,["rules","model-value"]),Object(o["createVNode"])(u,{class:"orangehrm-report-range-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[my]})),_:1}),Object(o["createVNode"])(c,{rules:a.rules.valueY,"model-value":n.valueY,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:valueY",t)})},null,8,["rules","model-value"])]})),_:1})):n.operator?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{rules:a.rules.valueXOnly,"model-value":n.valueX,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.$emit("update:valueX",t)})},null,8,["rules","model-value"])]})),_:1})):Object(o["createCommentVNode"])("",!0)],64)}var py={name:"ReportCriterionRange",inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:function(){return null}},valueX:{type:String,required:!1,default:null},valueY:{type:String,required:!1,default:null}},emits:["update:valueX","update:valueY","update:operator"],setup:function(e){var t=Je(),n=t.$t,a=Object(o["ref"])([{id:"lt",label:n("general.less_than")},{id:"gt",label:n("general.greater_than")},{id:"between",label:n("general.range")}]),r={operator:[On],valueXOnly:[On,wn,Vn(100)],valueX:[On,wn,Vn(100),function(t){return parseInt(t)<parseInt(e.valueY)||n("general.should_be_less_than_upper_bound")}],valueY:[On,wn,Vn(100),function(t){return parseInt(t)>parseInt(e.valueX)||n("general.should_be_greater_than_lower_bound")}]};return{rules:r,operators:a}}};n("db37");const fy=C()(py,[["render",by],["__scopeId","data-v-252622cf"]]);var hy=fy,jy=Object(o["createTextVNode"])("to");function Oy(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"select",rules:a.rules.operator,options:a.operators,"model-value":n.operator,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:operator",t)})},null,8,["rules","options","model-value"])]})),_:1}),n.operator&&"between"===n.operator.id?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"orangehrm-report-daterange --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"date",rules:a.rules.valueX,"model-value":n.valueX,placeholder:a.userDateFormat,"display-format":a.jsDateFormat,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:valueX",t)})},null,8,["rules","model-value","placeholder","display-format"]),Object(o["createVNode"])(u,{class:"orangehrm-report-range-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[jy]})),_:1}),Object(o["createVNode"])(c,{type:"date",rules:a.rules.valueY,"model-value":n.valueY,placeholder:a.userDateFormat,"display-format":a.jsDateFormat,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:valueY",t)})},null,8,["rules","model-value","placeholder","display-format"])]})),_:1})):n.operator?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"date",rules:a.rules.valueXOnly,"model-value":n.valueX,placeholder:a.userDateFormat,"display-format":a.jsDateFormat,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.$emit("update:valueX",t)})},null,8,["rules","model-value","placeholder","display-format"])]})),_:1})):Object(o["createCommentVNode"])("",!0)],64)}var vy={name:"ReportCriterionDateRange",inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:function(){return null}},valueX:{type:String,required:!1,default:null},valueY:{type:String,required:!1,default:null}},emits:["update:valueX","update:valueY","update:operator"],setup:function(e){var t=Je(),n=t.$t,a=de(),r=a.jsDateFormat,l=a.userDateFormat,c=Object(o["ref"])([{id:"lt",label:"Joined before"},{id:"gt",label:"Joined after"},{id:"between",label:"Joined in between"}]),i={operator:[On],valueXOnly:[On,gn(l)],valueX:[On,gn(l),Pn((function(){return e.valueY}),n("general.from_date_should_be_before_to_date"))],valueY:[On,gn(l),Sn((function(){return e.valueX}),n("general.to_date_should_be_after_from_date"))]};return{rules:i,operators:c,jsDateFormat:r,userDateFormat:l}}};n("6102");const gy=C()(vy,[["render",Oy],["__scopeId","data-v-036345af"]]);var Cy=gy,yy={name:"ReportCriterion",components:{"report-criterion-autocomplete":cy,"report-criterion-select":sy,"report-criterion-range":hy,"report-criterion-date-range":Cy},inheritAttrs:!1,props:{criterion:{type:Object,required:!0}},emits:["delete"],setup:function(e,t){var n=Object(o["ref"])(null);switch(e.criterion.key){case"employee_name":n.value={name:e.criterion.label,component:"report-criterion-autocomplete",api:null,options:[]};break;case"pay_grade":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/pay-grades",options:[]};break;case"education":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/educations",options:[]};break;case"employment_status":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/employment-statuses",options:[]};break;case"service_period":n.value={name:e.criterion.label,component:"report-criterion-range",api:null,options:[]};break;case"joined_date":n.value={name:e.criterion.label,component:"report-criterion-date-range",api:null,options:[]};break;case"job_title":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/job-titles",options:[]};break;case"language":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/languages",options:[]};break;case"skill":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/skills",options:[]};break;case"age_group":n.value={name:e.criterion.label,component:"report-criterion-range",api:null,options:[]};break;case"sub_unit":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/subunits",options:[]};break;case"location":n.value={name:e.criterion.label,component:"report-criterion-select",api:"api/v2/admin/locations",options:[]};break;default:n.value={name:e.criterion.label,component:"report-criterion-select",api:null,options:[{id:1,label:"Male"},{id:2,label:"Female"}]}}var a=function(e){t.emit("delete",e)};return{field:n,onClickDelete:a}}};n("cca9");const Vy=C()(yy,[["render",oy],["__scopeId","data-v-d58de47e"]]);var wy=Vy;function xy(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon-button"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-mutliselect-chips"),s=Object(o["resolveComponent"])("oxd-switch-input");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,{class:"orangehrm-report-field --offset-column-1"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{name:"trash-fill",onClick:a.onClickDelete},null,8,["onClick"]),Object(o["createVNode"])(i,{class:"orangehrm-report-field-name"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.fieldGroup.label),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{selected:n.selectedFields,onChipRemoved:a.onRemoveSelected},null,8,["selected","onChipRemoved"])]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-report-field"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-report-field-header",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.include_header")),1)]})),_:1}),Object(o["createVNode"])(s,{"model-value":n.includeHeader,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:includeHeader",t)})},null,8,["model-value"])]})),_:1})],64)}var Dy=n("69be"),Ny={name:"ReportDisplayField",components:{"oxd-switch-input":Pa["a"],"oxd-mutliselect-chips":Dy["a"]},props:{fieldGroup:{type:Object,required:!0},selectedFields:{type:Array,default:function(){return[]}},includeHeader:{type:Boolean,required:!0}},emits:["delete","deleteChip","update:includeHeader"],setup:function(e,t){var n=function(e){t.emit("delete",e)},o=function(e){t.emit("deleteChip",e)};return{onClickDelete:n,onRemoveSelected:o}}};n("73d8");const _y=C()(Ny,[["render",xy],["__scopeId","data-v-471da748"]]);var ky=_y,Ey=(n("a434"),{name:"",includeEmployees:{id:1,key:"onlyCurrent",label:"Current Employees Only"},criterion:null,criteriaSelected:[],criteriaFieldValues:{},fieldGroup:null,fieldGroupSelected:[],displayField:null,displayFieldSelected:{}});function Sy(e,t,n){var a=Object(o["reactive"])({report:Object(M["a"])({},Ey)}),r=function(e){var n=t.find((function(t){return t.field_group_id===e}));return n?n.fields:[]},l=function(e){var t=a.report.displayFieldSelected[e],n=t?t.fields:[];return r(e).filter((function(e){return!n.find((function(t){return t.id===e.id}))}))},c=function(){var e=a.report.criterion;e&&(a.report.criteriaSelected.push(e),a.report.criteriaFieldValues[e.id]={valueX:null,valueY:null,operator:null},a.report.criterion=null)},i=function(e){var t=a.report.criteriaSelected.splice(e,1);delete a.report.criteriaFieldValues[t[0].id]},u=function(){var e=a.report.fieldGroup,t=a.report.displayField;if(e){var n=a.report.fieldGroupSelected.findIndex((function(t){return t.id===e.id}));-1===n&&(a.report.fieldGroupSelected.push(e),a.report.displayFieldSelected[e.id]={fields:[],includeHeader:!1}),t?(a.report.displayFieldSelected[e.id].fields.push(t),a.report.displayField=null):l(e.id).forEach((function(t){a.report.displayFieldSelected[e.id].fields.push(t)})),0===l(e.id).length&&(a.report.fieldGroup=null)}},d=function(e){var t=a.report.fieldGroupSelected[e];a.report.fieldGroupSelected.splice(e,1),delete a.report.displayFieldSelected[t.id]},s=function(e,t){var n=a.report.fieldGroupSelected[t],o=a.report.displayFieldSelected[n.id].fields;a.report.displayFieldSelected[n.id].fields=o.filter((function(t){return t.id!==e.id})),0===a.report.displayFieldSelected[n.id].fields.length&&d(t)},m=function(e){var t={name:e.name,include:e.includeEmployees.key,criteria:{},fieldGroup:{}};return e.fieldGroupSelected.forEach((function(n){var o=e.displayFieldSelected[n.id].fields,a=e.displayFieldSelected[n.id].includeHeader;t.fieldGroup[n.id]={fields:o.map((function(e){return e.id})),includeHeader:a}})),e.criteriaSelected.forEach((function(n){var o,a,r=e.criteriaFieldValues[n.id];t.criteria[n.id]={operator:r.operator?r.operator.id:"",x:"object"===Object(hn["a"])(r.valueX)?String(null===(o=r.valueX)||void 0===o?void 0:o.id):r.valueX,y:"object"===Object(hn["a"])(r.valueY)?String(null===(a=r.valueY)||void 0===a?void 0:a.id):r.valueY}})),t},b=Object(o["computed"])((function(){return e.filter((function(e){return!a.report.criteriaSelected.find((function(t){return t.id===e.id}))}))})),p=Object(o["computed"])((function(){return n.filter((function(e){return 0!==l(e.id).length}))})),f=Object(o["computed"])((function(){var e,t=null===(e=a.report.fieldGroup)||void 0===e?void 0:e.id;return t?l(t):[]}));return Object(M["a"])(Object(M["a"])({},Object(o["toRefs"])(a)),{},{addCriterion:c,serializeBody:m,addDisplayField:u,removeCriterion:i,removeDisplayField:s,removeDisplayFieldGroup:d,availableCriteria:b,availableFieldGroups:p,availableDisplyFields:f})}var Ay={components:{"report-criterion":wy,"report-display-field":ky},props:{selectionCriteria:{type:Array,required:!0},displayFieldGroups:{type:Array,required:!0},displayFields:{type:Array,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),n=Sy(e.selectionCriteria,e.displayFields,e.displayFieldGroups),o=n.report,a=n.addCriterion,r=n.serializeBody,l=n.addDisplayField,c=n.removeCriterion,i=n.removeDisplayField,u=n.removeDisplayFieldGroup,d=n.availableCriteria,s=n.availableFieldGroups,m=n.availableDisplyFields;return{http:t,report:o,addCriterion:a,serializeBody:r,addDisplayField:l,removeCriterion:c,removeDisplayField:i,removeDisplayFieldGroup:u,availableCriteria:d,availableFieldGroups:s,availableDisplyFields:m}},data:function(){return{isLoading:!1,rules:{name:[On,vn(250)],includeEmployees:[On]},includeOpts:[{id:1,key:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,key:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,key:"onlyPast",label:this.$t("general.past_employees_only")}]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/pim/viewDefinedPredefinedReports")},onSave:function(){var e=this;if(0===Object.keys(this.report.displayFieldSelected).length)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("pim.at_least_one_display_field_should_be_added")});this.isLoading=!0;var t=null,n=this.serializeBody(this.report);this.http.create(n).then((function(n){var o=n.data.data;return t=o.id,e.$toast.saveSuccess()})).then((function(){t&&Z("/pim/displayPredefinedReport/{id}",{id:t})}))}}};n("9ada");const $y=C()(Ay,[["render",ny],["__scopeId","data-v-32f2a602"]]);var Fy=$y,By={class:"orangehrm-card-container"},Ty=Object(o["createElementVNode"])("br",null,null,-1);function Iy(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{module:"pim",name:"pim_defined",prefetch:!0,filters:a.filters},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",By,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.reportName),1)]})),_:1})]),Ty]})),_:1},8,["filters"])}var Ly={class:"orangehrm-background-container"},Uy={key:0,class:"orangehrm-paper-container"};function Py(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-pagination"),u=Object(o["resolveComponent"])("oxd-report-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ly,[Object(o["renderSlot"])(e.$slots,"default",{generateReport:a.generateReport},void 0,!0),0!==a.headers.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Uy,[Object(o["createVNode"])(u,{items:a.items,headers:a.headers,loading:a.isLoading,"column-count":a.colCount},{pagination:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"oxd-text--count",tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_found",{count:a.total})),1)]})),_:1}),a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]})),footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"oxd-text--footer",tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"footer",{data:a.response},void 0,!0)]})),_:3})]})),_:3},8,["items","headers","loading","column-count"])])):Object(o["createCommentVNode"])("",!0)])}var qy=n("065f"),Ry=n("3fc0"),My=n("5445"),zy=["type"],Gy={name:"ReportsTable",components:{"oxd-report-table":qy["a"]},props:{name:{type:String,required:!0},module:{type:String,required:!0},prefetch:{type:Boolean,default:!1},filters:{type:Object,default:function(){return{}}},columnCount:{type:Number,default:null,required:!1}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/".concat(e.module,"/reports/data")),n=Object(o["ref"])([]),a=Object(o["ref"])(e.columnCount?e.columnCount:0),r=Object(o["computed"])((function(){return Object(M["a"])(Object(M["a"])({},e.filters),{},{name:e.name,_dateFormattingEnabled:!0})})),l=Kt(t,{query:r,prefetch:!1}),c=l.total,i=l.pages,u=l.response,d=l.isLoading,s=l.currentPage,m=l.showPaginator,b=l.execQuery,p=Object(o["computed"])((function(){return c.value?1===c.value?"(".concat(c.value,") Record Found"):"(".concat(c.value,") Records Found"):"No Records Found"})),f=Object(o["computed"])((function(){var e=Array.isArray(u.value.data)?u.value.data:[];return e.map((function(e){var t=0;for(var n in e){var o=e[n];Array.isArray(o)&&o.length>t&&(t=o.length)}return Object(M["a"])(Object(M["a"])({},e),{},{_rows:t})}))})),h=function(e){var t;delete e["size"];var n=null!==(t=e.cellProperties)&&void 0!==t?t:{},o=n.type,a=Object(Mt["a"])(n,zy),r=function(e){var t=e.prop,n=e.model,o=null!==n&&void 0!==n&&n._url?null===n||void 0===n?void 0:n._url[t]:void 0;return Object(M["a"])(Object(M["a"])({},a),{},{onClick:o?function(){return Z(o)}:void 0})};return Object(M["a"])(Object(M["a"])({},e),{},{cellProperties:r,cellTemplate:"list"===o?Object(Ry["a"])(My["a"]):void 0})},j=function(){var o=Object(fe["a"])(regeneratorRuntime.mark((function o(){var l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:d.value=!0,t.request({type:"GET",url:"api/v2/".concat(e.module,"/reports"),params:{name:r.value.name,reportId:null===(l=r.value)||void 0===l?void 0:l.reportId}}).then((function(e){var t,o=e.data,r=o.data,l=o.meta;n.value=r.headers.map((function(e){return null!==e&&void 0!==e&&e.children&&Array.isArray(e.children)?(e.children=e.children.map((function(e){return h(e)})),e):h(e)})),null!==(t=l.headers)&&void 0!==t&&t.columnCount&&(a.value=l.headers.columnCount),d.value=!1}));case 2:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),O=function(){var e=Object(fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==n.value.length){e.next=3;break}return e.next=3,j();case 3:return e.next=5,b();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o["watch"])((function(){return e.name}),(function(){n.value=[]})),e.prefetch&&Object(o["onBeforeMount"])(O()),{total:c,pages:i,items:f,headers:n,colCount:a,response:u,isLoading:d,currentPage:s,itemCountText:p,showPaginator:m,generateReport:O}}};n("5cff");const Qy=C()(Gy,[["render",Py],["__scopeId","data-v-6ad9dcd0"]]);var Wy=Qy,Hy={components:{"reports-table":Wy},props:{reportId:{type:String,required:!0},reportName:{type:String,required:!0}},setup:function(e){var t=Object(o["ref"])({reportId:e.reportId});return{filters:t}}};const Jy=C()(Hy,[["render",Iy]]);var Yy=Jy,Xy={class:"orangehrm-background-container"},Ky={class:"orangehrm-card-container"};function Zy(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-icon-button"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("report-criterion"),h=Object(o["resolveComponent"])("report-display-field"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("submit-button"),g=Object(o["resolveComponent"])("oxd-form-actions"),C=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xy,[Object(o["createElementVNode"])("div",Ky,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.edit_report")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(C,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.report.name=e}),label:e.$t("general.report_name"),placeholder:e.$t("general.type_here_message"),rules:r.rules.name,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.selection_criteria")),1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.criterion,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.report.criterion=e}),type:"select",label:e.$t("pim.selection_criteria"),options:a.availableCriteria},null,8,["modelValue","label","options"]),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:a.addCriterion},null,8,["onClick"])]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.includeEmployees,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.report.includeEmployees=e}),type:"select",label:e.$t("pim.include"),options:r.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.report.criteriaSelected,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:e,operator:a.report.criteriaFieldValues[e.id].operator,"onUpdate:operator":function(t){return a.report.criteriaFieldValues[e.id].operator=t},valueX:a.report.criteriaFieldValues[e.id].valueX,"onUpdate:valueX":function(t){return a.report.criteriaFieldValues[e.id].valueX=t},valueY:a.report.criteriaFieldValues[e.id].valueY,"onUpdate:valueY":function(t){return a.report.criteriaFieldValues[e.id].valueY=t},criterion:e,onDelete:function(e){return a.removeCriterion(t)}},null,8,["operator","onUpdate:operator","valueX","onUpdate:valueX","valueY","onUpdate:valueY","criterion","onDelete"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.display_fields")),1)]})),_:1}),Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.fieldGroup,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.report.fieldGroup=e}),type:"select",label:e.$t("pim.select_display_field_group"),options:a.availableFieldGroups},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(d,{class:"orangehrm-report-criteria --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.report.displayField,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.report.displayField=e}),type:"select",label:e.$t("pim.select_display_field"),options:a.availableDisplyFields},null,8,["modelValue","label","options"]),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-report-icon",name:"plus",onClick:a.addDisplayField},null,8,["onClick"])]})),_:1})]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.report.fieldGroupSelected,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:e,includeHeader:a.report.displayFieldSelected[e.id].includeHeader,"onUpdate:includeHeader":function(t){return a.report.displayFieldSelected[e.id].includeHeader=t},"field-group":e,"selected-fields":a.report.displayFieldSelected[e.id].fields,onDelete:function(e){return a.removeDisplayFieldGroup(t)},onDeleteChip:function(e){return a.removeDisplayField(e,t)}},null,8,["includeHeader","onUpdate:includeHeader","field-group","selected-fields","onDelete","onDeleteChip"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(v)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var eV={components:{"report-criterion":wy,"report-display-field":ky},props:{selectionCriteria:{type:Array,required:!0},displayFieldGroups:{type:Array,required:!0},displayFields:{type:Array,required:!0},reportId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),n=Sy(e.selectionCriteria,e.displayFields,e.displayFieldGroups),o=n.report,a=n.addCriterion,r=n.serializeBody,l=n.addDisplayField,c=n.removeCriterion,i=n.removeDisplayField,u=n.removeDisplayFieldGroup,d=n.availableCriteria,s=n.availableFieldGroups,m=n.availableDisplyFields;return{http:t,report:o,addCriterion:a,serializeBody:r,addDisplayField:l,removeCriterion:c,removeDisplayField:i,removeDisplayFieldGroup:u,availableCriteria:d,availableFieldGroups:s,availableDisplyFields:m}},data:function(){return{isLoading:!1,rules:{name:[On,vn(250)],includeEmployees:[On]},includeOpts:[{id:1,key:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,key:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,key:"onlyPast",label:this.$t("general.past_employees_only")}]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.reportId).then((function(t){var n=t.data.data;e.report.name=n.name,e.report.includeEmployees=e.includeOpts.find((function(e){return e.key===n.include}));var o=[{id:"eq",label:"Equal"},{id:"lt",label:"Less Than"},{id:"gt",label:"Greater Than"},{id:"between",label:"Range"}],a=function(t){var o=e.displayFields.find((function(e){return e.field_group_id==t}));e.report.fieldGroupSelected.push(e.displayFieldGroups.find((function(e){return e.id==t}))),e.report.displayFieldSelected[t]={fields:n.fieldGroup[t].fields.map((function(e){return o.fields.find((function(t){return t.id===e}))})),includeHeader:n.fieldGroup[t].includeHeader}};for(var r in n.fieldGroup)a(r);var l=function(t){var a=e.selectionCriteria.find((function(e){return e.id==t}));e.report.criteriaSelected.push(a),e.report.criteriaFieldValues[t]={valueX:n.criteria[t].x,valueY:"undefined"===n.criteria[t].y?null:n.criteria[t].y,operator:o.find((function(e){return e.id===n.criteria[t].operator}))}};for(var c in n.criteria)l(c);return e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.reportId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/pim/viewDefinedPredefinedReports")},onSave:function(){var e=this;if(0===Object.keys(this.report.displayFieldSelected).length)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("pim.at_least_one_display_field_should_be_added")});this.isLoading=!0;var t=this.serializeBody(this.report);this.http.update(this.reportId,t).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/pim/displayPredefinedReport/{id}",{id:e.reportId})}))}}};n("4f02");const tV=C()(eV,[["render",Zy],["__scopeId","data-v-77eb50cc"]]);var nV=tV,oV={class:"orangehrm-background-container"},aV={class:"orangehrm-card-container"};function rV(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("password-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oV,[Object(o["createElementVNode"])("div",aV,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.update_password")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{ref:"formRef",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("general.username")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-user-name",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.userName),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.user.currentPassword,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.user.currentPassword=e}),type:"password",label:e.$t("pim.current_password"),rules:r.rules.currentPassword,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{password:r.user.password,"onUpdate:password":t[1]||(t[1]=function(e){return r.user.password=e}),passwordConfirm:r.user.passwordConfirm,"onUpdate:passwordConfirm":t[2]||(t[2]=function(e){return r.user.passwordConfirm=e})},null,8,["password","passwordConfirm"]),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var lV={currentPassword:"",password:"",passwordConfirm:""},cV={components:{"password-input":ha},props:{userName:{type:String,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/core/update-password"),t=us(),n=t.formRef,o=t.reset;return{http:e,formRef:n,reset:o}},data:function(){return{isLoading:!1,user:Object(M["a"])({},lV),rules:{currentPassword:[On,vn(64)]}}},methods:{onCancel:function(){window.history.back()},onSave:function(){var e=this;this.isLoading=!0,this.http.http.put("api/v2/pim/update-password",{currentPassword:this.user.currentPassword,newPassword:this.user.password}).then((function(t){if(200!==t.status)return e.isLoading=!1,e.$toast.error({title:e.$t("general.error"),message:e.$t("pim.current_password_is_incorrect")}),Promise.reject();e.$toast.saveSuccess()})).then((function(){e.isLoading=!1,e.reset()}))}}};n("33e9");const iV=C()(cV,[["render",rV],["__scopeId","data-v-c7c2326e"]]);var uV=iV,dV={"employee-save":tb,"employee-list":kb,"employee-personal-details":Lp,"employee-contact-details":zp,"employee-emergency-contacts":df,"employee-dependents":kf,"employee-profile-picture":Tf,"employee-salary":rh,"employee-job":Vh,"employee-qualifications":xO,"employee-immigration":zO,"employee-membership":Gv,"termination-reason-list":eg,"termination-reason-edit":lg,"termination-reason-save":mg,"reporting-method-list":Cg,"reporting-method-edit":Ng,"reporting-method-save":$g,"employee-report-to":Dv,"custom-field-list":Mg,"custom-field-edit":Yg,"custom-field-save":oC,"optional-field-list":pC,"employee-tax-exemption":gC,"employee-data-import":IC,"employee-report-list":ZC,"employee-report-save":Fy,"employee-report-view":Yy,"employee-report-edit":nV,"update-password":uV},sV=function(e){return Object(o["pushScopeId"])("data-v-0d6081af"),e=e(),Object(o["popScopeId"])(),e},mV={class:"orangehrm-background-container"},bV={class:"orangehrm-card-container"},pV=sV((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),fV={class:"orangehrm-support"},hV=["src"],jV=sV((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-support-link",href:"mailto:ossuport@orangehrm.com"},"ossuport@orangehrm.com ",-1)}));function OV(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mV,[Object(o["createElementVNode"])("div",bV,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.getting_started_with_orangehrm")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-support-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.getting_started_with_orangehrm_message_1")),1)]})),_:1}),pV,Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-support-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.getting_started_with_orangehrm_message_2")),1)]})),_:1}),Object(o["createElementVNode"])("div",fV,[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-support-channel --mail"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("img",{src:r.helpImgSrc,alt:"help image"},null,8,hV)]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-sub-title",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.customer_support")),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-support-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("help.contact_us_on_message"))+" ",1),jV,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("help.we_will_be_delighted_to_help")),1)]})),_:1})]})),_:1})]})),_:1})])])])}var vV={data:function(){return{helpImgSrc:"".concat(window.appGlobal.baseUrl,"/../images/help.png")}}};n("740c");const gV=C()(vV,[["render",OV],["__scopeId","data-v-0d6081af"]]);var CV=gV,yV={"view-support":CV},VV={class:"orangehrm-background-container"},wV={class:"orangehrm-card-container"};function xV(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",VV,[Object(o["createElementVNode"])("div",wV,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheet_period_config")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.timeSheetPeriod.startDay,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.timeSheetPeriod.startDay=e}),type:"select",label:e.$t("time.add_timesheet_period_config"),options:l.days,rules:r.rules.startDay,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}n("cb29");var DV={startDay:null},NV={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/time/time-sheet-period"),t=Xe(),n=t.locale;return{http:e,locale:n}},data:function(){return{isLoading:!1,timeSheetPeriod:Object(M["a"])({},DV),rules:{startDay:[On]}}},computed:{days:function(){var e=this;return Array(7).fill("").map((function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[1];return{id:0===a?7:a,label:e.locale.localize.day(a,{width:"wide"})}}))}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET"}).then((function(t){var n=t.data.data;e.updateTimeSheetPeriodModel(parseInt(n.startDay))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t=this;this.isLoading=!0,this.http.request({method:"PUT",data:{startDay:null===(e=this.timeSheetPeriod.startDay)||void 0===e?void 0:e.id}}).then((function(){return t.$toast.saveSuccess()})).then((function(){Z("/time/viewEmployeeTimesheet")}))},updateTimeSheetPeriodModel:function(e){this.timeSheetPeriod.startDay=this.days.find((function(t){return t.id===e}))}}};const _V=C()(NV,[["render",xV]]);var kV=_V,EV={class:"orangehrm-background-container"},SV={class:"orangehrm-paper-container"},AV={class:"orangehrm-header-container"},$V={class:"orangehrm-container"},FV={class:"orangehrm-bottom-container"};function BV(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",EV,[Object(o["createElementVNode"])("div",SV,[Object(o["createElementVNode"])("div",AV,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.customers")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",$V,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[1]||(t[1]=function(e){return a.sortDefinition=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","loading","headers","items"])]),Object(o["createElementVNode"])("div",FV,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[2]||(t[2]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var TV={"customer.name":"ASC"},IV={components:{"delete-confirmation":rn},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,name:t.name,description:t.description,isSelectable:-1===n}}))},n=ln({sortDefinition:TV}),a=n.sortDefinition,r=n.sortField,l=n.sortOrder,c=n.onSort,i=Object(o["computed"])((function(){return{sortField:r.value,sortOrder:l.value}})),u=new te(window.appGlobal.baseUrl,"/api/v2/time/customers"),d=Kt(u,{query:i,normalizer:t}),s=d.showPaginator,m=d.currentPage,b=d.total,p=d.pages,f=d.pageSize,h=d.response,j=d.isLoading,O=d.execQuery;return c(O),{http:u,showPaginator:s,currentPage:m,isLoading:j,total:b,pages:p,pageSize:f,execQuery:O,items:h,sortDefinition:a}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),sortField:"customer.name",style:{flex:2}},{name:"description",title:this.$t("general.description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/time/addCustomer")},onClickEdit:function(e){Z("/time/addCustomer/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_customer_who_have_time_logged_against")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const LV=C()(IV,[["render",BV]]);var UV=LV,PV={class:"orangehrm-background-container"},qV={class:"orangehrm-card-container"};function RV(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",PV,[Object(o["createElementVNode"])("div",qV,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_customer")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customer.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customer.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customer.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customer.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:"Type description here",rules:r.rules.description},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var MV={id:"",name:"",description:""},zV={setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data:function(){return{isLoading:!1,customer:Object(M["a"])({},MV),rules:{name:[On,vn(50),Object(ja["a"])(this.validateCustomerName,500)],description:[vn(255)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.customer.name,description:this.customer.description}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/time/viewCustomers")},validateCustomerName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:t.customer.name.trim()}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const GV=C()(zV,[["render",RV]]);var QV=GV,WV={class:"orangehrm-background-container"},HV={class:"orangehrm-card-container"};function JV(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",WV,[Object(o["createElementVNode"])("div",HV,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.edit_customer")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customer.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customer.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customer.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customer.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var YV={id:"",name:"",description:""},XV={props:{customerId:{type:String,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data:function(){return{isLoading:!1,customer:Object(M["a"])({},YV),rules:{name:[On,vn(50),Object(ja["a"])(this.validateCustomerName,500)],description:[vn(255)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.customerId).then((function(t){var n=t.data.data;e.customer.id=n.id,e.customer.name=n.name,e.customer.description=n.description})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.customerId,{name:this.customer.name,description:this.customer.description}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/time/viewCustomers")},validateCustomerName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:t.customer.name.trim(),customerId:t.customerId}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const KV=C()(XV,[["render",JV]]);var ZV=KV,ew={class:"orangehrm-background-container"},tw=Object(o["createElementVNode"])("br",null,null,-1);function nw(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("timesheet-period"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("timesheet"),s=Object(o["resolveComponent"])("timesheet-actions");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ew,[Object(o["createVNode"])(d,{loading:e.isLoading,columns:e.timesheetColumns,records:e.timesheetRecords,"timesheet-id":e.timesheetId,subtotal:e.timesheetSubtotal},{"header-title":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.my_timesheet")),1)]})),_:1})]})),"header-options":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.date=t}),value:a.timesheetPeriod,onPrevious:a.onClickPrevious,onNext:a.onClickNext},null,8,["modelValue","value","onPrevious","onNext"])]})),"footer-title":Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.status"))+": "+Object(o["toDisplayString"])(l.myTimesheetStatus),1)]})),_:1},512),[[o["vShow"],e.timesheetStatus]])]})),"footer-options":Object(o["withCtx"])((function(){return[a.showCreateTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,"display-type":"secondary",disabled:a.canCreateTimesheet,label:e.$t("time.create_timesheet"),onClick:a.onClickCreateTimesheet},null,8,["disabled","label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canEditTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,"display-type":"ghost",label:e.$t("general.edit"),onClick:a.onClickEdit},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canSubmitTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:2,"display-type":"secondary",label:e.$t("general.submit"),onClick:a.onClickSubmit},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","columns","records","timesheet-id","subtotal"]),tw,e.timesheetId?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.timesheetId,"timesheet-id":e.timesheetId},null,8,["timesheet-id"])):Object(o["createCommentVNode"])("",!0)])}var ow=function(e){return Object(o["pushScopeId"])("data-v-5abbcca2"),e=e(),Object(o["popScopeId"])(),e},aw={class:"orangehrm-timesheet-header"},rw={class:"orangehrm-timesheet-header--title"},lw={class:"orangehrm-timesheet-header--options"},cw={key:0,class:"orangehrm-timesheet-loader"},iw={key:1,class:"orangehrm-timesheet-body-message"},uw={key:2,class:"orangehrm-timesheet-body"},dw={class:"orangehrm-timesheet-table-header"},sw={class:"orangehrm-timesheet-table-header-row"},mw={class:"orangehrm-timesheet-table-header-cell"},bw={class:"--day"},pw={key:0,class:"orangehrm-timesheet-table-header-cell --center --freeze-right"},fw={class:"orangehrm-timesheet-table-body"},hw={key:1},jw={class:"orangehrm-timesheet-table-body-cell"},Ow={key:1},vw={key:1},gw={key:0,class:"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight"},Cw={key:1,class:"orangehrm-timesheet-table-body-cell --flex"},yw={key:0,class:"orangehrm-timesheet-table-body-row --total"},Vw={class:"orangehrm-timesheet-table-body-cell --freeze-left --highlight"},ww=ow((function(){return Object(o["createElementVNode"])("td",null,null,-1)})),xw={class:"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight-2"},Dw={key:1,class:"orangehrm-timesheet-table-body-row"},Nw={class:"orangehrm-timesheet-table-body-cell --flex"},_w={key:2,class:"orangehrm-timesheet-table-body-row"},kw={colspan:"9",class:"orangehrm-timesheet-table-body-cell"},Ew={class:"orangehrm-timesheet-footer"},Sw={class:"orangehrm-timesheet-footer--title"},Aw={class:"orangehrm-timesheet-footer--options"};function $w(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-loading-spinner"),i=Object(o["resolveComponent"])("oxd-alert"),u=Object(o["resolveComponent"])("project-autocomplete"),d=Object(o["resolveComponent"])("activity-dropdown"),s=Object(o["resolveComponent"])("oxd-icon-button"),m=Object(o["resolveComponent"])("oxd-input-field"),b=Object(o["resolveComponent"])("oxd-text"),p=Object(o["resolveComponent"])("timesheet-comment-modal"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createBlock"])(f,{class:"orangehrm-paper-container"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",aw,[Object(o["createElementVNode"])("div",rw,[Object(o["renderSlot"])(e.$slots,"header-title",{},void 0,!0)]),Object(o["createElementVNode"])("div",lw,[Object(o["renderSlot"])(e.$slots,"header-options",{},void 0,!0)])]),n.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",cw,[Object(o["createVNode"])(c)])):n.loading||n.columns?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",uw,[Object(o["createElementVNode"])("table",{class:Object(o["normalizeClass"])(l.tableClasses)},[Object(o["createElementVNode"])("thead",dw,[Object(o["createElementVNode"])("tr",sw,[Object(o["createElementVNode"])("th",{class:Object(o["normalizeClass"])(l.fixedColumnClasses)},Object(o["toDisplayString"])(e.$t("time.project")),3),Object(o["createElementVNode"])("th",mw,Object(o["toDisplayString"])(e.$t("time.activity")),1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.daysOfWeek,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("th",{key:e.id,class:"orangehrm-timesheet-table-header-cell --center"},[Object(o["createElementVNode"])("span",bw,Object(o["toDisplayString"])(e.day),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.title),1)])})),128)),n.editable?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("th",pw,Object(o["toDisplayString"])(e.$t("general.total")),1))])]),Object(o["createElementVNode"])("tbody",fw,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.records,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:e,class:"orangehrm-timesheet-table-body-row"},[Object(o["createElementVNode"])("td",{class:Object(o["normalizeClass"])(l.fixedCellClasses)},[n.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,"only-allowed":!1,rules:r.rules.project,"model-value":l.getProject(e),"onUpdate:modelValue":function(e){return l.updateProject(e,t)}},null,8,["rules","model-value","onUpdate:modelValue"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",hw,Object(o["toDisplayString"])(e.project?"".concat(e.customer.name," - ").concat(e.project.name):""),1))],2),Object(o["createElementVNode"])("td",jw,[n.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,rules:r.rules.activity,"project-id":e.project&&e.project.id,"model-value":l.getActivity(e.activity),"onUpdate:modelValue":function(e){return l.updateActivity(e,t)}},null,8,["rules","project-id","model-value","onUpdate:modelValue"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Ow,Object(o["toDisplayString"])(e.activity&&e.activity.name),1))]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.columns,(function(a,r){var c;return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{key:"".concat(e.project,"_").concat(e.activity,"_").concat(r),class:Object(o["normalizeClass"])({"orangehrm-timesheet-table-body-cell":!0,"--center":!0,"--duration-input":n.editable,"--highlight-3":!n.editable&&a.workday})},[Object(o["withDirectives"])(Object(o["createVNode"])(s,{"display-type":"secondary",class:"orangehrm-timesheet-icon-comment",name:l.getCommentIcon(e.dates[r]),onMousedown:function(n){return l.viewComment(e,e.dates[r],t,r)}},null,8,["name","onMousedown"]),[[o["vShow"],l.isCommentVisible(e.dates[r],t,r)]]),n.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,autocomplete:"off",rules:l.validateDuration(r),"model-value":l.getDuration(e.dates[r]),onBlur:l.onDurationBlur,onFocus:function(e){return l.onDurationFocus(t,r)},"onUpdate:modelValue":function(e){return l.updateTime(e,t,r)}},null,8,["rules","model-value","onBlur","onFocus","onUpdate:modelValue"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",vw,Object(o["toDisplayString"])(null!==(c=l.getDuration(e.dates[r]))&&void 0!==c?c:"00:00"),1))],2)})),128)),n.editable?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("td",gw,Object(o["toDisplayString"])(e.total.label),1)),n.editable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("td",Cw,[Object(o["createVNode"])(s,{name:"trash",class:"orangehrm-timesheet-icon",onClick:function(e){return l.deleteRow(t)}},null,8,["onClick"])])):Object(o["createCommentVNode"])("",!0)])})),128)),!n.editable&&n.records.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",yw,[Object(o["createElementVNode"])("td",Vw,Object(o["toDisplayString"])(e.$t("general.total")),1),ww,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.columns,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{key:"total-".concat(e),class:"orangehrm-timesheet-table-body-cell --center"},Object(o["toDisplayString"])(e.total.label),1)})),128)),Object(o["createElementVNode"])("td",xw,Object(o["toDisplayString"])(n.subtotal),1)])):Object(o["createCommentVNode"])("",!0),n.editable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Dw,[Object(o["createElementVNode"])("td",Nw,[Object(o["createVNode"])(s,{name:"plus",class:"orangehrm-timesheet-icon",onClick:l.addRow},null,8,["onClick"]),Object(o["createVNode"])(b,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_row")),1)]})),_:1})])])):Object(o["createCommentVNode"])("",!0),0===n.records.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",_w,[Object(o["createElementVNode"])("td",kw,Object(o["toDisplayString"])(e.$t("general.no_records_found")),1)])):Object(o["createCommentVNode"])("",!0)])],2)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",iw,[Object(o["createVNode"])(i,{type:"warn",show:!0,message:e.$t("time.no_timesheets_found")},null,8,["message"])])),Object(o["createElementVNode"])("div",Ew,[Object(o["createElementVNode"])("div",Sw,[Object(o["renderSlot"])(e.$slots,"footer-title",{},void 0,!0)]),Object(o["createElementVNode"])("div",Aw,[Object(o["renderSlot"])(e.$slots,"footer-options",{},void 0,!0)])]),r.showCommentModal?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:3,editable:n.editable,data:r.commentModalState,"timesheet-id":n.timesheetId,onClose:l.onCommentModalClose},null,8,["editable","data","timesheet-id","onClose"])):Object(o["createCommentVNode"])("",!0)]})),_:3})}function Fw(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",options:a.options},null,8,["options"])}var Bw={name:"ActivityDropdown",props:{projectId:{type:Number,required:!1,default:null}},setup:function(e){var t=Object(o["ref"])([]),n=new te(window.appGlobal.baseUrl,"");return Object(o["watchEffect"])(Object(fe["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:e.projectId?n.request({method:"GET",url:"/api/v2/time/project/".concat(e.projectId,"/activities")}).then((function(e){var n=e.data;t.value=n.data.map((function(e){return{id:e.id,label:e.name,isDeleted:e.deleted}}))})):t.value=[];case 1:case"end":return o.stop()}}),o)})))),{options:t}}};n("cff8");const Tw=C()(Bw,[["render",Fw],["__scopeId","data-v-09c78718"]]);var Iw=Tw;function Lw(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"autocomplete",clear:!1,label:e.$t("time.project"),"create-options":l.loadProjects},{option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1)]})),_:1},8,["label","create-options"])}var Uw={name:"ProjectAutocomplete",props:{onlyAllowed:{type:Boolean,required:!1,default:!0},excludeProjectIds:{type:Array,required:!1,default:function(){return[]}},excludeCustomerName:{type:Boolean,default:!1}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/time/projects");return{http:e}},methods:{loadProjects:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){if(e.trim()){var o={name:t.excludeCustomerName?e.trim():void 0,onlyAllowed:t.onlyAllowed,model:"detailed",excludeProjectIds:t.excludeProjectIds.length>0?t.excludeProjectIds:void 0,customerOrProjectName:t.excludeCustomerName?void 0:e.trim()};t.http.getAll(o).then((function(e){var o=e.data;n(o.data.map((function(e){var n;return{id:e.id,label:t.excludeCustomerName?e.name:"".concat(null===(n=e.customer)||void 0===n?void 0:n.name," - ").concat(e.name),_customer:e.customer}})))}))}else n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};n("8dc6");const Pw=C()(Uw,[["render",Lw],["__scopeId","data-v-3fd08964"]]);var qw=Pw,Rw={class:"orangehrm-modal-header"};function Mw(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Rw,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.comment")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:2,class:"orangehrm-timesheet-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.project"))+": ",1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.projectName),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.activity"))+": ",1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.data.activity.name),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-timesheet-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.date"))+": ",1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-timesheet-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.commentDate),1)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.comment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.comment=e}),type:"textarea",placeholder:e.$t("general.comment_here"),rules:r.rules.comment,disabled:!n.editable},null,8,["modelValue","placeholder","rules","disabled"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["withDirectives"])(Object(o["createVNode"])(b,null,null,512),[[o["vShow"],n.editable]])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var zw={name:"TimesheetCommentModal",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,required:!0},editable:{type:Boolean,required:!0},timesheetId:{type:Number,required:!0}},emits:["close"],setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/time/timesheets"),t=Xe(),n=t.locale,o=de(),a=o.jsDateFormat;return{http:e,locale:n,jsDateFormat:a}},data:function(){return{isLoading:!1,comment:null,rules:{comment:[vn(2e3)]}}},computed:{projectName:function(){var e=this.data,t=e.project,n=e.customer;return null!==t&&void 0!==t&&t.label?t.label:"".concat(null===n||void 0===n?void 0:n.name," - ").concat(null===t||void 0===t?void 0:t.name)},commentDate:function(){var e=this.data.date;return e?ke(_e(e),this.jsDateFormat,{locale:this.locale}):null}},beforeMount:function(){var e,t=this;null!==(e=this.data)&&void 0!==e&&e.id&&(this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/time/timesheets/".concat(this.timesheetId,"/entries/").concat(this.data.id,"/comment")}).then((function(e){var n=e.data.data;t.comment=null===n||void 0===n?void 0:n.comment})).finally((function(){t.isLoading=!1})))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",url:"api/v2/time/timesheets/".concat(this.timesheetId,"/entries/comment"),data:{date:this.data.date,comment:this.comment,projectId:this.data.project.id,activityId:this.data.activity.id}}).then((function(t){var n=t.data.data;e.$toast.saveSuccess(),e.$emit("close",n)}))},onCancel:function(){this.comment=null,this.$emit("close")}}};n("9082");const Gw=C()(zw,[["render",Mw],["__scopeId","data-v-3536e280"]]);var Qw=Gw,Ww={name:"Timesheet",components:{"oxd-alert":ct["a"],"oxd-loading-spinner":ne["a"],"activity-dropdown":Iw,"project-autocomplete":qw,"timesheet-comment-modal":Qw},props:{records:{type:Array,default:function(){return[]}},columns:{type:Object,required:!1,default:function(){return null}},subtotal:{type:String,required:!1,default:null},editable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},timesheetId:{type:Number,default:null}},emits:["update:records"],data:function(){var e=this;return{focusedField:null,showCommentModal:!1,commentModalState:null,rules:{project:[Kn,function(t){return null!==t||e.$t("time.select_a_project")}],activity:[function(t){return null!==t||e.$t("time.select_an_activity")},function(t){return e.records.filter((function(e){var n;return(null===(n=e.activity)||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.id)})).length<2||e.$t("time.duplicate_record")}]}}},computed:{days:function(){return this.columns?Object.keys(this.columns):[]},dailyTotals:function(){var e=this,t={},n=function(n){t[n]=e.records.reduce((function(e,t){var o,a=Le(null===(o=t.dates[n])||void 0===o?void 0:o.duration);return a>0?e+a:e}),0)};for(var o in this.columns)n(o);return t},daysOfWeek:function(){var e=[this.$t("general.sun"),this.$t("general.mon"),this.$t("general.tue"),this.$t("general.wed"),this.$t("general.thu"),this.$t("general.fri"),this.$t("general.sat")];return this.days.map((function(t){var n=_e(t,"yyyy-MM-dd");return{id:n.valueOf(),day:n.getDate(),title:e[n.getDay()]}}))},tableClasses:function(){return{"orangehrm-timesheet-table":!0,"--editable":this.editable}},fixedColumnClasses:function(){return{"orangehrm-timesheet-table-header-cell":!0,"--freeze-left":!this.editable}},fixedCellClasses:function(){return{"orangehrm-timesheet-table-body-cell":!0,"--freeze-left":!this.editable}}},methods:{deleteRow:function(e){var t=this,n=this.records.filter((function(t,n){return n!==e}));this.syncRecords(n),this.$nextTick().then((function(){0===n.length&&t.addRow()}))},addRow:function(){var e=[].concat(Object(iO["a"])(this.records),[{project:null,activity:null,dates:{}}]);this.syncRecords(e)},updateTime:function(e,t,n){var o=this.records.map((function(o,a){if(a===t){var r,l,c=Object(is["a"])({},n,{date:n,duration:e,id:null===(r=o.dates[n])||void 0===r?void 0:r.id,comment:null===(l=o.dates[n])||void 0===l?void 0:l.comment});o.dates=Object(M["a"])(Object(M["a"])({},o.dates),c)}return o}));this.syncRecords(o)},updateComment:function(e,t,n,o){var a=this.records.map((function(a,r){if(r===n){var l,c=Object(is["a"])({},o,{id:e,date:o,comment:t,duration:null===(l=a.dates[o])||void 0===l?void 0:l.duration});a.dates=Object(M["a"])(Object(M["a"])({},a.dates),c)}return a}));this.syncRecords(a)},updateProject:function(e,t){var n=this.records.map((function(n,o){return o===t&&(n.project=e||null,n.customer=null!==e&&void 0!==e&&e._customer?e._customer:null),n}));this.updateActivity(null,t),this.syncRecords(n)},updateActivity:function(e,t){var n=this.records.map((function(n,o){return o===t&&(n.activity=e?{id:e.id,name:e.label}:null),n}));this.syncRecords(n)},syncRecords:function(e){this.editable&&this.$emit("update:records",e)},viewComment:function(e,t,n,o){var a,r;null!==(a=e.project)&&void 0!==a&&a.id&&null!==(r=e.activity)&&void 0!==r&&r.id?(this.commentModalState={date:o,index:n,id:null===t||void 0===t?void 0:t.id,project:e.project,activity:e.activity,customer:e.customer},this.showCommentModal=!0):this.$toast.warn({title:this.$t("general.warning"),message:this.$t("time.select_a_project_and_an_activity")})},onCommentModalClose:function(e){if(e){var t=e.id,n=e.comment,o=this.commentModalState,a=o.index,r=o.date;this.updateComment(t,n,a,r)}this.showCommentModal=!1,this.commentModalState=null},getProject:function(e){var t=e.project,n=e.customer;return t&&t.label?t:t&&n?{id:t.id,label:"".concat(n.name," - ").concat(t.name)}:null},getActivity:function(e){return e?{id:e.id,label:e.name}:null},getDuration:function(e){return null!==e&&void 0!==e&&e.duration?e.duration:null},getCommentIcon:function(e){return null!==e&&void 0!==e&&e.comment?"chat-dots-fill":"chat-dots"},isCommentVisible:function(e,t,n){return!(null===e||void 0===e||!e.comment)||!!this.editable&&(this.focusedField&&this.focusedField.index===t&&this.focusedField.date===n)},onDurationFocus:function(e,t){this.focusedField={index:e,date:t}},onDurationBlur:function(){this.focusedField=null},validateDuration:function(e){var t=this,n=function(e){return""===e||null===e||Le(e)>=0||t.$t("time.should_be_less_than_24_and_in_hh_mm_or_decimal_format")},o=function(){return!(t.dailyTotals[e]>86400)||t.$t("time.total_should_be_less_than_24_hours")};return[n,o]}}};n("d007");const Hw=C()(Ww,[["render",$w],["__scopeId","data-v-5abbcca2"]]);var Jw=Hw;function Yw(e){var t=Object(o["reactive"])({isLoading:!1,employee:null,timesheet:null,timesheetId:null,timesheetRecords:[],timesheetStatus:null,timesheetColumns:null,timesheetSubtotal:null,timesheetAllowedActions:[],date:null}),n=function(t,n){return e.request({method:"GET",url:"/api/v2/time/timesheets/default",params:{date:t,empNumber:n}})},a=function(t,n,o,a){return e.request({method:"PUT",url:a?"api/v2/time/employees/".concat(a,"/timesheets/").concat(t):"api/v2/time/timesheets/".concat(t),data:{action:n,comment:o||void 0}})},r=function(t,n){return new Promise((function(o){e.request({method:"GET",url:n?"api/v2/time/employees/timesheets/".concat(t,"/entries"):"api/v2/time/timesheets/".concat(t,"/entries")}).then((function(e){var t=e.data,n=t.data,a=t.meta,r=a.timesheet,l=a.allowedActions;o({data:n,meta:a,timesheet:r,allowedActions:l})}))}))},l=function(t,n,o){return e.request({method:"PUT",url:o?"api/v2/time/employees/timesheets/".concat(t,"/entries"):"api/v2/time/timesheets/".concat(t,"/entries"),data:Object(M["a"])({},n)})};return{state:t,fetchTimesheet:n,updateTimesheet:a,fetchTimesheetEntries:r,updateTimesheetEntries:l}}function Xw(e,t,n){var a=Yw(e),r=a.state,l=a.fetchTimesheet,c=a.updateTimesheet,i=a.fetchTimesheetEntries,u=Gt(),d=u.noRecordsFound,s=u.success,m=Je(),b=m.$t,p=de(),f=p.jsDateFormat,h=Xe(),j=h.locale;r.date=t||ke(Ne(),"yyyy-MM-dd");var O=function(e){e&&null===_e(e)||(r.isLoading=!0,l(e,n).then((function(e){var t=e.data.data;return r.timesheet=t,r.timesheetId=t.id,t.id?i(t.id,void 0!==n):null})).then((function(e){if(null!==e){var t=e.data,n=e.meta,o=e.timesheet,a=e.allowedActions;r.timesheetRecords=t,r.employee=n.employee,r.timesheetColumns=n.columns,r.timesheetSubtotal=n.sum.label,r.timesheetStatus=o.status.name,r.timesheetAllowedActions=a,0===t.length&&d()}else r.employee=null,r.timesheetRecords=[],r.timesheetColumns=null,r.timesheetStatus=null,r.timesheetSubtotal=null,r.timesheetAllowedActions=[]})).finally((function(){r.isLoading=!1})))};Object(o["watchEffect"])(Object(fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r.date&&O(r.date));case 1:case"end":return e.stop()}}),e)}))));var v=function(){var e,t=null!==(e=_e(String(r.date),"yyyy-MM-dd"))&&void 0!==e?e:Ne();t.setDate(t.getDate()-7),r.date=ke(t,"yyyy-MM-dd")},g=function(){var e,t=null!==(e=_e(String(r.date),"yyyy-MM-dd"))&&void 0!==e?e:Ne();t.setDate(t.getDate()+7),r.date=ke(t,"yyyy-MM-dd")},C=function(){r.timesheetId&&Z("/time/editTimesheet/{id}",{id:r.timesheetId})},y=function(){r.timesheetId&&(r.isLoading=!0,c(r.timesheetId,"SUBMIT",null,n).then((function(){s({title:b("general.success"),message:b("time.timesheet_submitted")}),r.timesheetId=null,O(r.date)})))},V=function(){r.timesheetId&&(r.isLoading=!0,c(r.timesheetId,"RESET",null,n).then((function(){s({title:b("general.success"),message:b("time.timesheet_reset")}),r.timesheetId=null,O(r.date)})))},w=function(e){r.timesheetId&&(r.isLoading=!0,c(r.timesheetId,"APPROVE",e,n).then((function(){s({title:b("general.success"),message:b("time.timesheet_approved")}),r.timesheetId=null,O(r.date)})))},x=function(e){r.timesheetId&&(r.isLoading=!0,c(r.timesheetId,"REJECT",e,n).then((function(){s({title:b("general.success"),message:b("time.timesheet_rejected")}),r.timesheetId=null,O(r.date)})))},D=function(){r.isLoading=!0,e.request({method:"POST",url:n?"api/v2/time/employees/".concat(n,"/timesheets"):"/api/v2/time/timesheets",data:{date:r.date}}).then((function(){s({title:b("general.success"),message:b("time.timesheet_successfully_created")}),O(r.date)}))},N=Object(o["computed"])((function(){return!r.isLoading&&!r.timesheetId})),_=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"SUBMIT"===e.action}))})),k=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"APPROVE"===e.action}))})),E=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"REJECT"===e.action}))})),S=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"RESET"===e.action}))})),A=Object(o["computed"])((function(){return r.timesheetAllowedActions.find((function(e){return"MODIFY"===e.action}))})),$=Object(o["computed"])((function(){var e,t=null!==(e=_e(String(r.date),"yyyy-MM-dd"))&&void 0!==e?e:Ne();return t>Ne()})),F=Object(o["computed"])((function(){var e,t,n=_e((null===(e=r.timesheet)||void 0===e?void 0:e.startDate)||""),o=_e((null===(t=r.timesheet)||void 0===t?void 0:t.endDate)||"");return n&&o?"".concat(ke(n,f,{locale:j})," ").concat(b("general.to").toLowerCase()," ").concat(ke(o,f,{locale:j})):null}));return{state:r,onClickEdit:C,onClickNext:g,onClickReset:V,onClickSubmit:y,onClickReject:x,onClickApprove:w,onClickPrevious:v,timesheetPeriod:F,canEditTimesheet:A,canResetTimesheet:S,canSubmitTimesheet:_,canRejectTimesheet:E,canCreateTimesheet:$,canApproveTimesheet:k,showCreateTimesheet:N,onClickCreateTimesheet:D}}var Kw={class:"orangehrm-timeperiod-picker"};function Zw(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-icon-button"),u=Object(o["resolveComponent"])("date-input");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Kw,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-timeperiod-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheet_period")),1)]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-timeperiod-icon --prev",name:"chevron-left",onClick:t[0]||(t[0]=function(t){return e.$emit("previous",t)})}),Object(o["createVNode"])(u,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(e.$attrs)),null,16),Object(o["createVNode"])(i,{class:"orangehrm-timeperiod-icon --next",name:"chevron-right",onClick:t[1]||(t[1]=function(t){return e.$emit("next",t)})})])}var ex={name:"TimesheetPeriod",inheritAttrs:!1,emits:["previous","next"]};n("e0034");const tx=C()(ex,[["render",Zw],["__scopeId","data-v-e0a5176c"]]);var nx=tx,ox={key:0,class:"orangehrm-paper-container"},ax={class:"orangehrm-header-container"},rx={class:"orangehrm-container"},lx={class:"orangehrm-bottom-container"},cx={key:1};function ix(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-card-table"),d=Object(o["resolveComponent"])("oxd-pagination");return a.total>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ox,[Object(o["createElementVNode"])("div",ax,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.actions_performed_on_the_timesheet")),1)]})),_:1})]),Object(o["createElementVNode"])("div",rx,[Object(o["createVNode"])(u,{headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",lx,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",cx))}var ux={name:"TimesheetActions",props:{timesheetId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/time/timesheets/".concat(e.timesheetId,"/action-logs")),n=Je(),o=n.$t,a=de(),r=a.jsDateFormat,l=Xe(),c=l.locale,i=function(e){return e.map((function(e){var t,n,a,l,i,u=null===(t=e.action)||void 0===t?void 0:t.label,d=null===(n=e.performedEmployee)||void 0===n?void 0:n.firstName,s=null===(a=e.performedEmployee)||void 0===a?void 0:a.lastName;switch(u){case"Submitted":u=o("time.submitted");break;case"Rejected":u=o("leave.rejected");break;case"Not Submitted":u=o("time.not_submitted");break;case"Approved":u=o("time.approved");break}return i=d&&s?"".concat(d," ").concat(s):o("general.purged_employee"),null!==(l=e.performedEmployee)&&void 0!==l&&l.terminationId&&(i+=" (".concat(o("general.past_employee"),")")),{id:e.id,action:u,date:ke(_e(e.date),r,{locale:c}),comment:e.comment,performedBy:i}}))},u=Kt(t,{toastNoRecords:!1,normalizer:i}),d=u.showPaginator,s=u.currentPage,m=u.total,b=u.pages,p=u.pageSize,f=u.response,h=u.isLoading,j=u.execQuery;return{http:t,showPaginator:d,currentPage:s,isLoading:h,total:m,pages:b,pageSize:p,execQuery:j,items:f}},data:function(){return{headers:[{name:"action",slot:"title",title:this.$t("general.actions"),style:{flex:1}},{name:"performedBy",title:this.$t("general.performed_by"),style:{flex:1}},{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}}]}}};const dx=C()(ux,[["render",ix]]);var sx=dx,mx={components:{timesheet:Jw,"timesheet-period":nx,"timesheet-actions":sx},props:{startDate:{type:String,required:!1,default:null}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),n=Xw(t,e.startDate),a=n.state,r=n.onClickEdit,l=n.onClickNext,c=n.onClickSubmit,i=n.onClickPrevious,u=n.timesheetPeriod,d=n.canEditTimesheet,s=n.canSubmitTimesheet,m=n.canCreateTimesheet,b=n.showCreateTimesheet,p=n.onClickCreateTimesheet;return Object(M["a"])(Object(M["a"])({onClickEdit:r,onClickNext:l,onClickSubmit:c,onClickPrevious:i},Object(o["toRefs"])(a)),{},{timesheetPeriod:u,canEditTimesheet:d,canSubmitTimesheet:s,canCreateTimesheet:m,showCreateTimesheet:b,onClickCreateTimesheet:p})},data:function(){return{statuses:[{id:1,label:this.$t("time.submitted"),name:"Submitted"},{id:2,label:this.$t("leave.rejected"),name:"Rejected"},{id:3,label:this.$t("time.not_submitted"),name:"Not Submitted"},{id:4,label:this.$t("time.approved"),name:"Approved"}]}},computed:{myTimesheetStatus:function(){var e,t=this;return(null===(e=this.statuses.find((function(e){return e.name===t.timesheetStatus})))||void 0===e?void 0:e.label)||null}}};const bx=C()(mx,[["render",nw]]);var px=bx,fx={class:"orangehrm-background-container"};function hx(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("timesheet");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fx,[Object(o["createVNode"])(u,{records:e.timesheetRecords,"onUpdate:records":t[0]||(t[0]=function(t){return e.timesheetRecords=t}),editable:!0,loading:e.isLoading,"timesheet-id":n.timesheetId,columns:e.timesheetColumns,onSubmitValid:a.onSave},{"header-title":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.title),1)]})),_:1})]})),"header-options":Object(o["withCtx"])((function(){return[l.timesheetDateRange?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,tag:"p",class:"orangehrm-timeperiod-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheet_period")),1)]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.timesheetDateRange),1)]})),_:1})]})),"footer-options":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:a.onClickCancel},null,8,["label","onClick"]),Object(o["createVNode"])(i,{"display-type":"ghost",label:e.$t("general.reset"),onClick:a.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(i,{type:"submit","display-type":"secondary",label:e.$t("general.save")},null,8,["label"])]})),_:1},8,["records","loading","timesheet-id","columns","onSubmitValid"])])}var jx={components:{timesheet:Jw},props:{myTimesheet:{type:Boolean,default:!1},timesheetId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/time/timesheets");t.setIgnorePath("api/v2/time/timesheets/[0-9]+/entries");var n=[],a=Gt(),r=a.saveSuccess,l=Yw(t),c=l.state,i=l.fetchTimesheetEntries,u=l.updateTimesheetEntries,d=de(),s=d.jsDateFormat,m=Xe(),b=m.locale,p=ea(),f=p.$tEmpName,h=function(){c.isLoading=!0,n=[],c.timesheetRecords=[],i(e.timesheetId,!e.myTimesheet).then((function(e){var t=e.data,o=e.meta,a=e.timesheet,r=e.allowedActions;c.timesheet=a,c.employee=o.employee,c.timesheetColumns=o.columns,c.timesheetSubtotal=o.sum.label,c.timesheetStatus=a.status.name,c.timesheetAllowedActions=r,t.length>0?(c.timesheetRecords=t,n=JSON.parse(JSON.stringify(t))):(c.timesheetRecords.push({project:null,activity:null,dates:{}}),n.push({project:null,activity:null,dates:{}})),c.isLoading=!1}))},j=function(){return h()},O=function(){var t;e.myTimesheet?Z("/time/viewMyTimesheet",{},{startDate:c.timesheet.startDate}):Z("/time/viewTimesheet/employeeId/{id}",{id:null===(t=c.employee)||void 0===t?void 0:t.empNumber},{startDate:c.timesheet.startDate})},v=function(){c.isLoading=!0;var t={entries:c.timesheetRecords.map((function(e){var t={};for(var n in e.dates){var o=Le(e.dates[n].duration);t[n]={duration:o>0?Ie(o):"00:00"}}return{projectId:e.project.id,activityId:e.activity.id,dates:t}})),deletedEntries:n.filter((function(e){return!!e.project&&c.timesheetRecords.findIndex((function(t){return t.project.id===e.project.id&&t.activity.id===e.activity.id}))<0})).map((function(e){return{projectId:e.project.id,activityId:e.activity.id}}))};u(e.timesheetId,t,!e.myTimesheet).then((function(){return r()})).catch((function(){return r()})).then((function(){O()}))};return Object(o["onBeforeMount"])((function(){return h()})),Object(M["a"])(Object(M["a"])({onSave:v,onClickReset:j,onClickCancel:O},Object(o["toRefs"])(c)),{},{jsDateFormat:s,locale:b,translateEmpName:f})},computed:{title:function(){if(this.myTimesheet)return this.$t("time.edit_timesheet");if(this.employee){var e=this.translateEmpName(this.employee,{includeMiddle:!1,excludePastEmpTag:!1});return"".concat(this.$t("time.edit_timesheet_for")," ").concat(e)}return""},timesheetDateRange:function(){if(!this.timesheet)return"";var e=ke(_e(this.timesheet.startDate),this.jsDateFormat,{locale:this.locale}),t=ke(_e(this.timesheet.endDate),this.jsDateFormat,{locale:this.locale});return"".concat(e," - ").concat(t)}}};n("bc2d");const Ox=C()(jx,[["render",hx],["__scopeId","data-v-1522fe71"]]);var vx=Ox,gx={class:"orangehrm-background-container"},Cx=Object(o["createElementVNode"])("br",null,null,-1),yx={class:"orangehrm-paper-container"},Vx={key:0,class:"orangehrm-header-container"},wx={class:"orangehrm-container"},xx={class:"orangehrm-bottom-container"};function Dx(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("customer-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("project-autocomplete"),s=Object(o["resolveComponent"])("project-admin-autocomplete"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-divider"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-table-filter"),g=Object(o["resolveComponent"])("table-header"),C=Object(o["resolveComponent"])("oxd-card-table"),y=Object(o["resolveComponent"])("oxd-pagination"),V=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gx,[Object(o["createVNode"])(v,{"filter-title":e.$t("general.projects")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSubmitValid:l.filterItems,onReset:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.customer,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.customer=e}),rules:r.rules.customer},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.project,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.project=e}),"exclude-customer-name":!0,rules:r.rules.project},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.projectAdmin,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.projectAdmin=e}),"show-delete":!1,rules:r.rules.projectAdmin},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{type:"reset","display-type":"ghost",label:e.$t("general.reset")},null,8,["label"]),Object(o["createVNode"])(h,{label:e.$t("general.search")},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),Cx,Object(o["createElementVNode"])("div",yx,[e.$can.create("time_projects")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Vx,[Object(o["createVNode"])(f,{"icon-name":"plus","display-type":"secondary",label:e.$t("general.add"),onClick:l.onClickAdd},null,8,["label","onClick"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(g,{selected:r.checkedItems.length,loading:a.isLoading,total:a.total,"show-divider":e.$can.create("time_projects"),onDelete:l.onClickDeleteSelected},null,8,["selected","loading","total","show-divider","onDelete"]),Object(o["createElementVNode"])("div",wx,[Object(o["createVNode"])(C,{selected:r.checkedItems,"onUpdate:selected":t[3]||(t[3]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[4]||(t[4]=function(e){return a.sortDefinition=e}),headers:l.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card",selectable:e.$can.delete("time_projects")},null,8,["selected","order","headers","items","loading","selectable"])]),Object(o["createElementVNode"])("div",xx,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:0,current:a.currentPage,"onUpdate:current":t[5]||(t[5]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(V,{ref:"deleteDialog"},null,512)])}function Nx(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"autocomplete",clear:!1,label:e.$t("time.customer_name"),"create-options":l.loadCustomers},{option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1)]})),_:1},8,["label","create-options"])}var _x={name:"CustomerAutocomplete",setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/time/customers");return{http:e}},methods:{loadCustomers:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll({name:e.trim()}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.id,label:e.name}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const kx=C()(_x,[["render",Nx]]);var Ex=kx,Sx={class:"orangehrm-project-admin-input"};function Ax(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete"),i=Object(o["resolveComponent"])("oxd-icon-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Sx,[Object(o["createVNode"])(c,Object(o["mergeProps"])({label:n.showDelete?null:e.$t("time.project_admin"),"api-path":"api/v2/time/project-admins",params:{includeEmployees:n.includeEmployees}},e.$attrs),null,16,["label","params"]),n.showDelete?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,name:"trash-fill",class:"orangehrm-project-delete-icon","with-container":!1,onClick:l.remove},null,8,["onClick"])):Object(o["createCommentVNode"])("",!0)])}var $x={name:"ProjectAdminAutocomplete",components:{"employee-autocomplete":Zo},inheritAttrs:!1,props:{showDelete:{type:Boolean,required:!0},includeEmployees:{type:String,default:"currentAndPast"}},emits:["remove"],methods:{remove:function(){this.$emit("remove")}}};n("8415");const Fx=C()($x,[["render",Ax],["__scopeId","data-v-a7e7f0da"]]);var Bx=Fx,Tx={customer:null,project:null,projectAdmin:null},Ix={"project.name":"ASC","customer.name":"DEFAULT","employee.lastName":"DEFAULT"},Lx={components:{"project-autocomplete":qw,"customer-autocomplete":Ex,"delete-confirmation":rn,"project-admin-autocomplete":Bx},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=Je(),n=t.$t,a=ea(),r=a.$tEmpName,l=function(t){return t.map((function(t){var o,a,l,c,i=e.unselectableIds.findIndex((function(e){return e==t.id}));return{id:t.id,project:t.name,customer:null!==(o=t.customer)&&void 0!==o&&o.deleted?(null===(a=t.customer)||void 0===a?void 0:a.name)+n("general.deleted"):null===(l=t.customer)||void 0===l?void 0:l.name,projectAdmins:null===(c=t.projectAdmins)||void 0===c?void 0:c.map((function(e){return r(e)})).join(", "),isSelectable:-1===i}}))},c=Object(o["ref"])(Object(M["a"])({},Tx)),i=ln({sortDefinition:Ix}),u=i.sortDefinition,d=i.sortField,s=i.sortOrder,m=i.onSort,b=Object(o["computed"])((function(){var e,t,n;return{customerId:null===(e=c.value.customer)||void 0===e?void 0:e.id,projectId:null===(t=c.value.project)||void 0===t?void 0:t.id,empNumber:null===(n=c.value.projectAdmin)||void 0===n?void 0:n.id,sortField:d.value,sortOrder:s.value,model:"detailed"}})),p=new te(window.appGlobal.baseUrl,"api/v2/time/projects"),f=Kt(p,{query:b,normalizer:l}),h=f.showPaginator,j=f.currentPage,O=f.total,v=f.pages,g=f.pageSize,C=f.response,y=f.isLoading,V=f.execQuery;return m(V),{http:p,showPaginator:h,currentPage:j,isLoading:y,total:O,pages:v,pageSize:g,execQuery:V,items:C,filters:c,sortDefinition:u}},data:function(){return{checkedItems:[],rules:{project:[Kn],customer:[Kn],projectAdmin:[Kn]}}},computed:{headers:function(){var e=[{name:"customer",title:this.$t("time.customer_name"),sortField:"customer.name",style:{flex:"15%"}},{name:"project",slot:"title",title:this.$t("time.project"),sortField:"project.name",style:{flex:"15%"}},{name:"projectAdmins",title:this.$t("time.project_admins"),style:{flex:"20%"}}],t={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("time_projects")&&(t.cellConfig.delete={onClick:this.onClickDelete,props:{name:"trash"}}),this.$can.update("time_project_activities")&&(t.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(t.cellConfig).length>0&&e.push(t),e}},methods:{onClickAdd:function(){Z("/time/saveProject")},onClickEdit:function(e){Z("/time/saveProject/{id}",{id:e.id})},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_projects_which_have_time_logged")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteData([e.id])}))},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteData(t)}))},deleteData:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e instanceof Array&&(t.isLoading=!0,t.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})));case 1:case"end":return n.stop()}}),n)})))()},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};const Ux=C()(Lx,[["render",Dx]]);var Px=Ux,qx={class:"orangehrm-background-container"},Rx={class:"orangehrm-card-container"},Mx=Object(o["createElementVNode"])("br",null,null,-1);function zx(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("customer-autocomplete"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("project-admin-autocomplete"),f=Object(o["resolveComponent"])("oxd-form-row"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("add-customer-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",qx,[Object(o["createElementVNode"])("div",Rx,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_project")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.project.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.project.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{key:r.project.customer,modelValue:r.project.customer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.project.customer=e}),rules:r.rules.customer,label:e.$t("time.customer_name"),required:""},null,8,["modelValue","rules","label"]),Object(o["createVNode"])(m,{"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("time.add_customer"),onClick:l.onClickAddCustomer},null,8,["label","onClick"])]})),_:1})]})),_:1}),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.project.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.project.description=e}),type:"textarea",label:e.$t("general.description"),rules:r.rules.description,placeholder:e.$t("general.type_description_here")},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.projectAdmins,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:t,modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},"show-delete":t>0,rules:r.rules.projectAdmin,"include-employees":"onlyCurrent",onRemove:function(e){return l.onRemoveAdmin(t)}},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","onRemove"])})),128)),r.projectAdmins.length<5?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("general.add_another"),onClick:l.onAddAnother},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Mx,Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),r.showCustomerModal?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,onClose:l.onCustomerModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])}var Gx={class:"orangehrm-modal-header"};function Qx(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form"),f=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(f,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Gx,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_customer")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customer.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.customer.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.customer.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.customer.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:"Type description here",rules:r.rules.description},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,{class:"orangehrm-form-action"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(m,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var Wx={id:"",name:"",description:""},Hx={name:"AddCustomerModal",components:{"oxd-dialog":oe["a"]},emits:["close"],setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("api/v2/time/validation/customer-name"),{http:e}},data:function(){return{isLoading:!1,customer:Object(M["a"])({},Wx),rules:{name:[On,vn(50),Object(ja["a"])(this.validateCustomerName,500)],description:[vn(255)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.customer.name,description:this.customer.description}).then((function(t){var n=t.data.data;e.$toast.saveSuccess(),e.$emit("close",n)}))},onCancel:function(){this.$emit("close")},validateCustomerName:function(e){var t=this;return new Promise((function(n){e?t.http.request({method:"GET",url:"api/v2/time/validation/customer-name",params:{customerName:t.customer.name.trim()}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const Jx=C()(Hx,[["render",Qx]]);var Yx=Jx,Xx={name:null,customer:null,description:null,projectAdminEmpNumbers:[]},Kx={name:"ProjectSave",components:{"add-customer-modal":Yx,"customer-autocomplete":Ex,"project-admin-autocomplete":Bx},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/time/projects");return e.setIgnorePath("api/v2/time/validation/project-name"),{http:e}},data:function(){var e=this;return{isLoading:!1,showCustomerModal:!1,projectAdmins:[{value:null}],project:Object(M["a"])({},Xx),projectId:null,rules:{name:[On,vn(50),Object(ja["a"])(this.validateProjectName,500)],description:[vn(255)],customer:[On,Kn],projectAdmin:[Kn,function(t){return e.projectAdmins.filter((function(e){var n=e.value;return n&&n.id===(null===t||void 0===t?void 0:t.id)})).length<2||e.$t("general.already_exists")}]}}},methods:{onClickAddCustomer:function(){this.showCustomerModal=!0},onCustomerModalClose:function(e){if(void 0!==e){var t=e.id,n=e.name;this.project.customer={id:t,label:n}}this.showCustomerModal=!1},onAddAnother:function(){this.projectAdmins.length<5&&this.projectAdmins.push({value:null})},onRemoveAdmin:function(e){this.projectAdmins.splice(e,1)},onCancel:function(){Z("/time/viewProjects")},onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.project.name,description:this.project.description,customerId:this.project.customer.id,projectAdminsEmpNumbers:this.projectAdmins.map((function(e){var t=e.value;return t&&t.id})).filter(Number)}).then((function(t){var n;return e.projectId=null===(n=t.data)||void 0===n?void 0:n.data.id,e.$toast.saveSuccess()})).then((function(){Z("/time/saveProject/{id}",{id:e.projectId})}))},validateProjectName:function(e){var t=this;return new Promise((function(n){var o;e?t.http.request({method:"GET",url:"api/v2/time/validation/project-name",params:{projectName:t.project.name.trim(),customerId:null===(o=t.project.customer)||void 0===o?void 0:o.id}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const Zx=C()(Kx,[["render",zx]]);var eD=Zx,tD={class:"orangehrm-background-container"},nD={class:"orangehrm-card-container"},oD=Object(o["createElementVNode"])("br",null,null,-1),aD=Object(o["createElementVNode"])("br",null,null,-1);function rD(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("customer-autocomplete"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("project-admin-autocomplete"),f=Object(o["resolveComponent"])("oxd-form-row"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("activities"),C=Object(o["resolveComponent"])("add-customer-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tD,[Object(o["createElementVNode"])("div",nD,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.edit_project")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.project.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.project.name=e}),label:e.$t("general.name"),rules:r.rules.name,disabled:!e.$can.update("time_projects"),required:""},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{key:r.project.customer,modelValue:r.project.customer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.project.customer=e}),label:e.$t("time.customer_name"),rules:r.rules.customer,disabled:!e.$can.update("time_projects"),required:""},null,8,["modelValue","label","rules","disabled"]),e.$can.update("time_projects")?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("time.add_customer"),onClick:l.onClickAddCustomer},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.project.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.project.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),disabled:!e.$can.update("time_projects"),rules:r.rules.description},null,8,["modelValue","label","placeholder","disabled","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.projectAdmins,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:n,modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},rules:r.rules.projectAdmin,"show-delete":n>0&&e.$can.update("time_projects"),disabled:!e.$can.update("time_projects"),"include-employees":"onlyCurrent",onRemove:function(e){return l.onRemoveAdmin(n)}},null,8,["modelValue","onUpdate:modelValue","rules","show-delete","disabled","onRemove"])})),128)),r.projectAdmins.length<5&&e.$can.update("time_projects")?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("general.add_another"),onClick:l.onAddAnother},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),oD,Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),e.$can.update("time_projects")?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),aD,Object(o["createVNode"])(g,{"project-id":n.projectId,"unselectable-ids":n.unselectableIds},null,8,["project-id","unselectable-ids"]),r.showCustomerModal?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,onClose:l.onCustomerModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])}var lD={class:"orangehrm-paper-container"},cD={class:"orangehrm-header-container"},iD={class:"orangehrm-main-actions"},uD={class:"orangehrm-container"},dD={class:"orangehrm-bottom-container"};function sD(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation"),p=Object(o["resolveComponent"])("copy-activity-modal"),f=Object(o["resolveComponent"])("save-activity-modal"),h=Object(o["resolveComponent"])("edit-activity-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",lD,[Object(o["createElementVNode"])("div",cD,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.activities")),1)]})),_:1}),Object(o["createElementVNode"])("div",iD,[Object(o["createVNode"])(u,{label:e.$t("time.copy_from"),"display-type":"ghost",onClick:l.onClickCopyFrom},null,8,["label","onClick"]),Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{total:a.total,loading:a.isLoading,selected:r.checkedItems.length,onDelete:l.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),Object(o["createElementVNode"])("div",uD,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",dD,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512),r.showCopyFromModal?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,"project-id":n.projectId,onClose:l.onCloseModal},null,8,["project-id","onClose"])):Object(o["createCommentVNode"])("",!0),r.showSaveActivityModal?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:1,"project-id":n.projectId,onClose:l.onCloseModal},null,8,["project-id","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditActivityModal?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:2,"project-id":n.projectId,"activity-id":r.editActivityModalState,onClose:l.onCloseModal},null,8,["project-id","activity-id","onClose"])):Object(o["createCommentVNode"])("",!0)])}var mD={class:"orangehrm-modal-header"};function bD(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("project-autocomplete"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid-item"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(v,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",mD,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.copy_activity")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.project,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.project=e}),rules:r.rules.project,"only-allowed":!1,label:e.$t("time.project_name"),"exclude-project-ids":[n.projectId],required:""},null,8,["modelValue","rules","label","exclude-project-ids"])]})),_:1}),r.activities&&r.activities.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(i),Object(o["createVNode"])(b,{cols:2,class:"orangehrm-activites-container"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.activities,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:e.id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.selectedActivities,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.selectedActivities=e}),type:"checkbox",value:e.id,disabled:!e.unique,"option-label":e.name},null,8,["modelValue","value","disabled","option-label"])]})),_:2},1024)})),128))]})),_:1})],64)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var pD={name:"CopyActivityModal",components:{"oxd-dialog":oe["a"],"project-autocomplete":qw},props:{projectId:{type:Number,required:!0}},emits:["close"],setup:function(){var e=new te(window.appGlobal.baseUrl,"");return{http:e}},data:function(){var e=this;return{isLoading:!1,project:null,activities:null,selectedActivities:[],rules:{project:[On,Kn,function(){if(null!==e.activities&&0===e.activities.length)return e.$t("time.no_assigned_activities");if(Array.isArray(e.activities)&&0===e.selectedActivities.length){var t=e.activities.find((function(e){return!0===e.unique}));return t?e.$t("time.no_activities_selected"):e.$t("general.already_exists")}return!0}]}}},watch:{project:function(e){var t=this;this.activities=null,this.selectedActivities=[],e&&(this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/time/projects/".concat(this.projectId,"/activities/copy/").concat(e.id),params:{limit:0}}).then((function(e){var n=e.data.data;t.activities=n,t.selectedActivities=Array.isArray(n)?n.filter((function(e){return!0===e.unique})).map((function(e){return e.id})):[],t.isLoading=!1})))}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"POST",url:"api/v2/time/projects/".concat(this.projectId,"/activities/copy/").concat(this.project.id),data:{activityIds:this.selectedActivities}}).then((function(){e.$toast.updateSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};n("5132");const fD=C()(pD,[["render",bD],["__scopeId","data-v-5d58b7ae"]]);var hD=fD,jD={class:"orangehrm-modal-header"};function OD(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",jD,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.add_project_activity")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var vD={name:"SaveActivityModal",components:{"oxd-dialog":oe["a"]},props:{projectId:{type:Number,required:!0}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/time/project/".concat(e.projectId,"/activities"));return{http:t}},data:function(){return{isLoading:!1,name:"",rules:{name:[On,vn(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;n&&e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));return!(o>-1)||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.name}).then((function(){e.$toast.saveSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const gD=C()(vD,[["render",OD]]);var CD=gD,yD={class:"orangehrm-modal-header"};function VD(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("required-text"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",yD,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.edit_project_activity")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var wD={name:"SaveActivityModal",components:{"oxd-dialog":oe["a"]},props:{projectId:{type:Number,required:!0},activityId:{type:Number,required:!0}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/time/project/".concat(e.projectId,"/activities"));return{http:t}},data:function(){return{isLoading:!1,name:"",rules:{name:[On,vn(100)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.activityId).then((function(t){var n=t.data.data;return e.name=n.name,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return String(e.name).toLowerCase()==String(t).toLowerCase()}));if(o>-1){var a=n[o].id;return a==e.activityId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.activityId,{name:this.name}).then((function(){e.$toast.updateSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const xD=C()(wD,[["render",VD]]);var DD=xD,ND={name:"Activities",components:{"copy-activity-modal":hD,"save-activity-modal":CD,"edit-activity-modal":DD,"delete-confirmation":rn},props:{projectId:{type:Number,required:!0},unselectableIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/time/project/".concat(e.projectId,"/activities")),n=function(t){return t.map((function(t){var n=e.unselectableIds.findIndex((function(e){return e==t.id}));return Object(M["a"])(Object(M["a"])({},t),{},{isSelectable:-1===n})}))},o=Kt(t,{normalizer:n}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:t,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("time.activity_name"),style:{"flex-basis":"80%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showCopyFromModal:!1,showSaveActivityModal:!1,showEditActivityModal:!1,editActivityModalState:null}},methods:{onClickAdd:function(){this.showSaveActivityModal=!0},onClickEdit:function(e){this.editActivityModalState=e.id,this.showEditActivityModal=!0},onClickCopyFrom:function(){this.showCopyFromModal=!0},onCloseModal:function(){this.showCopyFromModal=!1,this.showSaveActivityModal=!1,this.showEditActivityModal=!1,this.resetDataTable()},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_project_activities_which_have_time_logged_against")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){t.$toast.deleteSuccess(),t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};n("c9ad");const _D=C()(ND,[["render",sD],["__scopeId","data-v-5eb1b746"]]);var kD=_D,ED={name:null,customer:{id:null,label:null},description:null,projectAdminEmpNumbers:[]},SD={name:"ProjectEdit",components:{activities:kD,"add-customer-modal":Yx,"customer-autocomplete":Ex,"project-admin-autocomplete":Bx},props:{projectId:{type:Number,required:!0},unselectableIds:{type:Array,default:function(){return[]}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/time/projects");return e.setIgnorePath("api/v2/time/validation/project-name"),{http:e}},data:function(){var e=this;return{isLoading:!1,projectAdmins:[{value:null}],project:Object(M["a"])({},ED),showCustomerModal:!1,rules:{name:[On,vn(50)],description:[vn(255)],customer:[On,Kn],projectAdmin:[Kn,function(t){return e.projectAdmins.filter((function(e){var n=e.value;return n&&n.id===(null===t||void 0===t?void 0:t.id)})).length<2||e.$t("general.already_exists")}]}}},beforeMount:function(){var e=this;this.isLoading=!0;var t=ea(),n=t.$tEmpName;this.http.get(this.projectId,{model:"detailed"}).then((function(t){var o=t.data.data;e.project.name=o.name,e.project.description=o.description,e.project.customer={id:o.customer.id,label:o.customer.name},Array.isArray(o.projectAdmins)&&o.projectAdmins.length>0&&(e.projectAdmins=o.projectAdmins.map((function(e){return{value:{id:e.empNumber,label:n(e,{includeMiddle:!0,excludePastEmpTag:!0}),isPastEmployee:!!e.terminationId}}})))})).finally((function(){e.rules.name.push(Object(ja["a"])(e.validateProjectName,500)),e.isLoading=!1}))},methods:{onClickAddCustomer:function(){this.showCustomerModal=!0},onCustomerModalClose:function(e){if(void 0!==e){var t=e.id,n=e.name;this.project.customer={id:t,label:n}}this.showCustomerModal=!1},onAddAnother:function(){this.projectAdmins.length<5&&this.projectAdmins.push({value:null})},onRemoveAdmin:function(e){this.projectAdmins.splice(e,1)},onCancel:function(){Z("/time/viewProjects")},onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.projectId,{name:this.project.name,description:this.project.description,customerId:this.project.customer.id,projectAdminsEmpNumbers:this.projectAdmins.map((function(e){var t=e.value;return t&&t.id})).filter(Number)}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},validateProjectName:function(e){var t=this;return new Promise((function(n){var o;e?t.http.request({method:"GET",url:"api/v2/time/validation/project-name",params:{projectId:t.projectId,projectName:t.project.name.trim(),customerId:null===(o=t.project.customer)||void 0===o?void 0:o.id}}).then((function(e){var o=e.data.data;return!0===o.valid?n(!0):n(t.$t("general.already_exists"))})):n(!0)}))}}};const AD=C()(SD,[["render",rD]]);var $D=AD,FD={class:"orangehrm-background-container"},BD={class:"orangehrm-card-container"},TD=Object(o["createElementVNode"])("br",null,null,-1);function ID(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("timesheet-pending-actions");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",FD,[Object(o["createElementVNode"])("div",BD,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.select_employee")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{onSubmitValid:l.viewTimesheet},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employee=e}),rules:r.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]),TD,Object(o["createVNode"])(j)])}var LD={class:"orangehrm-paper-container"},UD={class:"orangehrm-header-container"},PD={class:"orangehrm-container"},qD={class:"orangehrm-bottom-container"};function RD(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("table-header"),d=Object(o["resolveComponent"])("oxd-card-table"),s=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",LD,[Object(o["createElementVNode"])("div",UD,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheets_pending_action")),1)]})),_:1})]),Object(o["createVNode"])(u,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",PD,[Object(o["createVNode"])(d,{headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",qD,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])}var MD={name:"TimesheetPendingActions",setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/time/employees/timesheets/list"),t=Je(),n=t.$t,o=de(),a=o.jsDateFormat,r=Xe(),l=r.locale,c=function(e){return e.map((function(e){var t,o,r,c,i=ke(_e(e.startDate),a,{locale:l}),u=ke(_e(e.endDate),a,{locale:l}),d="".concat(null===(t=e.employee)||void 0===t?void 0:t.firstName," ").concat(null===(o=e.employee)||void 0===o?void 0:o.middleName," ").concat(null===(r=e.employee)||void 0===r?void 0:r.lastName);return null!==(c=e.employee)&&void 0!==c&&c.terminationId&&" (".concat(n("general.past_employee"),")"),{id:e.id,startDate:e.startDate,empNumber:e.employee.empNumber,period:"".concat(i," - ").concat(u),employee:d}}))},i=Kt(e,{normalizer:c}),u=i.showPaginator,d=i.currentPage,s=i.total,m=i.pages,b=i.pageSize,p=i.response,f=i.isLoading,h=i.execQuery;return{http:e,showPaginator:u,currentPage:d,isLoading:f,total:s,pages:m,pageSize:b,execQuery:h,items:p}},data:function(){return{headers:[{name:"employee",slot:"title",title:this.$t("general.employee_name"),style:{flex:"40%"}},{name:"period",title:this.$t("time.timesheet_period"),style:{flex:"40%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),style:{flex:"20%"},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{label:this.$t("general.view"),displayType:"text",size:"medium"}}}}]}},methods:{onClickView:function(e){Z("/time/viewTimesheet/employeeId/{empNumber}",{empNumber:e.empNumber},{startDate:e.startDate})}}};n("dd80");const zD=C()(MD,[["render",RD],["__scopeId","data-v-4bbedf00"]]);var GD=zD,QD={components:{"employee-autocomplete":Zo,"timesheet-pending-actions":GD},data:function(){return{employee:null,rules:{employee:[On,Kn]}}},methods:{viewTimesheet:function(){var e;Z("/time/viewTimesheet/employeeId/{id}",{id:null===(e=this.employee)||void 0===e?void 0:e.id})}}};const WD=C()(QD,[["render",ID]]);var HD=WD,JD={class:"orangehrm-background-container"},YD=Object(o["createElementVNode"])("br",null,null,-1),XD=Object(o["createElementVNode"])("br",null,null,-1);function KD(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("timesheet-period"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("timesheet"),s=Object(o["resolveComponent"])("save-timesheet-action"),m=Object(o["resolveComponent"])("timesheet-actions");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",JD,[Object(o["createVNode"])(d,{loading:e.isLoading,columns:e.timesheetColumns,records:e.timesheetRecords,"timesheet-id":e.timesheetId,subtotal:e.timesheetSubtotal},{"header-title":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.title),1)]})),_:1})]})),"header-options":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.date=t}),value:a.timesheetPeriod,onNext:a.onClickNext,onPrevious:a.onClickPrevious},null,8,["modelValue","value","onNext","onPrevious"])]})),"footer-title":Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.status"))+": "+Object(o["toDisplayString"])(l.employeeTimesheetStatus),1)]})),_:1},512),[[o["vShow"],e.timesheetStatus]])]})),"footer-options":Object(o["withCtx"])((function(){return[a.showCreateTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,"display-type":"secondary",disabled:a.canCreateTimesheet,label:e.$t("time.create_timesheet"),onClick:a.onClickCreateTimesheet},null,8,["disabled","label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canEditTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,"display-type":"ghost",label:e.$t("general.edit"),onClick:a.onClickEdit},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canResetTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:2,"display-type":"ghost",label:e.$t("general.reset"),onClick:a.onClickReset},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),a.canSubmitTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:3,"display-type":"secondary",label:e.$t("general.submit"),onClick:a.onClickSubmit},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","columns","records","timesheet-id","subtotal"]),YD,e.timesheetId&&(a.canRejectTimesheet||a.canApproveTimesheet)?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.timesheetId,"is-loading":e.isLoading,"reject-timesheet":a.onClickReject,"approve-timesheet":a.onClickApprove,"can-reject-timesheet":!!a.canRejectTimesheet,"can-approve-timesheet":!!a.canApproveTimesheet},null,8,["is-loading","reject-timesheet","approve-timesheet","can-reject-timesheet","can-approve-timesheet"])):Object(o["createCommentVNode"])("",!0),XD,e.timesheetId?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:e.timesheetId,"timesheet-id":e.timesheetId},null,8,["timesheet-id"])):Object(o["createCommentVNode"])("",!0)])}var ZD={class:"orangehrm-card-container"};function eN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ZD,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.timesheet_action")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{ref:"formRef",loading:n.isLoading},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.comment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.comment=e}),type:"textarea",placeholder:e.$t("general.type_here_message"),rules:a.rules.comment,label:e.$t("general.comment")},null,8,["modelValue","placeholder","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[n.canRejectTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,label:e.$t("general.reject"),"display-type":"danger",onClick:a.onClickReject},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),n.canApproveTimesheet?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1,label:e.$t("general.approve"),"display-type":"success",class:"orangehrm-left-space",onClick:a.onClickApprove},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["loading"])])}var tN={name:"SaveTimesheetAction",props:{isLoading:{type:Boolean,required:!0},rejectTimesheet:{type:Function,required:!0},approveTimesheet:{type:Function,required:!0},canRejectTimesheet:{type:Boolean,required:!0},canApproveTimesheet:{type:Boolean,required:!0}},setup:function(e){var t=us(),n=t.formRef,a=t.invalid,r=t.validate,l=Object(o["ref"])(""),c={comment:[vn(250)]},i=function(){r().then((function(){return!1===a.value&&e.approveTimesheet(l.value)}))},u=function(){r().then((function(){return!1===a.value&&e.rejectTimesheet(l.value)}))};return{rules:c,comment:l,formRef:n,onClickReject:u,onClickApprove:i}}};const nN=C()(tN,[["render",eN]]);var oN=nN,aN=["employee"],rN={components:{timesheet:Jw,"timesheet-period":nx,"timesheet-actions":sx,"save-timesheet-action":oN},props:{employee:{type:Object,required:!0},startDate:{type:String,required:!1,default:null}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),n=Xw(t,e.startDate,e.employee.empNumber),a=n.state,r=n.onClickEdit,l=n.onClickNext,c=n.onClickReset,i=n.onClickSubmit,u=n.onClickReject,d=n.onClickApprove,s=n.onClickPrevious,m=n.timesheetPeriod,b=n.canEditTimesheet,p=n.canResetTimesheet,f=n.canSubmitTimesheet,h=n.canRejectTimesheet,j=n.canCreateTimesheet,O=n.canApproveTimesheet,v=n.showCreateTimesheet,g=n.onClickCreateTimesheet,C=Object(o["toRefs"])(a),y=(C.employee,Object(Mt["a"])(C,aN)),V=ea(),w=V.$tEmpName;return Object(M["a"])(Object(M["a"])({},y),{},{onClickEdit:r,onClickNext:l,onClickReset:c,onClickSubmit:i,onClickReject:u,onClickApprove:d,onClickPrevious:s,timesheetPeriod:m,canEditTimesheet:b,canResetTimesheet:p,canSubmitTimesheet:f,canRejectTimesheet:h,canCreateTimesheet:j,canApproveTimesheet:O,showCreateTimesheet:v,onClickCreateTimesheet:g,translateEmpName:w})},data:function(){return{statuses:[{id:1,label:this.$t("time.submitted"),name:"Submitted"},{id:2,label:this.$t("leave.rejected"),name:"Rejected"},{id:3,label:this.$t("time.not_submitted"),name:"Not Submitted"},{id:4,label:this.$t("time.approved"),name:"Approved"}]}},computed:{title:function(){var e=this.translateEmpName(this.employee,{includeMiddle:!1,excludePastEmpTag:!1});return"".concat(this.$t("time.timesheet_for")," ").concat(e)},employeeTimesheetStatus:function(){var e,t=this;return(null===(e=this.statuses.find((function(e){return e.name===t.timesheetStatus})))||void 0===e?void 0:e.label)||null}}};const lN=C()(rN,[["render",KD]]);var cN=lN,iN=function(e){return Object(o["pushScopeId"])("data-v-5f182783"),e=e(),Object(o["popScopeId"])(),e},uN=iN((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function dN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("project-autocomplete"),m=Object(o["resolveComponent"])("activity-dropdown"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("oxd-text"),f=Object(o["resolveComponent"])("oxd-switch-input"),h=Object(o["resolveComponent"])("oxd-divider"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("oxd-table-filter"),y=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(y,{module:"time",name:"employee",filters:a.serializedFilters,"column-count":3},{default:Object(o["withCtx"])((function(n){var r=n.generateReport;return[Object(o["createVNode"])(C,{"filter-title":e.$t("time.employee_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{onSubmitValid:r},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),rules:a.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.project,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.project=e}),rules:a.rules.project,label:e.$t("time.project_name"),"only-allowed":!1},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.activity,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.activity=e}),label:e.$t("time.activity_name"),"project-id":a.filters.project&&a.filters.project.id},null,8,["modelValue","label","project-id"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.fromDate=e}),placeholder:e.$t("general.from"),rules:a.rules.fromDate,label:e.$t("time.project_date_range")},null,8,["modelValue","placeholder","rules","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.toDate=e}),label:"",placeholder:e.$t("general.to"),rules:a.rules.toDate},null,8,["modelValue","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]})),_:1}),Object(o["createVNode"])(f,{modelValue:a.filters.timesheetState,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.timesheetState=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),uN]})),footer:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(n.meta?n.meta.sum.label:"0.00"),1)]})),_:1},8,["filters"])}var sN={employee:null,project:null,activity:null,fromDate:null,toDate:null,timesheetState:!1},mN={components:{"reports-table":Wy,"oxd-switch-input":Pa["a"],"activity-dropdown":Iw,"project-autocomplete":qw,"employee-autocomplete":Zo},setup:function(){var e=Object(o["ref"])(Object(M["a"])({},sN)),t=Je(),n=t.$t,a=de(),r=a.userDateFormat,l={project:[Kn],employee:[On,Kn],fromDate:[gn(r),Pn((function(){return e.value.toDate}),n("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[gn(r),Sn((function(){return e.value.fromDate}),n("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},c=Object(o["computed"])((function(){var t,n,o;return{empNumber:null===(t=e.value.employee)||void 0===t?void 0:t.id,projectId:null===(n=e.value.project)||void 0===n?void 0:n.id,activityId:null===(o=e.value.activity)||void 0===o?void 0:o.id,fromDate:e.value.fromDate,toDate:e.value.toDate,timesheetState:e.value.timesheetState?"onlyApproved":"all"}}));return{rules:l,filters:e,serializedFilters:c}}};n("a41f");const bN=C()(mN,[["render",dN],["__scopeId","data-v-5f182783"]]);var pN=bN,fN=function(e){return Object(o["pushScopeId"])("data-v-53d175ec"),e=e(),Object(o["popScopeId"])(),e},hN=fN((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function jN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("project-autocomplete"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-text"),b=Object(o["resolveComponent"])("oxd-switch-input"),p=Object(o["resolveComponent"])("oxd-divider"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-table-filter"),g=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(g,{module:"time",name:"project",prefetch:null!==n.project,filters:a.serializedFilters,"column-count":2},{default:Object(o["withCtx"])((function(n){var r=n.generateReport;return[Object(o["createVNode"])(v,{"filter-title":e.$t("time.project_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSubmitValid:r},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.project,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.project=e}),rules:a.rules.project,label:e.$t("time.project_name"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.fromDate=e}),placeholder:e.$t("general.from"),rules:a.rules.fromDate,label:e.$t("time.project_date_range")},null,8,["modelValue","placeholder","rules","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.toDate=e}),label:"",placeholder:e.$t("general.to"),rules:a.rules.toDate},null,8,["modelValue","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]})),_:1}),Object(o["createVNode"])(b,{modelValue:a.filters.includeTimesheet,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.includeTimesheet=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),hN]})),footer:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(n.meta?n.meta.sum.label:"0.00"),1)]})),_:1},8,["prefetch","filters"])}var ON={project:null,fromDate:null,toDate:null,includeTimesheet:!1},vN={components:{"reports-table":Wy,"oxd-switch-input":Pa["a"],"project-autocomplete":qw},props:{project:{type:Object,required:!1,default:null},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},includeTimesheet:{type:Boolean,default:!1}},setup:function(e){var t=Object(o["ref"])(Object(M["a"])(Object(M["a"])({},ON),{},{fromDate:e.fromDate,toDate:e.toDate,includeTimesheet:e.includeTimesheet},e.project&&{project:e.project})),n=Je(),a=n.$t,r=de(),l=r.userDateFormat,c={project:[On,Kn],fromDate:[gn(l),Pn((function(){return t.value.toDate}),a("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[gn(l),Sn((function(){return t.value.fromDate}),a("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},i=Object(o["computed"])((function(){var e;return{projectId:null===(e=t.value.project)||void 0===e?void 0:e.id,fromDate:t.value.fromDate,toDate:t.value.toDate,includeTimesheet:t.value.includeTimesheet?"onlyApproved":"all"}}));return{rules:c,filters:t,serializedFilters:i}}};n("1dc3");const gN=C()(vN,[["render",jN],["__scopeId","data-v-53d175ec"]]);var CN=gN,yN=function(e){return Object(o["pushScopeId"])("data-v-53d35ba4"),e=e(),Object(o["popScopeId"])(),e},VN=yN((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function wN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("project-autocomplete"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("activity-dropdown"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("date-input"),b=Object(o["resolveComponent"])("oxd-text"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("oxd-table-filter"),y=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(y,{module:"time",name:"activity_detailed",prefetch:!0,filters:a.serializedFilters,"column-count":2},{default:Object(o["withCtx"])((function(n){var r=n.generateReport;return[Object(o["createVNode"])(C,{"filter-title":e.$t("time.project_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{onSubmitValid:r},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.project,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.project=e}),rules:a.rules.project,label:e.$t("time.project_name"),required:"",disabled:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.activity,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.activity=e}),rules:a.rules.activity,label:e.$t("time.activity_name"),"project-id":a.filters.project&&a.filters.project.id,required:""},null,8,["modelValue","rules","label","project-id"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.fromDate=e}),placeholder:e.$t("general.from"),rules:a.rules.fromDate,label:e.$t("time.project_date_range"),disabled:""},null,8,["modelValue","placeholder","rules","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.toDate=e}),label:"",placeholder:e.$t("general.to"),rules:a.rules.toDate,disabled:""},null,8,["modelValue","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-switch-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-switch-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.only_include_approved_timesheets")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:a.filters.includeTimesheet,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.includeTimesheet=e}),disabled:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.back"),onClick:a.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(O,{label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),VN]})),footer:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(n.meta?n.meta.sum.label:"0.00"),1)]})),_:1},8,["filters"])}var xN={project:null,activity:null,fromDate:null,toDate:null,includeTimesheet:!1},DN={components:{"reports-table":Wy,"oxd-switch-input":Pa["a"],"activity-dropdown":Iw,"project-autocomplete":qw},props:{project:{type:Object,required:!0},activity:{type:Object,required:!0},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},includeTimesheet:{type:Boolean,default:!1}},setup:function(e){var t=Je(),n=t.$t,a=Object(o["ref"])(Object(M["a"])(Object(M["a"])(Object(M["a"])({},xN),{},{fromDate:e.fromDate,toDate:e.toDate,includeTimesheet:e.includeTimesheet},e.project&&{project:e.project}),e.activity&&{activity:e.activity})),r=de(),l=r.userDateFormat,c={project:[On],activity:[On,Kn],fromDate:[gn(l),Pn((function(){return a.value.toDate}),n("attendance.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[gn(l),Sn((function(){return a.value.fromDate}),n("attendance.to_date_should_be_after_from_date"),{allowSameDate:!0})]},i=Object(o["computed"])((function(){var e,t;return{projectId:null===(e=a.value.project)||void 0===e?void 0:e.id,activityId:null===(t=a.value.activity)||void 0===t?void 0:t.id,fromDate:a.value.fromDate,toDate:a.value.toDate,includeTimesheet:a.value.includeTimesheet?"onlyApproved":"all"}})),u=function(){Z("/time/displayProjectReportCriteria",void 0,{projectId:e.project.id,fromDate:e.fromDate,toDate:e.fromDate,includeTimesheet:e.includeTimesheet?"onlyApproved":"all"})};return{rules:c,filters:a,onClickBack:u,serializedFilters:i}}};n("4138");const NN=C()(DN,[["render",wN],["__scopeId","data-v-53d35ba4"]]);var _N=NN,kN={"time-sheet-period":kV,"customer-list":UV,"customer-save":QV,"customer-edit":ZV,"my-timesheet":px,"edit-timesheet":vx,"project-list":Px,"project-save":eD,"project-edit":$D,"employee-timesheet":HD,"view-employee-timesheet":cN,"employee-time-report":pN,"project-activity-report":CN,"activity-details-report":_N},EN={class:"orangehrm-background-container"},SN={class:"orangehrm-card-container"};function AN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-input-group"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",EN,[Object(o["createElementVNode"])("div",SN,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_period")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leavePeriod.startMonth,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leavePeriod.startMonth=e}),type:"select",options:l.months,rules:r.rules.startMonth,label:e.$t("leave.start_month"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leavePeriod.startDay,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leavePeriod.startDay=e}),type:"select",options:l.dates,rules:r.rules.startDay,label:e.$t("general.start_date"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{label:e.$t("general.end_date")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2",class:"orangehrm-leave-period"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.endDay),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),r.leavePeriod.currentPeriod?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{label:e.$t("leave.current_leave_period")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2",class:"orangehrm-leave-period"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.leavePeriod.currentPeriod),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var $N={startMonth:null,startDay:null,currentPeriod:null},FN={props:{monthDates:{type:Object,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/leave-period"),t=de(),n=t.jsDateFormat,o=Xe(),a=o.locale;return{http:e,jsDateFormat:n,locale:a}},data:function(){return{isLoading:!1,leavePeriod:Object(M["a"])({},$N),leavePeriodDefined:!0,rules:{startMonth:[On],startDay:[On]}}},computed:{months:function(){var e=this;return Array(12).fill("").map((function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[1];return{id:a+1,label:e.locale.localize.month(a,{width:"wide"})}}))},dates:function(){var e,t;return(null!==(e=this.monthDates[null===(t=this.leavePeriod.startMonth)||void 0===t?void 0:t.id])&&void 0!==e?e:[]).map((function(e){return{id:e,label:String(e).padStart(2,"0")}}))},endDay:function(){var e,t,n=null===(e=this.leavePeriod.startMonth)||void 0===e?void 0:e.id,o=null===(t=this.leavePeriod.startDay)||void 0===t?void 0:t.id,a=(new Date).getFullYear();if(n&&o){var r=Object(we["a"])(new Date(a,n-1,o),364),l=r.getFullYear()>a;return ke(r,"LLLL dd",{locale:this.locale})+(l?" (".concat(this.$t("leave.following_year"),")"):"")}return"-"}},watch:{"leavePeriod.startMonth":function(){this.leavePeriod.startDay=this.dates.length>0?this.dates[0]:null}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET"}).then((function(t){var n=t.data,o=n.data,a=n.meta;e.updateLeavePeriodModel(o),e.defineLeavePeriod(a),e.resetLeavePeriod()})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.request({method:"PUT",data:{startMonth:null===(e=this.leavePeriod.startMonth)||void 0===e?void 0:e.id,startDay:null===(t=this.leavePeriod.startDay)||void 0===t?void 0:t.id}}).then((function(e){var t=e.data,o=t.data,a=t.meta;return n.updateLeavePeriodModel(o),n.defineLeavePeriod(a),n.resetLeavePeriod(),n.$toast.saveSuccess()})).then((function(){n.isLoading=!1,n.leavePeriodDefined||ee()}))},onClickReset:function(){this.resetLeavePeriod()},resetLeavePeriod:function(){var e=this;this.leavePeriod.startMonth=$N.startMonth,this.$nextTick((function(){e.leavePeriod.startDay=$N.startDay}))},updateLeavePeriodModel:function(e){var t=this;$N.startMonth=this.months.find((function(t){return t.id===e.startMonth})),this.$nextTick((function(){$N.startDay=t.dates.find((function(t){return t.id===e.startDay}))}))},defineLeavePeriod:function(e){if(!0===e.leavePeriodDefined){this.leavePeriodDefined=e.leavePeriodDefined;var t=ke(_e(e.currentLeavePeriod.startDate),this.jsDateFormat,{locale:this.locale}),n=ke(_e(e.currentLeavePeriod.endDate),this.jsDateFormat,{locale:this.locale});this.leavePeriod.currentPeriod="".concat(t," ").concat(this.$t("general.to").toLowerCase()," ").concat(n)}else this.leavePeriodDefined=!1}}};n("1fbc");const BN=C()(FN,[["render",AN],["__scopeId","data-v-2f2450e0"]]);var TN=BN,IN={class:"orangehrm-background-container"},LN={class:"orangehrm-card-container"};function UN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("leave-conflict"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("leave-balance"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("date-input"),h=Object(o["resolveComponent"])("leave-duration-input"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",IN,[r.showLeaveConflict?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,"workshift-exceeded":r.isWorkShiftExceeded,data:r.leaveConflictData},null,8,["workshift-exceeded","data"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",LN,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.apply_leave")),1)]})),_:1}),Object(o["createVNode"])(u),r.isLoading||0!==r.leaveTypes.length?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:1,ref:"formRef",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leave.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leave.type=e}),type:"select",rules:r.rules.type,options:r.leaveTypes,label:e.$t("leave.leave_type"),required:""},null,8,["modelValue","rules","options","label"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"leave-data":r.leave},null,8,["leave-data"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.leave.fromDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leave.fromDate=e}),label:e.$t("general.from_date"),rules:r.rules.fromDate,years:r.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.leave.toDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leave.toDate=e}),label:e.$t("general.to_date"),rules:r.rules.toDate,years:r.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),1==l.appliedLeaveDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{duration:r.leave.duration.type,"onUpdate:duration":t[3]||(t[3]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[4]||(t[4]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[5]||(t[5]=function(e){return r.leave.duration.toTime=e}),label:e.$t("general.duration"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),l.appliedLeaveDuration>1?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leave.partialOptions,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.leave.partialOptions=e}),type:"select",label:e.$t("leave.partial_days"),options:r.partialOptions},null,8,["modelValue","label","options"])]})),_:1}),l.showDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,duration:r.leave.duration.type,"onUpdate:duration":t[7]||(t[7]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[8]||(t[8]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[9]||(t[9]=function(e){return r.leave.duration.toTime=e}),partial:!0,label:e.$t("general.duration"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0),l.showStartDay?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:1,duration:r.leave.duration.type,"onUpdate:duration":t[10]||(t[10]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[11]||(t[11]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[12]||(t[12]=function(e){return r.leave.duration.toTime=e}),partial:!0,label:e.$t("leave.start_day"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0),l.showEndDay?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:2,duration:r.leave.endDuration.type,"onUpdate:duration":t[13]||(t[13]=function(e){return r.leave.endDuration.type=e}),fromTime:r.leave.endDuration.fromTime,"onUpdate:fromTime":t[14]||(t[14]=function(e){return r.leave.endDuration.fromTime=e}),toTime:r.leave.endDuration.toTime,"onUpdate:toTime":t[15]||(t[15]=function(e){return r.leave.endDuration.toTime=e}),partial:!0,label:e.$t("leave.end_day"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.leave.comment,"onUpdate:modelValue":t[16]||(t[16]=function(e){return r.leave.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{label:e.$t("general.apply")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.no_leave_types_with_leave_balance")),1)]})),_:1}))])])}function PN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("time-range"),d=Object(o["resolveComponent"])("oxd-text"),s=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,{style:{"grid-column-start":"1"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,Object(o["mergeProps"])({type:"select"},e.$attrs,{options:l.options,"model-value":n.duration,rules:r.rules.duration,"show-empty-selector":n.partial,required:n.partial,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:duration",t)})}),null,16,["options","model-value","rules","show-empty-selector","required"])]})),_:1}),n.duration&&4===n.duration.id?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(u,{rules:r.rules,"from-time":n.fromTime,"to-time":n.toTime,"work-shift":n.workShift,"onUpdate:fromTime":t[1]||(t[1]=function(t){return e.$emit("update:fromTime",t)}),"onUpdate:toTime":t[2]||(t[2]=function(t){return e.$emit("update:toTime",t)})},null,8,["rules","from-time","to-time","work-shift"]),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:e.$t("general.duration")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-leave-duration",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.selectedTimeDuration),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})],64)):Object(o["createCommentVNode"])("",!0)],64)}function qN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("time-input"),i=Object(o["resolveComponent"])("oxd-grid-item");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:e.$t("general.from"),"model-value":n.fromTime,rules:n.rules.fromTime,required:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:fromTime",t)})},null,8,["label","model-value","rules"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:e.$t("general.to"),"model-value":n.toTime,rules:n.rules.toTime,required:"","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:toTime",t)})},null,8,["label","model-value","rules"])]})),_:1})],64)}var RN={name:"TimeRange",inheritAttrs:!1,props:{fromTime:{type:String,required:!1,default:null},toTime:{type:String,required:!1,default:null},rules:{type:Object,required:!0,default:function(){return{}}},workShift:{type:Object,required:!0,default:function(){return{}}}},emits:["update:fromTime","update:toTime"],mounted:function(){var e,t;null!==(e=this.workShift)&&void 0!==e&&e.startTime&&this.$emit("update:fromTime",this.workShift.startTime),null!==(t=this.workShift)&&void 0!==t&&t.endTime&&this.$emit("update:toTime",this.workShift.endTime)}};const MN=C()(RN,[["render",qN]]);var zN=MN,GN={name:"LeaveDurationInput",components:{"time-range":zN},inheritAttrs:!1,props:{duration:{type:Object,required:!1,default:function(){return null}},fromTime:{type:String,required:!1,default:null},toTime:{type:String,required:!1,default:null},partial:{type:Boolean,default:!1},workShift:{type:Object,required:!0,default:function(){return{}}}},emits:["update:fromTime","update:toTime","update:duration"],data:function(){var e=this;return{rules:{duration:[On],fromTime:[On,yn,Rn((function(){return e.toTime}),this.$t("general.from_time_should_be_before_to_time"))],toTime:[On,yn,Bn((function(){return e.fromTime}),this.$t("general.to_time_should_be_after_from_time")),function(t){if(t){var n=Te(e.workShift.startTime,e.workShift.endTime),o=Te(e.fromTime,t);if(o>n)return e.$t("leave.duration_should_be_less_than_work_shift_length")}return!0}]}}},computed:{selectedTimeDuration:function(){var e=Te(this.fromTime,this.toTime);return(e/3600).toFixed(2)},options:function(){var e=[{id:1,label:this.$t("leave.full_day"),key:"full_day"},{id:2,label:this.$t("leave.half_day_morning"),key:"half_day_morning"},{id:3,label:this.$t("leave.half_day_evening"),key:"half_day_afternoon"},{id:4,label:this.$t("leave.specify_time"),key:"specify_time"}];return this.partial?e.filter((function(e){return 1!=e.id})):e}}};n("041f");const QN=C()(GN,[["render",PN],["__scopeId","data-v-5caa9281"]]);var WN=QN,HN={class:"orangehrm-leave-balance"};function JN(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-label"),i=Object(o["resolveComponent"])("oxd-icon-button"),u=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-input-group");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(d,null,{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",HN,[Object(o["createVNode"])(c,{label:e.$t("leave.leave_balance")},null,8,["label"]),n.leaveData.type?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"--help",name:"question-circle","with-container":!1,onClick:a.onModalOpen},null,8,["onClick"])):Object(o["createCommentVNode"])("",!0)])]})),default:Object(o["withCtx"])((function(){return[e.balance>=0?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.leaveBalance),1)]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,class:"orangehrm-leave-balance-text --error",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.balance_not_sufficient")),1)]})),_:1}))]})),_:1}),e.showModal?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(a.leaveBalanceModal),{key:0,data:e.data,meta:e.meta,onClose:a.onModalClose},null,8,["data","meta","onClose"])):Object(o["createCommentVNode"])("",!0)],64)}var YN={class:"orangehrm-dialog-header-container"},XN={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},KN={class:"orangehrm-container"},ZN={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function e_(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(f,{gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",YN,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_balance_details")),1)]})),_:1}),Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.as_of_date"))+" - "+Object(o["toDisplayString"])(l.asAtDate),1)]})),_:1})]),Object(o["createVNode"])(i,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),Object(o["createElementVNode"])("div",XN,[Object(o["createVNode"])(s,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("general.employee_name")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.employeeName),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--offset-column-1",label:e.$t("leave.leave_type")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leaveType),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("leave.total_entitlement")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.totalEntitlement),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("leave.balance")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leaveBalance),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]),Object(o["createElementVNode"])("div",KN,[Object(o["createVNode"])(m,{headers:r.headers,items:l.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(o["createElementVNode"])("div",ZN,[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:l.onCancel},null,8,["label","onClick"])]})),_:1})])]})),_:1},8,["onUpdate:show"])}var t_={name:"LeaveBalanceModal",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,default:function(){return null}},meta:{type:Object,default:function(){return null}}},emits:["close"],setup:function(){var e=de(),t=e.jsDateFormat,n=Xe(),o=n.locale;return{locale:o,jsDateFormat:t}},data:function(){return{headers:[{title:this.$t("leave.leave_status"),name:"status",slot:"left",style:{flex:1}},{title:this.$t("leave.days"),name:"days",slot:"right",style:{flex:1,textAlign:"right",justifyContent:"flex-end"}}]}},computed:{items:function(){if(this.data){var e=this.data,t=e.taken,n=e.scheduled,o=e.pending;return[{status:this.$t("leave.taken"),days:t.toFixed(2)},{status:this.$t("leave.scheduled"),days:n.toFixed(2)},{status:this.$t("leave.pending_approval"),days:o.toFixed(2)}]}return[]},asAtDate:function(){var e;return ke(_e(null===(e=this.data)||void 0===e?void 0:e.asAtDate),this.jsDateFormat,{locale:this.locale})},leaveType:function(){var e,t;return null===(e=this.meta)||void 0===e||null===(t=e.leaveType)||void 0===t?void 0:t.name},employeeName:function(){var e,t=null===(e=this.meta)||void 0===e?void 0:e.employee;return t?"".concat(t.firstName," ").concat(t.lastName,"\n          ").concat(t.terminationId?this.$t("general.past_employee"):""):""},totalEntitlement:function(){var e;return null!==(e=this.data)&&void 0!==e&&e.entitled?"".concat(parseFloat(this.data.entitled).toFixed(2)," Day(s)"):"0.00 Day(s)"},leaveBalance:function(){var e;return null!==(e=this.data)&&void 0!==e&&e.balance?"".concat(parseFloat(this.data.balance).toFixed(2)," Day(s)"):"0.00 Day(s)"}},methods:{onCancel:function(){this.$emit("close",!0)}}};n("e30c");const n_=C()(t_,[["render",e_],["__scopeId","data-v-516d2f1f"]]);var o_=n_,a_={class:"orangehrm-dialog-header-container"},r_={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"},l_={class:"orangehrm-container"},c_={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"};function i_(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-card-table"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(f,{gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",a_,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.insufficient_leave_balance")),1)]})),_:1})]),Object(o["createVNode"])(i,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),Object(o["createElementVNode"])("div",r_,[Object(o["createVNode"])(s,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("general.employee_name")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.employeeName),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("leave.leave_type")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leaveType),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("leave.balance")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-balance-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leaveBalance),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]),Object(o["createElementVNode"])("div",l_,[Object(o["createVNode"])(m,{headers:r.headers,items:l.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(o["createElementVNode"])("div",c_,[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:l.onCancel},null,8,["label","onClick"])]})),_:1})])]})),_:1},8,["onUpdate:show"])}n("5db7"),n("73d9");var u_={name:"LeaveBalanceInsufficientModal",components:{"oxd-dialog":oe["a"]},props:{data:{type:Array,required:!0},meta:{type:Object,default:function(){return null}}},emits:["close"],setup:function(){var e=de(),t=e.jsDateFormat,n=Xe(),o=n.locale;return{locale:o,jsDateFormat:t}},data:function(){return{headers:[{title:this.$t("leave.leave_period"),name:"period",style:{flex:1}},{title:this.$t("general.date"),name:"date",style:{flex:1}},{title:this.$t("leave.available_balance"),name:"balance",style:{flex:1}}]}},computed:{items:function(){var e=this;if(this.data.length>0){var t=this.data.map((function(e){return e.period}));return t.flatMap((function(t,n){return e.data[n].leaves.map((function(n){var o,a=ke(_e(t.startDate),e.jsDateFormat,{locale:e.locale}),r=ke(_e(t.endDate),e.jsDateFormat,{locale:e.locale}),l=ke(_e(n.date),e.jsDateFormat,{locale:e.locale});return{period:"".concat(a," - ").concat(r),date:l,balance:(null===(o=n.status)||void 0===o?void 0:o.name)||n.balance.toFixed(2)}}))}))}return[]},leaveType:function(){var e,t;return null===(e=this.meta)||void 0===e||null===(t=e.leaveType)||void 0===t?void 0:t.name},employeeName:function(){var e,t=null===(e=this.meta)||void 0===e?void 0:e.employee;return t?"".concat(t.firstName," ").concat(t.lastName,"\n          ").concat(t.terminationId?this.$t("general.past_employee"):""):""},leaveBalance:function(){var e;return null!==(e=this.data[0])&&void 0!==e&&e.balance?"".concat(parseFloat(this.data[0].balance.balance).toFixed(2)," Day(s)"):"0.00 Day(s)"}},methods:{onCancel:function(){this.$emit("close",!0)}}};n("7f87");const d_=C()(u_,[["render",i_],["__scopeId","data-v-4c5cdd43"]]);var s_=d_;function m_(e){var t=function(e){var t,n,o,a,r,l,c={leaveTypeId:e.type?e.type.id:1,fromDate:e.fromDate?e.fromDate:"",toDate:e.toDate?e.toDate:"",comment:""===e.comment?null:e.comment,empNumber:e.employee?e.employee.id:void 0};if(e.duration.type){var i,u={type:null===(i=e.duration.type)||void 0===i?void 0:i.key};"specify_time"===u.type&&(e.duration.fromTime&&(u.fromTime=e.duration.fromTime),e.duration.toTime&&(u.toTime=e.duration.toTime)),c.duration=u}var d=Be(c.fromDate,c.toDate);if(d>1&&e.partialOptions&&(c.partialOption=e.partialOptions.key,e.endDuration.type)){var s={type:e.endDuration.type.key};e.endDuration.fromTime&&(s.fromTime=e.endDuration.fromTime),e.endDuration.toTime&&(s.toTime=e.endDuration.toTime),"start_end"===c.partialOption?c.endDuration=s:"end"===c.partialOption&&(c.duration=s)}return"specify_time"!==(null===(t=c.duration)||void 0===t?void 0:t.type)&&(null!==(n=c.duration)&&void 0!==n&&n.fromTime||null!==(o=c.duration)&&void 0!==o&&o.toTime)&&(c.duration.fromTime=void 0,c.duration.toTime=void 0),"specify_time"!==(null===(a=c.endDuration)||void 0===a?void 0:a.type)&&(null!==(r=c.endDuration)&&void 0!==r&&r.fromTime||null!==(l=c.endDuration)&&void 0!==l&&l.toTime)&&(c.endDuration.fromTime=void 0,c.endDuration.toTime=void 0),c},n=function(e){var t,n={fromDate:void 0,toDate:void 0,partialOption:void 0,empNumber:null===(t=e.employee)||void 0===t?void 0:t.id};if(e.duration.type&&(n["duration[type]"]=e.duration.type.key,"specify_time"===n["duration[type]"]&&(e.duration.fromTime&&(n["duration[fromTime]"]=e.duration.fromTime),e.duration.toTime&&(n["duration[toTime]"]=e.duration.toTime))),e.fromDate&&e.toDate){n.fromDate=e.fromDate,n.toDate=e.toDate;var o=Be(e.fromDate,e.toDate);o>1&&e.partialOptions&&(n.partialOption=e.partialOptions.key,e.endDuration.type&&("start_end"===n.partialOption?(n["endDuration[type]"]=e.endDuration.type.key,e.endDuration.fromTime&&(n["endDuration[fromTime]"]=e.endDuration.fromTime),e.endDuration.toTime&&(n["endDuration[toTime]"]=e.endDuration.toTime)):"end"===n.partialOption&&(n["duration[type]"]=e.endDuration.type.key,e.endDuration.fromTime&&(n["duration[fromTime]"]=e.endDuration.fromTime),e.endDuration.toTime&&(n["duration[toTime]"]=e.endDuration.toTime))))}return"specify_time"!==n["duration[type]"]&&(n["duration[fromTime]"]||n["duration[toTime]"])&&(n["duration[fromTime]"]=void 0,n["duration[toTime]"]=void 0),"specify_time"!==n["endDuration[type]"]&&(n["endDuration[fromTime]"]||n["endDuration[toTime]"])&&(n["endDuration[fromTime]"]=void 0,n["endDuration[toTime]"]=void 0),n},o=function(t){return new Promise((function(o,a){e.request({method:"GET",url:"api/v2/leave/overlap-leaves",params:n(t)}).then((function(e){var t=e.data,n=t.data,a=t.meta;Array.isArray(n)&&n.length>0?o({isConflict:!0,isOverWorkshift:!0===a.isWorkShiftLengthExceeded,data:n}):o({isConflict:!1,isOverWorkshift:!1,data:[]})})).catch((function(e){a(e)}))}))},a=function(t){return new Promise((function(o,a){var r;e.request({method:"GET",url:"api/v2/leave/leave-balance/leave-type/".concat(null===(r=t.type)||void 0===r?void 0:r.id),params:n(t)}).then((function(e){var t=0,n=null,a=null;if(200===e.status){var r,l=e.data,c=l.data,i=l.meta;if(a=i,c.balance)n=c.balance,t=null===(r=c.balance)||void 0===r?void 0:r.balance;else if(c.breakdown&&!1===c.negative){var u;n=c.breakdown[0].balance,t=null===(u=c.breakdown[0].balance)||void 0===u?void 0:u.balance}else c.breakdown&&!0===c.negative?(n=c.breakdown,t=-1):(n=null,t=0)}o({balance:t,breakdown:n,metaData:a})})).catch((function(e){a(e)}))}))};return{serializeBody:t,serializeParams:n,validateLeaveBalance:a,validateOverlapLeaves:o}}var b_={name:"LeaveBalance",components:{"oxd-label":ms["a"],"leave-balance-modal":o_,"leave-balance-insufficient-modal":s_},inheritAttrs:!1,props:{leaveData:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(o["reactive"])({data:null,meta:null,balance:0,showModal:!1}),n=new te(window.appGlobal.baseUrl,"api/v2/leave/leave-balance/leave-type");n.setIgnorePath("api/v2/leave/leave-balance/leave-type");var a=m_(n),r=a.validateLeaveBalance,l=Object(o["computed"])((function(){var n;return null!==(n=e.leaveData.type)&&void 0!==n&&n.id?"".concat(t.balance.toFixed(2)," Day(s)"):"0.00 Day(s)"})),c=function(){t.showModal=!0},i=function(){t.showModal=!1},u=Object(o["computed"])((function(){return Array.isArray(t.data)?"leave-balance-insufficient-modal":"leave-balance-modal"}));return Object(o["watchPostEffect"])(Object(fe["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:null!==(o=e.leaveData.type)&&void 0!==o&&o.id&&r(e.leaveData).then((function(e){var n=e.balance,o=e.breakdown,a=e.metaData;t.balance=n,o&&(t.data=o),a&&(t.meta=a)})).catch((function(){t.data=null,t.meta=null,t.balance=0}));case 1:case"end":return n.stop()}}),n)})))),Object(M["a"])(Object(M["a"])({},Object(o["toRefs"])(t)),{},{leaveBalance:l,onModalOpen:c,onModalClose:i,leaveBalanceModal:u})}};n("01f0");const p_=C()(b_,[["render",JN],["__scopeId","data-v-e36f7fd8"]]);var f_=p_,h_={class:"orangehrm-paper-container"},j_={class:"orangehrm-header-container"},O_={class:"orangehrm-container"},v_=Object(o["createElementVNode"])("div",{class:"orangehrm-bottom-container"},null,-1),g_=Object(o["createElementVNode"])("br",null,null,-1);function C_(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("table-header"),u=Object(o["resolveComponent"])("oxd-card-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",h_,[Object(o["createElementVNode"])("div",j_,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.header),1)]})),_:1})]),Object(o["createVNode"])(i,{loading:!1,selected:0,total:n.data.length},null,8,["total"]),Object(o["createElementVNode"])("div",O_,[Object(o["createVNode"])(u,{headers:r.headers,items:l.items,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),v_]),g_],64)}var y_={name:"LeaveConflict",props:{workshiftExceeded:{type:Boolean,default:!1},data:{type:Array,required:!0}},setup:function(){var e=de(),t=e.jsDateFormat,n=Xe(),o=n.locale;return{locale:o,jsDateFormat:t}},data:function(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"hours",title:this.$t("leave.no_of_hours"),style:{flex:1}},{name:"type",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comments",title:this.$t("general.comments"),style:{flex:1}}]}},computed:{header:function(){return this.workshiftExceeded?this.$t("leave.workshift_length_exceeded_due_to_the_following_leave_request"):this.$t("leave.overlapping_leave_request_found")},items:function(){var e=this;return this.data.map((function(t){var n,o,a;return{date:ke(_e(t.date),e.jsDateFormat,{locale:e.locale}),hours:parseFloat(t.lengthHours).toFixed(2),type:null===(n=t.leaveType)||void 0===n?void 0:n.name,status:null===(o=t.status)||void 0===o?void 0:o.name,comments:null===(a=t.lastComment)||void 0===a?void 0:a.comment}}))}}};const V_=C()(y_,[["render",C_]]);var w_=V_,x_={type:null,fromDate:null,toDate:null,comment:"",partialOptions:null,duration:{type:null,fromTime:null,toTime:null},endDuration:{type:null,fromTime:null,toTime:null}},D_={name:"LeaveApply",components:{"leave-duration-input":WN,"leave-balance":f_,"leave-conflict":w_},props:{workShift:{type:Object,default:function(){return{}}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/leave/leave-requests"),t=m_(e),n=t.serializeBody,o=t.validateOverlapLeaves,a=us(),r=a.formRef,l=a.reset,c=de(),i=c.userDateFormat;return{http:e,reset:l,formRef:r,serializeBody:n,userDateFormat:i,validateOverlapLeaves:o}},data:function(){var e=this;return{isLoading:!1,leave:Object(M["a"])({},x_),rules:{type:[On],fromDate:[On,gn(this.userDateFormat)],toDate:[On,gn(this.userDateFormat),Sn((function(){return e.leave.fromDate}),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],comment:[vn(250)]},partialOptions:[{id:1,label:this.$t("leave.all_days"),key:"all"},{id:2,label:this.$t("leave.start_day_only"),key:"start"},{id:3,label:this.$t("leave.end_day_only"),key:"end"},{id:4,label:this.$t("leave.start_and_end_day"),key:"start_end"}],showLeaveConflict:!1,isWorkShiftExceeded:!1,leaveConflictData:null,yearsArray:Object(iO["a"])(uO()),leaveTypes:[]}},computed:{appliedLeaveDuration:function(){return Be(this.leave.fromDate,this.leave.toDate)},showDuration:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&1===t},showStartDay:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(2===t||4===t)},showEndDay:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(3===t||4===t)}},watch:{appliedLeaveDuration:function(e){this.leave.duration.type=1===e?{id:1,label:"Full Day",key:"full_day"}:null},"leave.fromDate":function(e){e&&!this.leave.toDate&&(this.leave.toDate=e)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/leave/leave-types/eligible"}).then((function(t){var n=t.data.data;e.leaveTypes=n.map((function(e){return{id:e.id,label:e.name}}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.showLeaveConflict=!1,this.leaveConflictData=null,this.validateOverlapLeaves(this.leave).then((function(t){var n=t.isConflict,o=t.isOverWorkshift,a=t.data;return n?(e.leaveConflictData=a,e.showLeaveConflict=!0,e.isWorkShiftExceeded=o,Promise.reject()):e.http.create(e.serializeBody(e.leave))})).then((function(){e.$toast.saveSuccess(),e.reset()})).catch((function(){e.showLeaveConflict&&e.$toast.warn({title:e.$t("general.warning"),message:e.$t("leave.failed_to_submit")})})).finally((function(){e.isLoading=!1}))}}};const N_=C()(D_,[["render",UN]]);var __=N_,k_={class:"orangehrm-background-container"},E_={class:"orangehrm-card-container"};function S_(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("leave-conflict"),i=Object(o["resolveComponent"])("leave-assign-confirm-modal"),u=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("oxd-divider"),s=Object(o["resolveComponent"])("employee-autocomplete"),m=Object(o["resolveComponent"])("oxd-grid-item"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("leave-type-dropdown"),h=Object(o["resolveComponent"])("leave-balance"),j=Object(o["resolveComponent"])("date-input"),O=Object(o["resolveComponent"])("leave-duration-input"),v=Object(o["resolveComponent"])("oxd-input-field"),g=Object(o["resolveComponent"])("required-text"),C=Object(o["resolveComponent"])("submit-button"),y=Object(o["resolveComponent"])("oxd-form-actions"),V=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",k_,[r.showLeaveConflict?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,"workshift-exceeded":r.isWorkShiftExceeded,data:r.leaveConflictData},null,8,["workshift-exceeded","data"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i,{ref:"confirmDialog"},null,512),Object(o["createElementVNode"])("div",E_,[Object(o["createVNode"])(u,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.assign_leave")),1)]})),_:1}),Object(o["createVNode"])(d),Object(o["createVNode"])(V,{ref:"formRef",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.leave.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leave.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.leave.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leave.type=e}),rules:r.rules.type,"eligible-only":!1,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{"leave-data":r.leave},null,8,["leave-data"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:r.leave.fromDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leave.fromDate=e}),label:e.$t("general.from_date"),rules:r.rules.fromDate,years:r.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:r.leave.toDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.leave.toDate=e}),label:e.$t("general.to_date"),rules:r.rules.toDate,years:r.yearsArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),1==l.appliedLeaveDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{duration:r.leave.duration.type,"onUpdate:duration":t[4]||(t[4]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[5]||(t[5]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[6]||(t[6]=function(e){return r.leave.duration.toTime=e}),label:e.$t("general.duration"),"work-shift":r.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),l.appliedLeaveDuration>1?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{modelValue:r.leave.partialOptions,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.leave.partialOptions=e}),type:"select",label:e.$t("leave.partial_days"),options:r.partialOptions},null,8,["modelValue","label","options"])]})),_:1}),l.showDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:0,duration:r.leave.duration.type,"onUpdate:duration":t[8]||(t[8]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[9]||(t[9]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[10]||(t[10]=function(e){return r.leave.duration.toTime=e}),partial:!0,label:e.$t("general.duration"),"work-shift":r.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0),l.showStartDay?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:1,duration:r.leave.duration.type,"onUpdate:duration":t[11]||(t[11]=function(e){return r.leave.duration.type=e}),fromTime:r.leave.duration.fromTime,"onUpdate:fromTime":t[12]||(t[12]=function(e){return r.leave.duration.fromTime=e}),toTime:r.leave.duration.toTime,"onUpdate:toTime":t[13]||(t[13]=function(e){return r.leave.duration.toTime=e}),partial:!0,label:e.$t("leave.start_day"),"work-shift":r.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0),l.showEndDay?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:2,duration:r.leave.endDuration.type,"onUpdate:duration":t[14]||(t[14]=function(e){return r.leave.endDuration.type=e}),fromTime:r.leave.endDuration.fromTime,"onUpdate:fromTime":t[15]||(t[15]=function(e){return r.leave.endDuration.fromTime=e}),toTime:r.leave.endDuration.toTime,"onUpdate:toTime":t[16]||(t[16]=function(e){return r.leave.endDuration.toTime=e}),partial:!0,label:e.$t("leave.end_day"),"work-shift":r.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{modelValue:r.leave.comment,"onUpdate:modelValue":t[17]||(t[17]=function(e){return r.leave.comment=e}),type:"textarea",label:e.$t("general.comments"),rules:r.rules.comment},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d),Object(o["createVNode"])(y,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g),Object(o["createVNode"])(C,{label:e.$t("leave.assign")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var A_={key:0,class:"deleted-tag"};function $_(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("leave.leave_type"),options:a.options,"show-empty-selector":n.showEmptySelector},{afterSelected:Object(o["withCtx"])((function(t){var n=t.data;return[n.isDeleted?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.deleted")),1)],64)):Object(o["createCommentVNode"])("",!0)]})),option:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.label),1),n.isDeleted?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",A_,Object(o["toDisplayString"])(e.$t("general.deleted")),1)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["label","options","show-empty-selector"])}var F_={name:"LeaveTypeDropdown",props:{eligibleOnly:{type:Boolean,default:!0},employeeId:{type:Number,required:!1,default:null},showEmptySelector:{type:Boolean,default:!0},includeAllocated:{type:Boolean,default:!1}},setup:function(e,t){var n=Object(o["ref"])([]),a=new te(window.appGlobal.baseUrl,"api/v2/leave/leave-types".concat(e.eligibleOnly?"/eligible":""));return Object(o["watchEffect"])(Object(fe["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:!e.eligibleOnly&&e.includeAllocated&&console.error("`includeAllocated` prop can true only if `eligibleOnly` prop true"),a.getAll({empNumber:e.employeeId,includeAllocated:!(!e.eligibleOnly||!e.includeAllocated)||void 0}).then((function(o){var a=o.data;n.value=a.data.map((function(e){return{id:e.id,label:e.name,isDeleted:e.deleted}})),!e.showEmptySelector&&n.value.length>0&&t.emit("update:modelValue",n.value[0])}));case 2:case"end":return o.stop()}}),o)})))),{options:n}}};n("a29d");const B_=C()(F_,[["render",$_],["__scopeId","data-v-a189613c"]]);var T_=B_,I_={class:"orangehrm-modal-header"},L_={class:"orangehrm-text-center-align"},U_={class:"orangehrm-modal-footer"};function P_(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,style:{maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",I_,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.confirm_leave_assignment")),1)]})),_:1})]),Object(o["createElementVNode"])("div",L_,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.employee_does_not_have_enough_balance_for_leave_request"))+" "+Object(o["toDisplayString"])(e.$t("leave.click_ok_to_confirm_leave_assignment")),1)]})),_:1})]),Object(o["createElementVNode"])("div",U_,[Object(o["createVNode"])(i,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(i,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.ok"),onClick:l.onConfirm},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var q_={name:"LeaveAssignConfirmModal",components:{"oxd-dialog":oe["a"]},data:function(){return{show:!1,reject:null,resolve:null}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("22ca");const R_=C()(q_,[["render",P_],["__scopeId","data-v-4dec572c"]]);var M_=R_,z_={employee:null,type:null,fromDate:null,toDate:null,comment:"",partialOptions:null,duration:{type:null,fromTime:null,toTime:null},endDuration:{type:null,fromTime:null,toTime:null}},G_={startTime:"9:00",endTime:"17:00"},Q_={name:"LeaveAssign",components:{"leave-type-dropdown":T_,"leave-duration-input":WN,"leave-balance":f_,"employee-autocomplete":Zo,"leave-conflict":w_,"leave-assign-confirm-modal":M_},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/leave/employees/leave-requests"),t=m_(e),n=t.serializeBody,o=t.validateLeaveBalance,a=t.validateOverlapLeaves,r=us(),l=r.formRef,c=r.reset,i=de(),u=i.userDateFormat;return{http:e,reset:c,formRef:l,serializeBody:n,userDateFormat:u,validateLeaveBalance:o,validateOverlapLeaves:a}},data:function(){var e=this;return{isLoading:!1,leave:Object(M["a"])({},z_),rules:{type:[On],fromDate:[On,gn(this.userDateFormat)],toDate:[On,gn(this.userDateFormat),Sn((function(){return e.leave.fromDate}),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],comment:[vn(250)],employee:[On,Kn]},partialOptions:[{id:1,label:this.$t("leave.all_days"),key:"all"},{id:2,label:this.$t("leave.start_day_only"),key:"start"},{id:3,label:this.$t("leave.end_day_only"),key:"end"},{id:4,label:this.$t("leave.start_and_end_day"),key:"start_end"}],showLeaveConflict:!1,isWorkShiftExceeded:!1,leaveConflictData:null,yearsArray:Object(iO["a"])(uO()),workShift:Object(M["a"])({},G_)}},computed:{appliedLeaveDuration:function(){return Be(this.leave.fromDate,this.leave.toDate)},showDuration:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&1===t},showStartDay:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(2===t||4===t)},showEndDay:function(){var e,t=null===(e=this.leave.partialOptions)||void 0===e?void 0:e.id;return t&&(3===t||4===t)}},watch:{"leave.employee":function(e){var t=this;null!==e&&void 0!==e&&e.id?this.http.request({method:"GET",url:"api/v2/pim/employees/".concat(e.id,"/work-shift")}).then((function(e){var n=e.data.data;t.workShift=n})):this.workShift=Object(M["a"])({},G_)},appliedLeaveDuration:function(e){this.leave.duration.type=1===e?{id:1,label:"Full Day",key:"full_day"}:null},"leave.fromDate":function(e){e&&!this.leave.toDate&&(this.leave.toDate=e)}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.leaveConflictData=null,this.showLeaveConflict=!1,this.validateLeaveBalance(this.leave).then(function(){var t=Object(fe["a"])(regeneratorRuntime.mark((function t(n){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=n.balance,!(o<=0)){t.next=7;break}return t.next=4,e.$refs.confirmDialog.showDialog();case 4:if(a=t.sent,"ok"===a){t.next=7;break}return t.abrupt("return",Promise.reject());case 7:return t.abrupt("return",e.validateOverlapLeaves(e.leave));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){var n=t.isConflict,o=t.isOverWorkshift,a=t.data;return n?(e.leaveConflictData=a,e.showLeaveConflict=!0,e.isWorkShiftExceeded=o,Promise.reject()):e.http.create(e.serializeBody(e.leave))})).then((function(){e.$toast.saveSuccess(),e.reset()})).catch((function(){e.showLeaveConflict&&e.$toast.warn({title:e.$t("general.warning"),message:e.$t("leave.failed_to_submit")})})).finally((function(){e.isLoading=!1}))}}};const W_=C()(Q_,[["render",S_]]);var H_=W_,J_={class:"orangehrm-background-container"},Y_={class:"orangehrm-paper-container"},X_={class:"orangehrm-header-container"},K_={class:"orangehrm-container"},Z_={class:"orangehrm-bottom-container"};function ek(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",J_,[Object(o["createElementVNode"])("div",Y_,[Object(o["createElementVNode"])("div",X_,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_types")),1)]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",K_,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),loading:a.isLoading,headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),Object(o["createElementVNode"])("div",Z_,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var tk={components:{"delete-confirmation":rn},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/leave-types"),t=Kt(e),n=t.showPaginator,o=t.currentPage,a=t.total,r=t.pages,l=t.pageSize,c=t.response,i=t.isLoading,u=t.execQuery;return{http:e,showPaginator:n,currentPage:o,isLoading:i,total:a,pages:r,pageSize:l,execQuery:u,items:c}},data:function(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:6}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/leave/defineLeaveType")},onClickEdit:function(e){Z("/leave/defineLeaveType/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const nk=C()(tk,[["render",ek]]);var ok=nk,ak={class:"orangehrm-background-container"},rk={class:"orangehrm-card-container"},lk={class:"label-is-entitlement-situational"};function ck(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-label"),m=Object(o["resolveComponent"])("oxd-icon-button"),b=Object(o["resolveComponent"])("oxd-input-group"),p=Object(o["resolveComponent"])("oxd-grid-item"),f=Object(o["resolveComponent"])("oxd-grid"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("entitlement-situational-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ak,[Object(o["createElementVNode"])("div",rk,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.edit_leave_type")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveType.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leaveType.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{classes:{wrapper:"--status-grouped-field"}},{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",lk,[Object(o["createVNode"])(s,{label:e.$t("leave.is_entitlement_situational")},null,8,["label"]),Object(o["createVNode"])(m,{class:"--help",name:"exclamation-circle","with-container":!1,onClick:l.onModalOpen},null,8,["onClick"])])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveType.situational,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leaveType.situational=e}),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.leaveType.situational,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leaveType.situational=e}),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),r.showModal?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,onClose:l.onModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])])}var ik={class:"orangehrm-modal-header"},uk={class:"orangehrm-text-center-align"},dk={class:"orangehrm-modal-footer"};function sk(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-form-actions"),d=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{class:"orangehrm-dialog-popup","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ik,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.situational_leave")),1)]})),_:1})]),Object(o["createElementVNode"])("div",uk,[Object(o["createVNode"])(c,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.entitlement_situational_description")),1)]})),_:1})]),Object(o["createElementVNode"])("div",dk,[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:l.onCancel},null,8,["label","onClick"])]})),_:1})])]})),_:1},8,["onUpdate:show"])}var mk={name:"EntitlementSituationalModal",components:{"oxd-dialog":oe["a"]},emits:["close"],methods:{onCancel:function(){this.$emit("close",!0)}}};n("7b6b");const bk=C()(mk,[["render",sk],["__scopeId","data-v-049f37ee"]]);var pk=bk,fk={id:"",name:"",situational:""},hk={components:{"oxd-label":ms["a"],"entitlement-situational-modal":pk},props:{leaveTypeId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/leave-types");return{http:e}},data:function(){return{showModal:!1,isLoading:!1,leaveType:Object(M["a"])({},fk),rules:{name:[On,vn(50)]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.leaveTypeId).then((function(t){var n=t.data.data;return e.leaveType.id=n.id,e.leaveType.name=n.name,e.leaveType.situational=n.situational,e.http.getAll()})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));if(o>-1){var a=n[o].id;return a==e.leaveTypeId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.leaveTypeId,{name:this.leaveType.name,situational:this.leaveType.situational}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/leave/leaveTypeList")},onModalOpen:function(){this.showModal=!0},onModalClose:function(){this.showModal=!1}}};n("6533");const jk=C()(hk,[["render",ck],["__scopeId","data-v-10a4c0fa"]]);var Ok=jk,vk={class:"orangehrm-background-container"},gk={class:"orangehrm-card-container"},Ck={class:"label-is-entitlement-situational"};function yk(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-label"),m=Object(o["resolveComponent"])("oxd-icon-button"),b=Object(o["resolveComponent"])("oxd-input-group"),p=Object(o["resolveComponent"])("oxd-grid-item"),f=Object(o["resolveComponent"])("oxd-grid"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("entitlement-situational-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vk,[Object(o["createElementVNode"])("div",gk,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.add_leave_type")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveType.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leaveType.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{classes:{wrapper:"--status-grouped-field"}},{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ck,[Object(o["createVNode"])(s,{label:e.$t("leave.is_entitlement_situational")},null,8,["label"]),Object(o["createVNode"])(m,{class:"--help",name:"exclamation-circle","with-container":!1,onClick:l.onModalOpen},null,8,["onClick"])])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveType.situational,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leaveType.situational=e}),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.leaveType.situational,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leaveType.situational=e}),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"]),r.showModal?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,onClose:l.onModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)])])}var Vk={id:"",name:"",situational:!1},wk={components:{"oxd-label":ms["a"],"entitlement-situational-modal":pk},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/leave-types");return{http:e}},data:function(){return{showModal:!1,isLoading:!1,leaveType:Object(M["a"])({},Vk),rules:{name:[On,vn(50)]},errors:[]}},created:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.leaveType.name,situational:this.leaveType.situational}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.leaveType=Object(M["a"])({},Vk),e.onCancel()}))},onCancel:function(){Z("/leave/leaveTypeList")},onModalOpen:function(){this.showModal=!0},onModalClose:function(){this.showModal=!1}}};n("f482");const xk=C()(wk,[["render",yk],["__scopeId","data-v-f177f4b2"]]);var Dk=xk,Nk={class:"orangehrm-background-container"},_k={class:"orangehrm-card-container"};function kk(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-input-group"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("employee-autocomplete"),f=Object(o["resolveComponent"])("leave-type-dropdown"),h=Object(o["resolveComponent"])("leave-period-dropdown"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("submit-button"),g=Object(o["resolveComponent"])("oxd-form-actions"),C=Object(o["resolveComponent"])("oxd-form"),y=Object(o["resolveComponent"])("entitlement-update-modal"),V=Object(o["resolveComponent"])("entitlement-bulk-update-modal"),w=Object(o["resolveComponent"])("entitlement-no-match-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Nk,[Object(o["createElementVNode"])("div",_k,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.add_leave_entitlement")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(C,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:e.$t("leave.add_to"),classes:{wrapper:"--grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveEntitlement.bulkAssign,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leaveEntitlement.bulkAssign=e}),type:"radio","option-label":e.$t("leave.individual_employee"),value:"0"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.leaveEntitlement.bulkAssign,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leaveEntitlement.bulkAssign=e}),type:"radio","option-label":e.$t("leave.multiple_employees"),value:"1"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),0==r.leaveEntitlement.bulkAssign?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.leaveEntitlement.employee,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leaveEntitlement.employee=e}),params:{includeEmployees:"currentAndPast"},rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveEntitlement.location,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.leaveEntitlement.location=e}),type:"select",label:e.$t("general.location"),options:n.locations},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveEntitlement.subunit,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.leaveEntitlement.subunit=e}),type:"select",label:e.$t("general.sub_unit"),options:n.subunits},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(s,{class:"orangehrm-leave-entitled"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-entitled-text",type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.matches_emp_count_employees",{empMatchCount:r.empMatchCount})),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.leaveEntitlement.leaveType,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.leaveEntitlement.leaveType=e}),"empty-text":e.$t("leave.no_leave_types_defined"),rules:r.rules.leaveType,"eligible-only":!1,required:""},null,8,["modelValue","empty-text","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{modelValue:r.leaveEntitlement.leavePeriod,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.leaveEntitlement.leavePeriod=e}),rules:r.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveEntitlement.entitlement,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.leaveEntitlement.entitlement=e}),rules:r.rules.entitlement,label:e.$t("leave.entitlement"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(v)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(y,{ref:"updateModal",data:r.leaveEntitlement},null,8,["data"]),Object(o["createVNode"])(V,{ref:"bulkUpdateModal",data:r.leaveEntitlement},null,8,["data"]),Object(o["createVNode"])(w,{ref:"noMatchModal"},null,512)])}function Ek(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("leave.leave_period"),options:a.options,"model-value":a.selectedPeriod,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["label","options","model-value"])}var Sk={name:"LeavePeriodDropdown",props:{modelValue:{type:Object,default:null}},emits:["update:modelValue"],setup:function(e){var t=Object(o["ref"])([]),n=new te(window.appGlobal.baseUrl,"api/v2/leave/leave-periods"),a=de(),r=a.jsDateFormat,l=Xe(),c=l.locale;Object(o["onBeforeMount"])((function(){n.getAll().then((function(e){var n=e.data;t.value=n.data.map((function(e){var t=ke(_e(e.startDate),r,{locale:c}),n=ke(_e(e.endDate),r,{locale:c});return{id:"".concat(e.startDate,"_").concat(e.endDate),label:"".concat(t," - ").concat(n),startDate:e.startDate,endDate:e.endDate}}))}))}));var i=Object(o["computed"])((function(){return t.value.find((function(t){var n;return t.id===(null===(n=e.modelValue)||void 0===n?void 0:n.id)}))}));return{options:t,selectedPeriod:i}}};const Ak=C()(Sk,[["render",Ek]]);var $k=Ak,Fk={class:"orangehrm-modal-header"},Bk={class:"orangehrm-text-center-align"},Tk={class:"orangehrm-modal-footer"};function Ik(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,style:{maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Fk,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.updating_entitlement")),1)]})),_:1})]),Object(o["createElementVNode"])("div",Bk,[Object(o["createVNode"])(c,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.entitlement_value_confirmation_message",{oldvalue:r.current,newvalue:r.updateAs})),1)]})),_:1})]),Object(o["createElementVNode"])("div",Tk,[Object(o["createVNode"])(i,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(i,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.confirm"),onClick:l.onConfirm},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var Lk={name:"EntitlementUpdateModal",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"");return{http:e}},data:function(){return{show:!1,reject:null,resolve:null,current:"0.00",updateAs:"0.00"}},methods:{showDialog:function(){var e,t,n,o,a=this;return this.http.request({method:"GET",url:"api/v2/leave/employees/".concat(null===(e=this.data.employee)||void 0===e?void 0:e.id,"/leave-entitlements"),params:{leaveTypeId:null===(t=this.data.leaveType)||void 0===t?void 0:t.id,fromDate:null===(n=this.data.leavePeriod)||void 0===n?void 0:n.startDate,toDate:null===(o=this.data.leavePeriod)||void 0===o?void 0:o.endDate,entitlement:this.data.entitlement}}).then((function(e){var t,n,o=e.data.data;return a.current=null!==(t=o.entitlement)&&void 0!==t&&t.current?parseFloat(o.entitlement.current).toFixed(2):"0.00",a.updateAs=null!==(n=o.entitlement)&&void 0!==n&&n.updateAs?parseFloat(o.entitlement.updateAs).toFixed(2):"0.00",new Promise((function(e,t){a.resolve=e,a.reject=t,a.show=!0}))}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("fcee");const Uk=C()(Lk,[["render",Ik],["__scopeId","data-v-f63c979a"]]);var Pk=Uk,qk={class:"orangehrm-dialog-header-container"},Rk={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"},Mk={class:"orangehrm-container"},zk={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"};function Gk(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-card-table"),d=Object(o["resolveComponent"])("oxd-button"),s=Object(o["resolveComponent"])("submit-button"),m=Object(o["resolveComponent"])("oxd-form-actions"),b=Object(o["resolveComponent"])("oxd-dialog");return r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",qk,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.updating_entitlement"))+" - "+Object(o["toDisplayString"])(e.$t("leave.matching_employees")),1)]})),_:1})]),Object(o["createVNode"])(i,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),Object(o["createElementVNode"])("div",Rk,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.selected_leave_entitlement_applied_to_following_employees")),1)]})),_:1})]),Object(o["createElementVNode"])("div",Mk,[Object(o["createVNode"])(u,{headers:r.headers,items:r.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),Object(o["createElementVNode"])("div",zk,[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(s,{label:e.$t("general.confirm"),onClick:l.onConfirm},null,8,["label","onClick"])]})),_:1})])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)}var Qk={name:"EntitlementBulkUpdateModal",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/employees/leave-entitlements");return{http:e}},data:function(){return{show:!1,reject:null,resolve:null,headers:[{title:this.$t("general.employee"),name:"employee",slot:"title",style:{flex:1}},{title:this.$t("leave.old_entitlement"),name:"current",style:{flex:1}},{title:this.$t("leave.new_entitlement"),name:"updateAs",style:{flex:1}}],items:[]}},methods:{showDialog:function(){var e,t,n,o,a,r=this;return this.http.getAll({leaveTypeId:null===(e=this.data.leaveType)||void 0===e?void 0:e.id,fromDate:null===(t=this.data.leavePeriod)||void 0===t?void 0:t.startDate,toDate:null===(n=this.data.leavePeriod)||void 0===n?void 0:n.endDate,entitlement:this.data.entitlement,locationId:null===(o=this.data.location)||void 0===o?void 0:o.id,subunitId:null===(a=this.data.subunit)||void 0===a?void 0:a.id}).then((function(e){var t=e.data.data;return r.items=Array.isArray(t)?t.map((function(e){var t,n;return{employee:"".concat(e.firstName," ").concat(e.lastName),current:null!==(t=e.entitlement)&&void 0!==t&&t.current?parseFloat(e.entitlement.current).toFixed(2):"0.00",updateAs:null!==(n=e.entitlement)&&void 0!==n&&n.updateAs?parseFloat(e.entitlement.updateAs).toFixed(2):"0.00"}})):[],new Promise((function(e,t){r.resolve=e,r.reject=t,r.show=!0}))}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("a6a3");const Wk=C()(Qk,[["render",Gk],["__scopeId","data-v-d7507442"]]);var Hk=Wk,Jk={class:"orangehrm-modal-header"},Yk={class:"orangehrm-text-center-align"},Xk={class:"orangehrm-modal-footer"};function Kk(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,style:{maxWidth:"450px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Jk,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.no_matching_employees")),1)]})),_:1})]),Object(o["createElementVNode"])("div",Yk,[Object(o["createVNode"])(c,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.no_employees_match_filters")),1)]})),_:1})]),Object(o["createElementVNode"])("div",Xk,[Object(o["createVNode"])(i,{"display-type":"secondary",label:e.$t("general.ok"),onClick:l.onCancel},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var Zk={name:"EntitlementNoMatchModal",components:{"oxd-dialog":oe["a"]},data:function(){return{show:!1}},methods:{showDialog:function(){this.show=!0},onCancel:function(){this.show=!1}}};n("f46d");const eE=C()(Zk,[["render",Kk],["__scopeId","data-v-1e5306f8"]]);var tE=eE,nE={bulkAssign:0,employee:null,leaveType:null,leavePeriod:null,entitlement:"",subunit:null,location:null},oE={components:{"leave-type-dropdown":T_,"leave-period-dropdown":$k,"employee-autocomplete":Zo,"entitlement-update-modal":Pk,"entitlement-bulk-update-modal":Hk,"entitlement-no-match-modal":tE},props:{locations:{type:Array,default:function(){return[]}},subunits:{type:Array,default:function(){return[]}},leavePeriod:{type:Object,required:!1,default:function(){return null}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements");return{http:e}},data:function(){var e=this;return{isLoading:!1,leaveEntitlement:Object(M["a"])({},nE),leavePeriodDefined:!1,rules:{employee:[On,Kn],leaveType:[On],leavePeriod:[On],entitlement:[On,function(t){return/^\d+(\.\d{1,2})?$/.test(t)||e.$t("leave.should_be_a_number_with_2_decimal_places")},Vn(1e4)]},empMatchCount:0}},watch:{"leaveEntitlement.location":"fetchEmployeeCount","leaveEntitlement.subunit":"fetchEmployeeCount"},beforeMount:function(){this.fetchEmployeeCount(),this.leavePeriod&&(this.leaveEntitlement.leavePeriod=this.leavePeriod)},methods:{onCancel:function(){Z("/leave/viewLeaveEntitlements")},onSave:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){var n,o,a,r,l,c,i,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=null,e.isLoading=!0,l=1==e.leaveEntitlement.bulkAssign,!l){t.next=12;break}if(0!==e.empMatchCount){t.next=7;break}return e.isLoading=!1,t.abrupt("return",e.$refs.noMatchModal.showDialog());case 7:return t.next=9,e.$refs.bulkUpdateModal.showDialog();case 9:r=t.sent,t.next=15;break;case 12:return t.next=14,e.$refs.updateModal.showDialog();case 14:r=t.sent;case 15:if("ok"===r){t.next=18;break}return e.isLoading=!1,t.abrupt("return");case 18:c={empNumber:void 0,bulkAssign:void 0,locationId:void 0,subunitId:void 0,leaveTypeId:null===(n=e.leaveEntitlement.leaveType)||void 0===n?void 0:n.id,fromDate:null===(o=e.leaveEntitlement.leavePeriod)||void 0===o?void 0:o.startDate,toDate:null===(a=e.leaveEntitlement.leavePeriod)||void 0===a?void 0:a.endDate,entitlement:e.leaveEntitlement.entitlement},l?(c.bulkAssign=!0,c.locationId=null===(i=e.leaveEntitlement.location)||void 0===i?void 0:i.id,c.subunitId=null===(u=e.leaveEntitlement.subunit)||void 0===u?void 0:u.id):c.empNumber=null===(d=e.leaveEntitlement.employee)||void 0===d?void 0:d.id,e.http.create(c).then((function(t){var n=null,o=null,a=t.data.data;return Array.isArray(a)?n=e.$toast.success({title:e.$t("general.success"),message:e.$t("leave.entitlement_added_to_n_employees",{count:a.length})}):(o={empNumber:a.employee.empNumber,leaveTypeId:a.leaveType.id,startDate:a.fromDate,endDate:a.toDate},n=e.$toast.saveSuccess()),new Promise((function(e){n.then((function(){e(o)}))}))})).then((function(e){e?Z("/leave/viewLeaveEntitlements",void 0,e):Z("/leave/viewLeaveEntitlements")}));case 21:case"end":return t.stop()}}),t)})))()},fetchEmployeeCount:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.http.request({method:"GET",url:"api/v2/pim/employees/count",params:{locationId:null===(n=e.leaveEntitlement.location)||void 0===n?void 0:n.id,subunitId:null===(o=e.leaveEntitlement.subunit)||void 0===o?void 0:o.id}}).then((function(t){var n=t.data.data;e.empMatchCount=parseInt(n.count)}));case 1:case"end":return t.stop()}}),t)})))()}}};n("f13a");const aE=C()(oE,[["render",kk],["__scopeId","data-v-55086e39"]]);var rE=aE,lE={class:"orangehrm-background-container"},cE={class:"orangehrm-card-container"};function iE(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("leave-type-dropdown"),p=Object(o["resolveComponent"])("oxd-input-field"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",lE,[Object(o["createElementVNode"])("div",cE,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.edit_leave_entitlement")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.leaveEntitlement.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.leaveEntitlement.employee=e}),disabled:"",required:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.leaveEntitlement.leaveType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.leaveEntitlement.leaveType=e}),"eligible-only":!1,required:"",disabled:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.leaveEntitlement.leavePeriod,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.leaveEntitlement.leavePeriod=e}),type:"select",label:e.$t("leave.leave_period"),options:r.leavePeriods,rules:r.rules.leavePeriod,required:""},null,8,["modelValue","label","options","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.leaveEntitlement.entitlement,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.leaveEntitlement.entitlement=e}),rules:r.rules.entitlement,label:e.$t("leave.entitlement"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var uE={employee:null,leaveType:null,leavePeriod:null,entitlement:""},dE={components:{"leave-type-dropdown":T_,"employee-autocomplete":Zo},props:{entitlementId:{type:String,required:!0},employee:{type:Object,default:function(){return{}}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements");e.setIgnorePath("api/v2/leave/leave-entitlements/[0-9]+/validation/entitlements");var t=de(),n=t.jsDateFormat,o=Xe(),a=o.locale;return{http:e,jsDateFormat:n,locale:a}},data:function(){var e=this;return{isLoading:!1,leaveEntitlement:Object(M["a"])({},uE),rules:{employee:[On,Kn],leaveType:[On],leavePeriod:[On],entitlement:[On,function(t){return/^\d+(\.\d{1,2})?$/.test(t)||e.$t("leave.should_be_a_number_with_2_decimal_places")},Vn(1e4),Object(ja["a"])(this.validateEntitlement,500)]},leavePeriods:[]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/leave/leave-periods"}).then((function(t){var n=t.data;return e.leavePeriods=n.data.map((function(t){var n=ke(_e(t.startDate),e.jsDateFormat,{locale:e.locale}),o=ke(_e(t.endDate),e.jsDateFormat,{locale:e.locale});return{id:"".concat(t.startDate,"_").concat(t.endDate),label:"".concat(n," - ").concat(o),startDate:t.startDate,endDate:t.endDate}})),e.http.get(e.entitlementId)})).then((function(t){var n=t.data.data;e.leaveEntitlement.employee={id:n.employee.empNumber,label:"".concat(n.employee.firstName," ").concat(n.employee.lastName),isPastEmployee:n.employee.terminationId},e.leaveEntitlement.leaveType={id:n.leaveType.id,label:n.leaveType.name},e.leaveEntitlement.leavePeriod=e.leavePeriods.find((function(e){return e.id==="".concat(n.fromDate,"_").concat(n.toDate)})),e.leaveEntitlement.entitlement=n.entitlement})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){var e,t,n,o;Z("/leave/viewLeaveEntitlements",void 0,{empNumber:null===(e=this.leaveEntitlement.employee)||void 0===e?void 0:e.id,leaveTypeId:null===(t=this.leaveEntitlement.leaveType)||void 0===t?void 0:t.id,startDate:null===(n=this.leaveEntitlement.leavePeriod)||void 0===n?void 0:n.startDate,endDate:null===(o=this.leaveEntitlement.leavePeriod)||void 0===o?void 0:o.endDate})},onSave:function(){var e,t,n=this;this.isLoading=!0;var o={fromDate:null===(e=this.leaveEntitlement.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(t=this.leaveEntitlement.leavePeriod)||void 0===t?void 0:t.endDate,entitlement:this.leaveEntitlement.entitlement};this.http.update(this.entitlementId,o).then((function(){n.$toast.updateSuccess(),n.onCancel()}))},validateEntitlement:function(e){var t=this,n=parseFloat(e);return new Promise((function(e){isNaN(n)?e(!0):t.http.request({method:"GET",url:"api/v2/leave/leave-entitlements/".concat(t.entitlementId,"/validation/entitlements"),params:{entitlement:n}}).then((function(n){var o=n.data.data;return!0===o.valid?e(!0):e(t.$t("leave.used_amount_exceeds_the_current_amount"))}))}))}}};const sE=C()(dE,[["render",iE]]);var mE=sE;function bE(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("leave-type-dropdown"),d=Object(o["resolveComponent"])("leave-period-dropdown"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-table-filter"),v=Object(o["resolveComponent"])("leave-entitlement-table");return Object(o["openBlock"])(),Object(o["createBlock"])(v,{prefetch:!1},{default:Object(o["withCtx"])((function(t){var n=t.filters,a=t.filterItems;return[Object(o["createVNode"])(O,{"filter-title":e.$t("leave.leave_entitlements")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onSubmitValid:a},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:n.employee,"onUpdate:modelValue":function(e){return n.employee=e},rules:r.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","onUpdate:modelValue","rules"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:n.leaveType,"onUpdate:modelValue":function(e){return n.leaveType=e},"eligible-only":!1},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:n.leavePeriod,"onUpdate:modelValue":function(e){return n.leavePeriod=e},"show-empty-selector":!1},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(b),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"])]})),_:1})}var pE={class:"orangehrm-background-container"},fE=Object(o["createElementVNode"])("br",null,null,-1),hE={key:0,class:"orangehrm-paper-container"},jE={class:"orangehrm-header-container"},OE={class:"orangehrm-container"},vE={class:"orangehrm-bottom-container"};function gE(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-text"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pE,[Object(o["renderSlot"])(e.$slots,"default",{filters:a.filters,filterItems:l.filterItems}),fE,a.showDatatable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",hE,[Object(o["createElementVNode"])("div",jE,[Object(o["createElementVNode"])("div",null,[e.$can.create("leave_entitlements")?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(u,{tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.totalEntitlements),1)]})),_:1})]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",OE,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:l.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:e.$can.delete("leave_entitlements"),clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(o["createElementVNode"])("div",vE,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var CE={name:"LeaveEntitlementTable",components:{"delete-confirmation":rn},props:{prefetch:{type:Boolean,default:!0},employee:{type:Object,required:!1,default:function(){return null}},leaveType:{type:Object,required:!1,default:function(){return null}},leavePeriod:{type:Object,required:!1,default:function(){return null}}},setup:function(e){var t=Object(o["ref"])({leaveType:e.leaveType?e.leaveType:null,leavePeriod:e.leavePeriod?e.leavePeriod:null,employee:e.employee?{id:e.employee.empNumber,label:"".concat(e.employee.firstName," ").concat(e.employee.middleName," ").concat(e.employee.lastName),isPastEmployee:e.employee.terminationId}:null}),n=Object(o["computed"])((function(){var e,n,o,a;return{empNumber:null===(e=t.value.employee)||void 0===e?void 0:e.id,leaveTypeId:null===(n=t.value.leaveType)||void 0===n?void 0:n.id,fromDate:null===(o=t.value.leavePeriod)||void 0===o?void 0:o.startDate,toDate:null===(a=t.value.leavePeriod)||void 0===a?void 0:a.endDate}})),a=new te(window.appGlobal.baseUrl,"api/v2/leave/leave-entitlements"),r=Je(),l=r.$t,c=de(),i=c.jsDateFormat,u=Xe(),d=u.locale,s=function(e){return e.map((function(e){return{id:e.id,leaveType:e.leaveType.name+"".concat(e.leaveType.deleted?l("general.deleted"):""),entitlementType:e.entitlementType.name,fromDate:ke(_e(e.fromDate),i,{locale:d}),toDate:ke(_e(e.toDate),i,{locale:d}),days:e.entitlement,isSelectable:e.deletable}}))},m=Kt(a,{query:n,normalizer:s,prefetch:e.employee||e.prefetch}),b=m.showPaginator,p=m.currentPage,f=m.total,h=m.pages,j=m.pageSize,O=m.response,v=m.isLoading,g=m.execQuery,C=Object(o["computed"])((function(){var e,t=null!==(e=O.value.meta)&&void 0!==e&&e.sum?O.value.meta.sum:0;return"Total ".concat(parseFloat(t).toFixed(2)," Day(s)")})),y=Object(o["computed"])((function(){return void 0!==O.value.data}));return{http:a,showPaginator:b,currentPage:p,isLoading:v,total:f,pages:h,pageSize:j,execQuery:g,items:O,filters:t,totalEntitlements:C,showDatatable:y}},data:function(){return{checkedItems:[]}},computed:{headers:function(){var e=[{name:"leaveType",slot:"title",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"entitlementType",title:this.$t("leave.entitlement_type"),style:{flex:1}},{name:"fromDate",title:this.$t("leave.valid_from"),style:{flex:1}},{name:"toDate",title:this.$t("leave.valid_to"),style:{flex:1}},{name:"days",title:this.$t("leave.days"),style:{flex:1}}],t={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("leave_entitlements")&&(t.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("leave_entitlements")&&(t.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(t.cellConfig).length>0?e.concat([t]):e}},methods:{onClickAdd:function(){Z("/leave/addLeaveEntitlement")},onClickEdit:function(e){Z("/leave/editLeaveEntitlement/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;if(!e.isSelectable)return this.$toast.error({title:this.$t("general.error"),message:this.$t("leave.entitlements_will_not_be_deleted_since_already_in_use")});this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};const yE=C()(CE,[["render",gE]]);var VE=yE,wE={components:{"leave-entitlement-table":VE,"employee-autocomplete":Zo,"leave-type-dropdown":T_,"leave-period-dropdown":$k},data:function(){return{rules:{employee:[On,Kn]}}}};const xE=C()(wE,[["render",bE]]);var DE=xE;function NE(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("leave-type-dropdown"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("leave-period-dropdown"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("leave-entitlement-table");return Object(o["openBlock"])(),Object(o["createBlock"])(j,null,{default:Object(o["withCtx"])((function(t){var n=t.filters,a=t.filterItems;return[Object(o["createVNode"])(h,{"filter-title":e.$t("leave.my_leave_entitlements")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:a},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:n.leaveType,"onUpdate:modelValue":function(e){return n.leaveType=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:n.leavePeriod,"onUpdate:modelValue":function(e){return n.leavePeriod=e},"show-empty-selector":!1},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"])]})),_:1})}var _E={components:{"leave-entitlement-table":VE,"leave-type-dropdown":T_,"leave-period-dropdown":$k}};const kE=C()(_E,[["render",NE]]);var EE=kE,SE={class:"orangehrm-background-container"},AE={class:"orangehrm-card-container"};function $E(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",SE,[Object(o["createElementVNode"])("div",AE,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.work_week")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workWeek.monday,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.workWeek.monday=e}),type:"select",options:n.dayTypes,rules:r.rules.monday,label:e.$t("general.monday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workWeek.tuesday,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.workWeek.tuesday=e}),type:"select",options:n.dayTypes,rules:r.rules.tuesday,label:e.$t("general.tuesday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workWeek.wednesday,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.workWeek.wednesday=e}),type:"select",options:n.dayTypes,rules:r.rules.wednesday,label:e.$t("general.wednesday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workWeek.thursday,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.workWeek.thursday=e}),type:"select",options:n.dayTypes,rules:r.rules.thursday,label:e.$t("general.thursday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workWeek.friday,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.workWeek.friday=e}),type:"select",options:n.dayTypes,rules:r.rules.friday,label:e.$t("general.friday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workWeek.saturday,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.workWeek.saturday=e}),type:"select",options:n.dayTypes,rules:r.rules.saturday,label:e.$t("general.saturday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.workWeek.sunday,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.workWeek.sunday=e}),type:"select",options:n.dayTypes,rules:r.rules.sunday,label:e.$t("general.sunday"),required:""},null,8,["modelValue","options","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}n("07ac");var FE={monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null},BE={props:{dayTypes:{type:Array,default:function(){return[]}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/workweek");return{http:e}},data:function(){return{isLoading:!1,workWeek:Object(M["a"])({},FE),rules:{monday:[On],tuesday:[On],wednesday:[On],thursday:[On],friday:[On],saturday:[On],sunday:[On]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET"}).then((function(t){var n=t.data.data;e.workWeek.monday=e.dayTypes.find((function(e){return e.id===n.monday})),e.workWeek.tuesday=e.dayTypes.find((function(e){return e.id===n.tuesday})),e.workWeek.wednesday=e.dayTypes.find((function(e){return e.id===n.wednesday})),e.workWeek.thursday=e.dayTypes.find((function(e){return e.id===n.thursday})),e.workWeek.friday=e.dayTypes.find((function(e){return e.id===n.friday})),e.workWeek.saturday=e.dayTypes.find((function(e){return e.id===n.saturday})),e.workWeek.sunday=e.dayTypes.find((function(e){return e.id===n.sunday}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this,t=Object.values(this.workWeek).find((function(e){return 8!==e.id}));if(void 0===t)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("leave.at_least_one_day_should_be_a_working_day")});this.isLoading=!0,this.http.request({method:"PUT",data:{monday:this.workWeek.monday.id,tuesday:this.workWeek.tuesday.id,wednesday:this.workWeek.wednesday.id,thursday:this.workWeek.thursday.id,friday:this.workWeek.friday.id,saturday:this.workWeek.saturday.id,sunday:this.workWeek.sunday.id}}).then((function(){e.$toast.saveSuccess(),e.isLoading=!1}))}}};const TE=C()(BE,[["render",$E]]);var IE=TE,LE={class:"orangehrm-background-container"},UE=Object(o["createElementVNode"])("br",null,null,-1),PE={class:"orangehrm-paper-container"},qE={class:"orangehrm-header-container"},RE={class:"orangehrm-container"},ME={class:"orangehrm-bottom-container"};function zE(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("date-input"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("table-header"),O=Object(o["resolveComponent"])("oxd-card-table"),v=Object(o["resolveComponent"])("oxd-pagination"),g=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",LE,[Object(o["createVNode"])(h,{"filter-title":e.$t("leave.holidays")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:l.filterItems,onReset:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.fromDate=e}),label:e.$t("general.from"),rules:r.rules.fromDate,years:r.yearArray},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.toDate=e}),label:e.$t("general.to"),rules:r.rules.toDate,years:r.yearArray},null,8,["modelValue","label","rules","years"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),UE,Object(o["createElementVNode"])("div",PE,[Object(o["createElementVNode"])("div",qE,[Object(o["createVNode"])(b,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(j,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",RE,[Object(o["createVNode"])(O,{selected:r.checkedItems,"onUpdate:selected":t[2]||(t[2]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",ME,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(g,{ref:"deleteDialog"},null,512)])}var GE={components:{"delete-confirmation":rn},props:{leavePeriod:{type:Object,required:!0}},setup:function(e){var t=Object(o["ref"])({fromDate:e.leavePeriod.startDate,toDate:e.leavePeriod.endDate}),n=Object(o["computed"])((function(){return{fromDate:t.value.fromDate,toDate:t.value.toDate}})),a=de(),r=a.jsDateFormat,l=a.userDateFormat,c=Xe(),i=c.locale,u=function(e){return e.map((function(e){return{id:e.id,name:e.name,date:ke(_e(e.date),r,{locale:i}),recurring:e.recurring?"Yes":"No",length:e.lengthName}}))},d=new te(window.appGlobal.baseUrl,"api/v2/leave/holidays"),s=Kt(d,{query:n,normalizer:u}),m=s.showPaginator,b=s.currentPage,p=s.total,f=s.pages,h=s.pageSize,j=s.response,O=s.isLoading,v=s.execQuery;return{http:d,showPaginator:m,currentPage:b,isLoading:O,total:p,pages:f,pageSize:h,execQuery:v,items:j,filters:t,userDateFormat:l}},data:function(){var e=this;return{yearArray:Object(iO["a"])(uO(201)),rules:{fromDate:[On,gn(this.userDateFormat)],toDate:[On,gn(this.userDateFormat),Sn((function(){return e.filters.fromDate}),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"date",title:this.$t("general.date"),style:{flex:2}},{name:"length",title:this.$t("leave.full_day_half_day"),style:{flex:2}},{name:"recurring",title:this.$t("leave.repeats_annually"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/leave/saveHolidays")},onClickEdit:function(e){Z("/leave/saveHolidays/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};const QE=C()(GE,[["render",zE]]);var WE=QE,HE={class:"orangehrm-background-container"},JE={class:"orangehrm-card-container"};function YE(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",HE,[Object(o["createElementVNode"])("div",JE,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.add_holiday")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.holiday.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.holiday.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.holiday.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.holiday.date=e}),label:e.$t("general.date"),rules:r.rules.date,years:r.yearArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.holiday.length,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.holiday.length=e}),type:"select",label:e.$t("leave.full_day_half_day"),options:n.holidayLengthList,rules:r.rules.length,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{classes:{wrapper:"--status-grouped-field"},label:e.$t("leave.repeats_annually")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.holiday.recurring,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.holiday.recurring=e}),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.holiday.recurring,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.holiday.recurring=e}),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var XE={name:"",date:"",recurring:!1,length:{id:0,label:"Full Day"}},KE={props:{holidayLengthList:{type:Array,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/holidays"),t=de(),n=t.userDateFormat;return{http:e,userDateFormat:n}},data:function(){return{yearArray:Object(iO["a"])(uO(201)),isLoading:!1,holiday:Object(M["a"])({},XE),rules:{name:[On,vn(200)],date:[On,gn(this.userDateFormat)],length:[On]},errors:[]}},created:function(){var e=this;this.isLoading=!0;var t=new Date,n=t.getFullYear()-100+"-"+(t.getMonth()+1)+"-"+t.getDate(),o=t.getFullYear()+100+"-"+(t.getMonth()+1)+"-"+t.getDate();this.http.getAll({fromDate:n,toDate:o,limit:0}).then((function(t){var n=t.data.data;e.rules.date.push((function(t){var o=n.findIndex((function(e){return e.date==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({name:this.holiday.name,date:this.holiday.date,recurring:this.holiday.recurring,length:this.holiday.length.id}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.holiday=Object(M["a"])({},XE),e.onCancel()}))},onCancel:function(){Z("/leave/viewHolidayList")}}};n("1414");const ZE=C()(KE,[["render",YE],["__scopeId","data-v-69b04d8f"]]);var eS=ZE,tS={class:"orangehrm-background-container"},nS={class:"orangehrm-card-container"};function oS(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-input-group"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tS,[Object(o["createElementVNode"])("div",nS,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.edit_holiday")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.holiday.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.holiday.name=e}),label:e.$t("general.name"),rules:r.rules.name,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.holiday.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.holiday.date=e}),label:e.$t("general.date"),rules:r.rules.date,years:r.yearArray,required:""},null,8,["modelValue","label","rules","years"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.holiday.length,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.holiday.length=e}),type:"select",label:e.$t("leave.full_day_half_day"),options:n.holidayLengthList,rules:r.rules.length,required:""},null,8,["modelValue","label","options","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{classes:{wrapper:"--status-grouped-field"},label:e.$t("leave.repeats_annually")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.holiday.recurring,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.holiday.recurring=e}),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),Object(o["createVNode"])(u,{modelValue:r.holiday.recurring,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.holiday.recurring=e}),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var aS={id:"",name:"",date:"",recurring:!1,length:0},rS={props:{holidayId:{type:Number,required:!0},holidayLengthList:{type:Array,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/leave/holidays"),t=de(),n=t.userDateFormat;return{http:e,userDateFormat:n}},data:function(){return{yearArray:Object(iO["a"])(uO(201)),isLoading:!1,holiday:Object(M["a"])({},aS),rules:{name:[On,vn(200)],date:[On,gn(this.userDateFormat)],length:[On]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.holidayId).then((function(t){var n=t.data.data;e.holiday.id=n.id,e.holiday.name=n.name,e.holiday.date=n.date,e.holiday.recurring=n.recurring,""!==n.length&&null!==n.length&&(e.holiday.length=e.holidayLengthList.find((function(e){return e.id===n.length})));var o=new Date,a=o.getFullYear()-100+"-"+(o.getMonth()+1)+"-"+o.getDate(),r=o.getFullYear()+100+"-"+(o.getMonth()+1)+"-"+o.getDate();return e.http.getAll({fromDate:a,toDate:r,limit:0})})).then((function(t){var n=t.data.data;e.rules.date.push((function(t){var o=n.findIndex((function(e){return e.date===t}));if(o>-1){var a=n[o].id;return a==e.holidayId||e.$t("general.already_exists")}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.holidayId,{name:this.holiday.name,date:this.holiday.date,recurring:this.holiday.recurring,length:this.holiday.length.id}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},onCancel:function(){Z("/leave/viewHolidayList")}}};n("590a");const lS=C()(rS,[["render",oS],["__scopeId","data-v-cd6212e8"]]);var cS=lS;function iS(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("date-input"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("leave-type-dropdown"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("employee-autocomplete"),p=Object(o["resolveComponent"])("oxd-text"),f=Object(o["resolveComponent"])("oxd-switch-input"),h=Object(o["resolveComponent"])("oxd-divider"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("oxd-table-filter"),y=Object(o["resolveComponent"])("leave-list-table");return Object(o["openBlock"])(),Object(o["createBlock"])(y,{"leave-statuses":n.leaveStatuses},{default:Object(o["withCtx"])((function(t){var a=t.filters,r=t.filterItems,l=t.rules,y=t.onReset;return[Object(o["createVNode"])(C,{"filter-title":e.$t("leave.leave_list")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{onSubmitValid:r,onReset:y},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.fromDate,"onUpdate:modelValue":function(e){return a.fromDate=e},label:e.$t("general.from_date"),rules:l.fromDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.toDate,"onUpdate:modelValue":function(e){return a.toDate=e},label:e.$t("general.to_date"),rules:l.toDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.statuses,"onUpdate:modelValue":function(e){return a.statuses=e},value:"Select",type:"multiselect",label:e.$t("leave.show_leave_with_status"),options:n.leaveStatuses,rules:l.statuses,required:""},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.leaveType,"onUpdate:modelValue":function(e){return a.leaveType=e},"eligible-only":!1},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.employee,"onUpdate:modelValue":function(e){return a.employee=e},rules:l.employee,params:{includeEmployees:a.includePastEmps?"currentAndPast":"onlyCurrent"}},null,8,["modelValue","onUpdate:modelValue","rules","params"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.subunit,"onUpdate:modelValue":function(e){return a.subunit=e},type:"select",label:e.$t("general.sub_unit"),options:n.subunits},null,8,["modelValue","onUpdate:modelValue","label","options"])]})),_:2},1024),Object(o["createVNode"])(i,{class:"orangehrm-leave-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{class:"orangehrm-leave-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.include_past_employees")),1)]})),_:1}),Object(o["createVNode"])(f,{modelValue:a.includePastEmps,"onUpdate:modelValue":function(e){return a.includePastEmps=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(h),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(O,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid","onReset"])]})),_:2},1032,["filter-title"])]})),_:1},8,["leave-statuses"])}var uS=function(e){return Object(o["pushScopeId"])("data-v-251469ca"),e=e(),Object(o["popScopeId"])(),e},dS={class:"orangehrm-background-container"},sS=uS((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),mS={class:"orangehrm-paper-container"},bS={class:"orangehrm-container"},pS={class:"orangehrm-bottom-container"};function fS(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("leave-list-table-header"),u=Object(o["resolveComponent"])("oxd-card-table"),d=Object(o["resolveComponent"])("oxd-pagination"),s=Object(o["resolveComponent"])("leave-comment-modal"),m=Object(o["resolveComponent"])("leave-bulk-action-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",dS,[Object(o["renderSlot"])(e.$slots,"default",{filters:a.filters,rules:a.rules,filterItems:l.filterItems,onReset:l.onReset},void 0,!0),sS,Object(o["createElementVNode"])("div",mS,[Object(o["createVNode"])(i,{selected:a.checkedItems.length,total:a.total,loading:a.isLoading,"bulk-actions":a.leaveBulkActions,onOnActionClick:l.onLeaveActionBulk},null,8,["selected","total","loading","bulk-actions","onOnActionClick"]),Object(o["createElementVNode"])("div",bS,[Object(o["createVNode"])(u,{selected:a.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return a.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",pS,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])]),r.showCommentModal?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,id:r.commentModalState,onClose:l.onCommentModalClose},null,8,["id","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(m,{ref:"bulkActionModal",data:r.bulkActionModalState},null,8,["data"])],64)}var hS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.length,o=void 0===n?50:n,a=t.ellipsis,r=void 0===a?"...":a;return"string"===typeof e?e.length>o?e.substr(0,o)+r:e:""},jS={component:"oxd-button",props:{label:"Approve",displayType:"label-success",size:"medium",onClick:null}},OS={component:"oxd-button",props:{label:"Reject",displayType:"label-danger",size:"medium",onClick:null}},vS={component:"oxd-button",props:{label:"Cancel",displayType:"label-warn",size:"medium",onClick:null}},gS={component:"oxd-table-dropdown",props:{options:[],style:{"margin-left":"auto"},onClick:null}};function CS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.primaryActions,o=void 0===n?{approve:jS,reject:OS,cancel:vS,more:gS}:n,a=function(t,n){return e.request({method:"PUT",url:"api/v2/leave/leaves/".concat(t),data:{action:n}})},r=function(t,n){return e.request({method:"PUT",url:"api/v2/leave/employees/leave-requests/".concat(t),data:{action:n}})},l=function(t,n){return e.request({method:"PUT",url:"api/v2/leave/employees/leave-requests/bulk",data:{data:t.map((function(e){return{leaveRequestId:e,action:n}}))}})};return{leaveActions:o,processLeaveAction:a,processLeaveRequestAction:r,processLeaveRequestBulkAction:l}}var yS={class:"orangehrm-modal-header"},VS={key:0,class:"orangehrm-modal-content"};function wS(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("leave-comment"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",yS,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_request_comments")),1)]})),_:1})]),Object(o["createVNode"])(i),r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",VS,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.comments,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:e.id,data:e},null,8,["data"])})),128))])),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.comment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.comment=e}),type:"textarea",placeholder:e.$t("general.comment_here"),rules:r.rules.comment},null,8,["modelValue","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var xS={class:"orangehrm-comment"},DS={class:"orangehrm-comment-profile"},NS={class:"orangehrm-comment-profile-image-wrapper"},_S=["src"],kS={class:"orangehrm-comment-body"},ES={class:"orangehrm-comment-profile-name"},SS={class:"orangehrm-comment-message"},AS={class:"orangehrm-comment-timestamp"};function $S(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xS,[Object(o["createElementVNode"])("div",DS,[Object(o["createElementVNode"])("div",NS,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"orangehrm-comment-profile-image",src:a.imgSrc},null,8,_S)])]),Object(o["createElementVNode"])("div",kS,[Object(o["createElementVNode"])("div",ES,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.fullName),1)]})),_:1})]),Object(o["createElementVNode"])("div",SS,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.data.comment),1)]})),_:1})]),Object(o["createElementVNode"])("div",AS,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.commentDate)+" - "+Object(o["toDisplayString"])(n.data.time),1)]})),_:1})])])])}var FS="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),BS={name:"LeaveComment",props:{data:{type:Object,required:!0}},setup:function(e){var t=Object(o["computed"])((function(){var t=e.data.createdByEmployee;return t?"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(t.empNumber):FS})),n=Object(o["computed"])((function(){var t=e.data.createdByEmployee;return t&&"".concat(t.firstName," ").concat(t.lastName)})),a=de(),r=a.jsDateFormat,l=Xe(),c=l.locale,i=Object(o["computed"])((function(){var t;return ke(_e(null===(t=e.data)||void 0===t?void 0:t.date),r,{locale:c})}));return{imgSrc:t,fullName:n,commentDate:i}}};n("e725");const TS=C()(BS,[["render",$S],["__scopeId","data-v-6dd4c63a"]]);var IS=TS,LS={name:"LeaveCommentModal",components:{"oxd-dialog":oe["a"],"leave-comment":IS},props:{id:{type:Number,required:!1,default:null},leaveRequest:{type:Boolean,default:!0}},emits:["close"],setup:function(e){var t=e.leaveRequest?"leave-requests":"leaves",n=new te(window.appGlobal.baseUrl,"api/v2/leave/".concat(t,"/").concat(e.id,"/leave-comments"));return{http:n}},data:function(){return{isLoading:!1,comment:null,rules:{comment:[On,vn(255)]},comments:[]}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.comments=n})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create({comment:this.comment}).then((function(){e.$toast.saveSuccess(),e.onCancel()}))},onCancel:function(){this.comment=null,this.$emit("close",!0)}}};n("5235");const US=C()(LS,[["render",wS],["__scopeId","data-v-5e234c46"]]);var PS=US,qS={class:"orangehrm-modal-header"},RS={class:"orangehrm-text-center-align"},MS={class:"orangehrm-modal-footer"};function zS(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",qS,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.leave_action",{action:l.action})),1)]})),_:1})]),Object(o["createElementVNode"])("div",RS,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.bulk_leave_action_confirm_message_one",{action:l.action,count:l.count}))+" "+Object(o["toDisplayString"])(e.$t("leave.bulk_leave_action_confirm_message_two")),1)]})),_:1})]),Object(o["createElementVNode"])("div",MS,[Object(o["createVNode"])(i,{label:e.$t("general.no_cancel"),"display-type":"text",class:"orangehrm-button-margin",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(i,{label:e.$t("leave.yes_confirm"),"display-type":"secondary",onClick:l.onConfirm},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var GS={name:"LeaveBulkActionModal",components:{"oxd-dialog":oe["a"]},props:{data:{type:Object,default:function(){return null}}},data:function(){return{show:!1,reject:null,resolve:null}},computed:{count:function(){var e;return null!==(e=this.data)&&void 0!==e&&e.count?this.data.count:0},action:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.action}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")}}};n("09df");const QS=C()(GS,[["render",zS],["__scopeId","data-v-4aa1acfd"]]);var WS=QS,HS={class:"orangehrm-header-container"},JS={key:0,class:"actions"};function YS(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",HS,[n.bulkActions&&n.selected>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",JS,[Object(o["createVNode"])(c,{tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_selected",{count:n.selected})),1)]})),_:1}),n.bulkActions.APPROVE?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,label:e.$t("general.approve"),"display-type":"label-success",onClick:t[0]||(t[0]=function(t){return e.$emit("onActionClick","APPROVE")})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),n.bulkActions.REJECT?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,label:e.$t("general.reject"),"display-type":"label-danger",onClick:t[1]||(t[1]=function(t){return e.$emit("onActionClick","REJECT")})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),n.bulkActions.CANCEL?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:2,label:e.$t("general.cancel"),"display-type":"label-warn",onClick:t[2]||(t[2]=function(t){return e.$emit("onActionClick","CANCEL")})},null,8,["label"])):Object(o["createCommentVNode"])("",!0)])):(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_found",{count:n.total})),1)]})),_:1}))])}var XS={name:"LeaveListTableHeader",props:{loading:{type:Boolean,required:!0},selected:{type:Number,required:!0},total:{type:Number,required:!0},bulkActions:{type:Object,required:!1,default:function(){return{}}}},emits:["onActionClick"]};n("22e3");const KS=C()(XS,[["render",YS],["__scopeId","data-v-78ad5c40"]]);var ZS=KS,eA={employee:null,fromDate:null,toDate:null,statuses:[],subunit:null,includePastEmps:!1,leaveType:null},tA={name:"LeaveListTable",components:{"leave-list-table-header":ZS,"leave-comment-modal":PS,"leave-bulk-action-modal":WS},props:{myLeaveList:{type:Boolean,default:!1},leaveStatuses:{type:Array,default:function(){return[]}},employee:{type:Object,required:!1,default:function(){return null}},leaveType:{type:Object,required:!1,default:function(){return null}},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},leaveStatus:{type:Object,required:!1,default:function(){return null}}},setup:function(e){var t=Object(o["ref"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])({},eA),e.leaveType&&{leaveType:e.leaveType}),e.fromDate&&{fromDate:e.fromDate}),e.toDate&&{toDate:e.toDate}),e.leaveStatus&&{statuses:[e.leaveStatus]}),e.employee&&{employee:{id:e.employee.empNumber,label:"".concat(e.employee.firstName," ").concat(e.employee.middleName," ").concat(e.employee.lastName),isPastEmployee:e.employee.terminationId}})),n=Object(o["ref"])([]),a=Je(),r=a.$t,l=Xe(),c=l.locale,i=de(),u=i.jsDateFormat,d=i.userDateFormat,s={fromDate:[On,gn(d)],toDate:[On,gn(d),Sn((function(){return t.value.fromDate}),r("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],statuses:[On],employee:[Kn]},m=Object(o["computed"])((function(){var e,n,o,a=Array.isArray(t.value.statuses)?t.value.statuses:[];return{empNumber:null===(e=t.value.employee)||void 0===e?void 0:e.id,fromDate:t.value.fromDate,toDate:t.value.toDate,subunitId:null===(n=t.value.subunit)||void 0===n?void 0:n.id,includeEmployees:t.value.includePastEmps?"currentAndPast":"onlyCurrent",statuses:a.map((function(e){return e.id})),leaveTypeId:null===(o=t.value.leaveType)||void 0===o?void 0:o.id}})),b=new te(window.appGlobal.baseUrl,"api/v2/leave/".concat(e.myLeaveList?"leave-requests":"employees/leave-requests")),p=function(e){return e.map((function(e){var t,n,o,a,l,i,d,s,m,b,p,f="",h=null===(t=e.dates.durationType)||void 0===t?void 0:t.type;if(e.dates.fromDate&&(b=ke(_e(e.dates.fromDate),u,{locale:c})),e.dates.toDate&&(b+=" to ".concat(ke(_e(e.dates.toDate),u,{locale:c}))),e.dates.startTime&&e.dates.endTime&&(b+=" (".concat(e.dates.startTime," - ").concat(e.dates.endTime,")")),"half_day_morning"!==h&&"half_day_afternoon"!==h||(b+=" ".concat(r("leave.half_day"))),Array.isArray(e.leaveBreakdown)&&(p=e.leaveBreakdown.map((function(e){return"".concat(e.name," (").concat(parseFloat(e.lengthDays).toFixed(2),")")})).join(", ")),Array.isArray(e.leaveBalances))if(e.leaveBalances.length>1)f=e.leaveBalances.map((function(e){var t=e.period,n=e.balance,o=parseFloat(n.balance).toFixed(2),a=ke(_e(t.startDate),u,{locale:c}),r=ke(_e(t.endDate),u,{locale:c});return"".concat(o," (").concat(a," - ").concat(r,")")})).join(", ");else{var j,O=null===(j=e.leaveBalances[0])||void 0===j?void 0:j.balance.balance;f=O?parseFloat(O).toFixed(2):"0.00"}var v="".concat(null===(n=e.employee)||void 0===n?void 0:n.firstName," ").concat(null===(o=e.employee)||void 0===o?void 0:o.middleName," ").concat(null===(a=e.employee)||void 0===a?void 0:a.lastName),g=null===(l=e.leaveType)||void 0===l?void 0:l.name;return null!==(i=e.employee)&&void 0!==i&&i.terminationId&&" (".concat(r("general.past_employee"),")"),null!==(d=e.leaveType)&&void 0!==d&&d.deleted&&" (".concat(r("general.deleted"),")"),{id:e.id,empNumber:null===(s=e.employee)||void 0===s?void 0:s.empNumber,date:b,employeeName:v,leaveType:g,leaveBalance:f,days:parseFloat(e.noOfDays).toFixed(2),status:p,comment:hS(null===(m=e.lastComment)||void 0===m?void 0:m.comment),actions:e.allowedActions}}))},f=CS(b),h=f.leaveActions,j=f.processLeaveRequestAction,O=f.processLeaveRequestBulkAction,v=Kt(b,{query:m,normalizer:p}),g=v.showPaginator,C=v.currentPage,y=v.total,V=v.pages,w=v.pageSize,x=v.response,D=v.isLoading,N=v.execQuery,_=Object(o["computed"])((function(){if(n.value.length>0&&x.value.data){var e=n.value.map((function(e){return x.value.data[e].actions}));return{APPROVE:e.reduce((function(e,t){return e&&t.find((function(e){return"APPROVE"===e.action}))}),!0),REJECT:e.reduce((function(e,t){return e&&t.find((function(e){return"REJECT"===e.action}))}),!0),CANCEL:e.reduce((function(e,t){return e&&t.find((function(e){return"CANCEL"===e.action}))}),!0)}}return null}));return{http:b,showPaginator:g,currentPage:C,isLoading:D,total:y,pages:V,pageSize:w,execQuery:N,items:x,rules:s,filters:t,checkedItems:n,leaveActions:h,leaveBulkActions:_,processLeaveRequestAction:j,processLeaveRequestBulkAction:O}},data:function(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"employeeName",title:this.$t("general.employee_name"),style:{flex:1}},{name:"leaveType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"leaveBalance",title:this.$t("leave.leave_balance_days"),style:{flex:1}},{name:"days",title:this.$t("leave.number_of_days"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comment",title:this.$t("general.comments"),style:{flex:"5%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer,style:{flex:this.myLeaveList?"10%":"20%"}}],showCommentModal:!1,commentModalState:null,bulkActionModalState:null}},beforeMount:function(){var e=this;this.isLoading=!0,0===this.filters.statuses.length&&(this.filters.statuses=this.myLeaveList?this.leaveStatuses:this.leaveStatuses.filter((function(e){return 1===e.id}))),this.http.request({method:"GET",url:"api/v2/leave/leave-periods"}).then((function(t){var n,o,a,r,l,c,i=t.data,u=i.data,d=i.meta;d.leavePeriodDefined?(e.filters.fromDate=null!==(n=e.filters.fromDate)&&void 0!==n?n:null===d||void 0===d?void 0:d.currentLeavePeriod.startDate,e.filters.toDate=null!==(o=e.filters.toDate)&&void 0!==o?o:null===d||void 0===d?void 0:d.currentLeavePeriod.endDate):(e.filters.fromDate=null!==(a=e.filters.fromDate)&&void 0!==a?a:null===(r=u[0])||void 0===r?void 0:r.startDate,e.filters.toDate=null!==(l=e.filters.toDate)&&void 0!==l?l:null===(c=u[0])||void 0===c?void 0:c.endDate)})).finally((function(){e.isLoading=!1,Object.assign(eA,e.filters)}))},methods:{cellRenderer:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[3],r={},l=this.leaveActions,c=l.approve,i=l.reject,u=l.cancel,d=l.more,s=[{label:this.$t("general.add_comment"),context:"add_comment"},{label:this.$t("leave.view_leave_details"),context:"leave_details"},{label:this.$t("leave.view_pim_info"),context:"pim_details"}];return a.actions.map((function(t){"APPROVE"===t.action&&(c.props.label=e.$t("general.approve"),c.props.onClick=function(){return e.onLeaveAction(a.id,"APPROVE")},r.approve=c),"REJECT"===t.action&&(i.props.label=e.$t("general.reject"),i.props.onClick=function(){return e.onLeaveAction(a.id,"REJECT")},r.reject=i),"CANCEL"===t.action&&(e.myLeaveList?(u.props.label=e.$t("general.cancel"),u.props.onClick=function(){return e.onLeaveAction(a.id,"CANCEL")},r.reject=u):s.push({label:e.$t("leave.cancel_leave"),context:"cancel_leave"}))})),d.props.options=s,d.props.onClick=function(t){return e.onLeaveDropdownAction(t,a)},r.more=d,{props:{header:{cellConfig:r}}}},onLeaveDropdownAction:function(e,t){switch(e.context){case"add_comment":this.commentModalState=t.id,this.showCommentModal=!0;break;case"cancel_leave":this.onLeaveAction(t.id,"CANCEL");break;case"pim_details":Z("/pim/viewPersonalDetails/empNumber/{id}",{id:t.empNumber});break;default:Z("/leave/viewLeaveRequest/{id}",{id:t.id},this.myLeaveList&&{mode:"my-leave"})}},onLeaveAction:function(e,t){var n=this;this.isLoading=!0,this.processLeaveRequestAction(e,t).then((function(){n.$toast.updateSuccess()})).finally(this.resetDataTable)},onLeaveActionBulk:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,t.bulkActionModalState={count:t.checkedItems.length,action:e},o=t.checkedItems.map((function(e){return t.items.data[e].id})),n.next=5,t.$refs.bulkActionModal.showDialog();case 5:if(a=n.sent,"ok"===a){n.next=9;break}return t.isLoading=!1,n.abrupt("return");case 9:t.processLeaveRequestBulkAction(o,e).then((function(n){var o=n.data.data;Array.isArray(o)&&t.$toast.success({title:t.$t("general.success"),message:t.$t("leave.leave_requests_action",{action:e,count:o.length})})})).finally((function(){t.bulkActionModalState=null,t.resetDataTable()}));case 10:case"end":return n.stop()}}),n)})))()},onCommentModalClose:function(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onReset:function(){this.filters=Object(M["a"])({},eA),this.resetDataTable()}}};n("9a48");const nA=C()(tA,[["render",fS],["__scopeId","data-v-251469ca"]]);var oA=nA,aA={components:{"leave-list-table":oA,"employee-autocomplete":Zo,"oxd-switch-input":Pa["a"],"leave-type-dropdown":T_},props:{subunits:{type:Array,default:function(){return[]}},leaveStatuses:{type:Array,default:function(){return[]}}}};n("ac57");const rA=C()(aA,[["render",iS],["__scopeId","data-v-8d1a2ee2"]]);var lA=rA,cA=function(e){return Object(o["pushScopeId"])("data-v-4c61a1bb"),e=e(),Object(o["popScopeId"])(),e},iA={class:"orangehrm-background-container"},uA={class:"orangehrm-paper-container"},dA={class:"orangehrm-header-container"},sA=cA((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),mA={class:"orangehrm-horizontal-padding"},bA=cA((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),pA={class:"orangehrm-container"},fA={class:"orangehrm-bottom-container"};function hA(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("table-header"),b=Object(o["resolveComponent"])("oxd-card-table"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-pagination"),h=Object(o["resolveComponent"])("leave-comment-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",iA,[Object(o["createElementVNode"])("div",uA,[Object(o["createElementVNode"])("div",dA,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.myLeaveRequest?e.$t("leave.my_leave_request_details"):e.$t("leave.leave_request_details")),1)]})),_:1})]),Object(o["createVNode"])(i,{class:"orangehrm-horizontal-margin orangehrm-clear-margins"}),sA,Object(o["createElementVNode"])("div",mA,[Object(o["createVNode"])(s,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("general.employee_name")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-request-details-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.employeeName),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("leave.requested_for")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-request-details-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.leavePeriod),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]),bA,Object(o["createVNode"])(m,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",pA,[Object(o["createVNode"])(b,{headers:r.headers,items:a.response&&a.response.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",fA,[Object(o["createElementVNode"])("span",null,[Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.back"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(p,{class:"orangehrm-left-space","display-type":"secondary","icon-name":"chat-right-text-fill",label:e.$t("general.comments"),onClick:l.onClickComments},null,8,["label","onClick"])]),a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])]),r.showCommentModal?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,id:r.commentModalState,"leave-request":r.isLeaveRequest,onClose:l.onCommentModalClose},null,8,["id","leave-request","onClose"])):Object(o["createCommentVNode"])("",!0)],64)}var jA={name:"LeaveViewRequest",components:{"leave-comment-modal":PS},props:{leaveRequestId:{type:String,required:!0},myLeaveRequest:{type:Boolean,default:!1}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/leave/leave-requests/".concat(e.leaveRequestId,"/leaves")),n=CS(t),o=n.leaveActions,a=n.processLeaveAction,r=Je(),l=r.$t,c=de(),i=c.jsDateFormat,u=Xe(),d=u.locale,s=ea(),m=s.$tEmpName,b=function(e){return e.map((function(e){var t,n,o,a,r,c,u,s,m="",b=null===(t=e.dates.durationType)||void 0===t?void 0:t.type;e.dates.fromDate&&(m=ke(_e(e.dates.fromDate),i,{locale:d})),e.dates.startTime&&e.dates.endTime&&(m+=" (".concat(e.dates.startTime," - ").concat(e.dates.endTime,")")),"half_day_morning"!==b&&"half_day_afternoon"!==b||(m+=" ".concat(l("leave.half_day")));var p=null===(n=e.leaveType)||void 0===n?void 0:n.name;return null!==(o=e.leaveType)&&void 0!==o&&o.deleted&&l("general.deleted"),{id:e.id,date:m,leaveType:p,leaveBalance:null!==(a=e.leaveBalance)&&void 0!==a&&a.balance.balance?parseFloat(e.leaveBalance.balance.balance).toFixed(2):void 0,duration:parseFloat(e.lengthHours).toFixed(2),status:null===(r=e.leaveStatus)||void 0===r?void 0:r.name,comment:hS(null===(c=e.lastComment)||void 0===c?void 0:c.comment),actions:e.allowedActions,canComment:!(5===(null===(u=e.leaveStatus)||void 0===u?void 0:u.id)||4===(null===(s=e.leaveStatus)||void 0===s?void 0:s.id))}}))},p=Kt(t,{normalizer:b}),f=p.showPaginator,h=p.currentPage,j=p.total,O=p.pages,v=p.pageSize,g=p.response,C=p.isLoading,y=p.execQuery;return{http:t,showPaginator:f,currentPage:h,isLoading:C,total:j,pages:O,pageSize:v,execQuery:y,response:g,leaveActions:o,processLeaveAction:a,jsDateFormat:i,locale:d,translateEmpName:m}},data:function(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"leaveType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"leaveBalance",title:this.$t("leave.leave_balance_days"),style:{flex:1}},{name:"duration",title:this.$t("attendance.duration_hours"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comment",title:this.$t("general.comments"),style:{flex:"10%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer,style:{flex:"20%"}}],showCommentModal:!1,commentModalState:null,isLeaveRequest:!1}},computed:{employeeName:function(){var e,t,n=null===(e=this.response)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.employee;return n?this.translateEmpName(n,{includeMiddle:!0,excludePastEmpTag:!1}):""},leavePeriod:function(){var e,t,n,o,a=ke(_e(null===(e=this.response)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.startDate),this.jsDateFormat,{locale:this.locale}),r=ke(_e(null===(n=this.response)||void 0===n||null===(o=n.meta)||void 0===o?void 0:o.endDate),this.jsDateFormat,{locale:this.locale});return a===r?a:"".concat(a," - ").concat(r)}},methods:{cellRenderer:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[3],r={},l=[],c=this.leaveActions,i=c.approve,u=c.reject,d=c.cancel,s=c.more;return a.canComment&&l.push({label:"Add Comment",context:"add_comment"}),a.actions.map((function(t){"APPROVE"===t.action&&(i.props.label=e.$t("general.approve"),i.props.onClick=function(){return e.onLeaveAction(a.id,"APPROVE")},r.approve=i),"REJECT"===t.action&&(u.props.label=e.$t("general.reject"),u.props.onClick=function(){return e.onLeaveAction(a.id,"REJECT")},r.reject=u),"CANCEL"===t.action&&(e.myLeaveRequest?(d.props.label=e.$t("general.cancel"),d.props.onClick=function(){return e.onLeaveAction(a.id,"CANCEL")},r.cancel=d):l.push({label:"Cancel Leave",context:"cancel_leave"}))})),l.length>0&&(s.props.options=l,s.props.onClick=function(t){return e.onLeaveDropdownAction(t,a)},r.more=s),{props:{header:{cellConfig:r}}}},onClickComments:function(){this.commentModalState=this.leaveRequestId,this.isLeaveRequest=!0,this.showCommentModal=!0},onCommentModalClose:function(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},onLeaveDropdownAction:function(e,t){"cancel_leave"===e.context?this.onLeaveAction(t.id,"CANCEL"):(this.commentModalState=t.id,this.isLeaveRequest=!1,this.showCommentModal=!0)},onLeaveAction:function(e,t){var n=this;this.isLoading=!0,this.processLeaveAction(e,t).then((function(){n.$toast.updateSuccess()})).finally(this.resetDataTable)},onClickBack:function(){this.myLeaveRequest?Z("/leave/viewMyLeaveList"):Z("/leave/viewLeaveList")},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};n("fe8f");const OA=C()(jA,[["render",hA],["__scopeId","data-v-4c61a1bb"]]);var vA=OA;function gA(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("date-input"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("leave-type-dropdown"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-table-filter"),v=Object(o["resolveComponent"])("leave-list-table");return Object(o["openBlock"])(),Object(o["createBlock"])(v,{"leave-statuses":n.leaveStatuses,"my-leave-list":!0},{default:Object(o["withCtx"])((function(t){var a=t.filters,r=t.filterItems,l=t.rules,v=t.onReset;return[Object(o["createVNode"])(O,{"filter-title":e.$t("leave.my_leave_list")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onSubmitValid:r,onReset:v},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.fromDate,"onUpdate:modelValue":function(e){return a.fromDate=e},label:e.$t("general.from_date"),rules:l.fromDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.toDate,"onUpdate:modelValue":function(e){return a.toDate=e},label:e.$t("general.to_date"),rules:l.toDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.statuses,"onUpdate:modelValue":function(e){return a.statuses=e},value:"Select",type:"multiselect",label:e.$t("leave.show_leave_with_status"),options:n.leaveStatuses,rules:l.statuses,required:""},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.leaveType,"onUpdate:modelValue":function(e){return a.leaveType=e},"eligible-only":!0,"include-allocated":!0},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(b),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(f,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid","onReset"])]})),_:2},1032,["filter-title"])]})),_:1},8,["leave-statuses"])}var CA={components:{"leave-list-table":oA,"leave-type-dropdown":T_},props:{leaveStatuses:{type:Array,default:function(){return[]}}}};const yA=C()(CA,[["render",gA]]);var VA=yA,wA=function(e){return Object(o["pushScopeId"])("data-v-b51e5d1a"),e=e(),Object(o["popScopeId"])(),e},xA=wA((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function DA(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-input-group"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("leave-type-dropdown"),b=Object(o["resolveComponent"])("leave-period-dropdown"),p=Object(o["resolveComponent"])("jobtitle-dropdown"),f=Object(o["resolveComponent"])("oxd-text"),h=Object(o["resolveComponent"])("oxd-switch-input"),j=Object(o["resolveComponent"])("employee-autocomplete"),O=Object(o["resolveComponent"])("oxd-divider"),v=Object(o["resolveComponent"])("required-text"),g=Object(o["resolveComponent"])("oxd-button"),C=Object(o["resolveComponent"])("oxd-form-actions"),y=Object(o["resolveComponent"])("oxd-form"),V=Object(o["resolveComponent"])("oxd-table-filter"),w=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(w,{module:"leave",name:a.filters.type,filters:a.serializedFilters,"column-count":6},{default:Object(o["withCtx"])((function(r){var l=r.generateReport;return[Object(o["createVNode"])(V,{"filter-title":e.$t("leave.leave_entitlement_and_usage_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{onSubmitValid:l},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:e.$t("leave.generate_for"),classes:{wrapper:"--grouped-field"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.type=e}),type:"radio","option-label":e.$t("leave.leave_type"),value:"leave_type_leave_entitlements_and_usage"},null,8,["modelValue","option-label"]),Object(o["createVNode"])(c,{modelValue:a.filters.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.type=e}),type:"radio","option-label":e.$t("general.employee"),value:"employee_leave_entitlements_and_usage"},null,8,["modelValue","option-label"])]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),"leave_type_leave_entitlements_and_usage"===a.filters.type?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.leaveType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.leaveType=e}),"empty-text":e.$t("leave.no_leave_types_defined"),"eligible-only":!1,"show-empty-selector":!1,rules:a.rules.leaveType},null,8,["modelValue","empty-text","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.leavePeriod,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.leavePeriod=e}),rules:a.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.location,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.location=e}),type:"select",label:e.$t("general.location"),options:n.locations},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.subunit,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.subunit=e}),type:"select",label:e.$t("general.sub_unit"),options:n.subunits},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:a.filters.jobTitle,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.filters.jobTitle=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-leave-filter --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{class:"orangehrm-leave-filter-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("leave.include_past_employees")),1)]})),_:1}),Object(o["createVNode"])(h,{modelValue:a.filters.includePastEmps,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.filters.includePastEmps=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:a.filters.employee,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.filters.employee=e}),rules:a.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.leavePeriod,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.filters.leavePeriod=e}),rules:a.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1})),Object(o["createVNode"])(O),Object(o["createVNode"])(C,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v),Object(o["createVNode"])(g,{type:"submit","display-type":"secondary",class:"orangehrm-left-space",label:e.$t("general.generate")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),xA]})),_:1},8,["name","filters"])}var NA={type:"leave_type_leave_entitlements_and_usage",employee:null,leavePeriod:null,leaveType:null,subunit:null,location:null,jobTitle:null,includePastEmps:!1},_A={components:{"reports-table":Wy,"oxd-switch-input":Pa["a"],"jobtitle-dropdown":bb,"leave-type-dropdown":T_,"leave-period-dropdown":$k,"employee-autocomplete":Zo},props:{locations:{type:Array,default:function(){return[]}},subunits:{type:Array,default:function(){return[]}},leavePeriod:{type:Object,required:!1,default:function(){return null}}},setup:function(e){var t=Object(o["ref"])(Object(M["a"])(Object(M["a"])({},NA),e.leavePeriod&&{leavePeriod:e.leavePeriod})),n=Object(o["ref"])({employee:[On,Kn],leavePeriod:[On],leaveType:[On]}),a=Object(o["computed"])((function(){var e,n,o,a,r,l,c,i,u;return"leave_type_leave_entitlements_and_usage"===t.value.type?{name:t.value.type,fromDate:null===(e=t.value.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(n=t.value.leavePeriod)||void 0===n?void 0:n.endDate,subunitId:null===(o=t.value.subunit)||void 0===o?void 0:o.id,leaveTypeId:null===(a=t.value.leaveType)||void 0===a?void 0:a.id,locationId:null===(r=t.value.location)||void 0===r?void 0:r.id,jobTitleId:null===(l=t.value.jobTitle)||void 0===l?void 0:l.id,includeEmployees:t.value.includePastEmps?"currentAndPast":"onlyCurrent"}:{name:t.value.type,empNumber:null===(c=t.value.employee)||void 0===c?void 0:c.id,fromDate:null===(i=t.value.leavePeriod)||void 0===i?void 0:i.startDate,toDate:null===(u=t.value.leavePeriod)||void 0===u?void 0:u.endDate}}));return{rules:n,filters:t,serializedFilters:a}}};n("a5cf");const kA=C()(_A,[["render",DA],["__scopeId","data-v-b51e5d1a"]]);var EA=kA,SA=Object(o["createElementVNode"])("br",null,null,-1);function AA(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("leave-period-dropdown"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(j,{module:"leave",name:"my_leave_entitlements_and_usage",prefetch:!0,filters:a.serializedFilters,"column-count":6},{default:Object(o["withCtx"])((function(n){var r=n.generateReport;return[Object(o["createVNode"])(h,{"filter-title":e.$t("leave.my_leave_entitlement_and_usage_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:r},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.leavePeriod,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.leavePeriod=e}),rules:a.rules.leavePeriod,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b,{type:"submit","display-type":"secondary",class:"orangehrm-left-space",label:e.$t("general.generate")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),SA]})),_:1},8,["filters"])}var $A={components:{"reports-table":Wy,"leave-period-dropdown":$k},props:{leavePeriod:{type:Object,required:!1,default:function(){return{}}}},setup:function(e){var t=Object(o["ref"])({leavePeriod:e.leavePeriod?e.leavePeriod:null}),n=Object(o["ref"])({leavePeriod:[On]}),a=Object(o["computed"])((function(){var e,n;return{fromDate:null===(e=t.value.leavePeriod)||void 0===e?void 0:e.startDate,toDate:null===(n=t.value.leavePeriod)||void 0===n?void 0:n.endDate}}));return{rules:n,filters:t,serializedFilters:a}}};const FA=C()($A,[["render",AA]]);var BA=FA,TA={"leave-period":TN,"leave-apply":__,"leave-assign":H_,"leave-type-edit":Ok,"leave-type-list":ok,"leave-type-save":Dk,"leave-add-entitlement":rE,"leave-edit-entitlement":mE,"leave-view-entitlement":DE,"leave-view-my-entitlement":EE,"work-week":IE,"holiday-list":WE,"holiday-save":eS,"holiday-edit":cS,"leave-list":lA,"leave-view-request":vA,"my-leave-list":VA,"leave-entitlement-report":EA,"my-leave-entitlement-report":BA},IA={class:"orangehrm-background-container"},LA={class:"orangehrm-paper-container"},UA={class:"orangehrm-header-container"},PA=Object(o["createTextVNode"])("OAuth Client List"),qA={class:"orangehrm-container"},RA={class:"orangehrm-bottom-container"};function MA(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("table-header"),s=Object(o["resolveComponent"])("oxd-card-table"),m=Object(o["resolveComponent"])("oxd-pagination"),b=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",IA,[Object(o["createElementVNode"])("div",LA,[Object(o["createElementVNode"])("div",UA,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[PA]})),_:1}),Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(u,{label:"Add","icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["onClick"])])]),Object(o["createVNode"])(d,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",qA,[Object(o["createVNode"])(s,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",RA,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(b,{ref:"deleteDialog"},null,512)])}var zA={components:{"delete-confirmation":rn},props:{unselectableClientIds:{type:Array,default:function(){return[]}}},setup:function(e){var t=function(t){return t.map((function(t){var n=e.unselectableClientIds.findIndex((function(e){return e===t.clientId}));return{clientId:t.clientId,clientSecret:t.clientSecret,redirectUri:t.redirectUri,isSelectable:-1===n,isDisabled:-1!==n}}))},n=new te(window.appGlobal.baseUrl,"/api/v2/admin/oauth-clients"),o=Kt(n,{normalizer:t}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.pageSize,u=o.response,d=o.isLoading,s=o.execQuery;return{http:n,showPaginator:a,currentPage:r,isLoading:d,total:l,pages:c,pageSize:i,execQuery:s,items:u}},data:function(){return{headers:[{name:"clientId",slot:"title",title:"ID",style:{flex:2}},{name:"clientSecret",title:"Secret",style:{flex:3}},{name:"redirectUri",title:"Redirect URI",style:{flex:3}},{name:"actions",title:"Actions",slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd:function(){Z("/admin/saveOAuthClient")},onClickEdit:function(e){Z("/admin/editOAuthClient",{},{clientId:e.clientId})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].clientId)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.clientId])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const GA=C()(zA,[["render",MA]]);var QA=GA,WA=function(e){return Object(o["pushScopeId"])("data-v-448a8c62"),e=e(),Object(o["popScopeId"])(),e},HA={class:"orangehrm-background-container"},JA={class:"orangehrm-card-container"},YA=Object(o["createTextVNode"])(" Add OAuth Client "),XA=Object(o["createTextVNode"])(" API Documentation: "),KA=WA((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://orangehrm.github.io/orangehrm-api-doc"}," https://orangehrm.github.io/orangehrm-api-doc ",-1)})),ZA=Object(o["createTextVNode"])(" PHP Sample App: "),e$=WA((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://github.com/orangehrm/api-sample-app-php"}," https://github.com/orangehrm/api-sample-app-php ",-1)}));function t$(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",HA,[Object(o["createElementVNode"])("div",JA,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[YA]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.oAuthClient.clientId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.oAuthClient.clientId=e}),label:"ID",rules:r.rules.clientId,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.oAuthClient.clientSecret,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.oAuthClient.clientSecret=e}),label:"Secret",rules:r.rules.clientSecret,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.oAuthClient.redirectUri,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.oAuthClient.redirectUri=e}),label:"Redirect URI",rules:r.rules.redirectUri},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"span",class:"orangehrm-link"},{default:Object(o["withCtx"])((function(){return[XA,KA]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"span",class:"orangehrm-link"},{default:Object(o["withCtx"])((function(){return[ZA,e$]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:"Cancel",onClick:l.onCancel},null,8,["onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var n$={clientId:"",clientSecret:"",redirectUri:""},o$={setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/oauth-clients");return{http:e}},data:function(){return{isLoading:!1,oAuthClient:Object(M["a"])({},n$),rules:{clientId:[On,vn(80)],clientSecret:[On,vn(80)],redirectUri:[vn(2e3)]}}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.clientId.push((function(e){var t=n.findIndex((function(t){return t.clientId==e}));return-1===t||"Already exists"}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/admin/registerOAuthClient")},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.oAuthClient)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))}}};n("a331");const a$=C()(o$,[["render",t$],["__scopeId","data-v-448a8c62"]]);var r$=a$,l$=function(e){return Object(o["pushScopeId"])("data-v-753d4c1d"),e=e(),Object(o["popScopeId"])(),e},c$={class:"orangehrm-background-container"},i$={class:"orangehrm-card-container"},u$=Object(o["createTextVNode"])(" Edit OAuth Client "),d$=Object(o["createTextVNode"])(" API Documentation: "),s$=l$((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://orangehrm.github.io/orangehrm-api-doc"}," https://orangehrm.github.io/orangehrm-api-doc ",-1)})),m$=Object(o["createTextVNode"])(" PHP Sample App: "),b$=l$((function(){return Object(o["createElementVNode"])("a",{class:"orangehrm-link-url",href:"https://github.com/orangehrm/api-sample-app-php"}," https://github.com/orangehrm/api-sample-app-php ",-1)}));function p$(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c$,[Object(o["createElementVNode"])("div",i$,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[u$]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{novalidate:"true",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.oAuthClient.clientId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.oAuthClient.clientId=e}),label:"ID",rules:r.rules.clientId,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.oAuthClient.clientSecret,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.oAuthClient.clientSecret=e}),label:"Secret",rules:r.rules.clientSecret,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.oAuthClient.redirectUri,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.oAuthClient.redirectUri=e}),label:"Redirect URI",rules:r.rules.redirectUri},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"span",class:"orangehrm-link"},{default:Object(o["withCtx"])((function(){return[d$,s$]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"span",class:"orangehrm-link"},{default:Object(o["withCtx"])((function(){return[m$,b$]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"ghost",label:"Cancel",onClick:l.onCancel},null,8,["onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var f$={clientId:"",clientSecret:"",redirectUri:""},h$={props:{oauthClientId:{type:String,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/admin/oauth-clients");return{http:e}},data:function(){return{isLoading:!1,oAuthClient:Object(M["a"])({},f$),rules:{clientId:[On,vn(80)],clientSecret:[On,vn(80)],redirectUri:[vn(2e3)]}}},created:function(){var e=this;this.isLoading=!0,this.http.request({method:"GET",url:"/api/v2/admin/oauth-client",params:{clientId:this.oauthClientId}}).then((function(t){var n=t.data.data;return e.oAuthClient.clientId=n.clientId,e.oAuthClient.clientSecret=n.clientSecret,e.oAuthClient.redirectUri=n.redirectUri,e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.clientId.push((function(t){var o=n.findIndex((function(e){return e.clientId===t}));if(o>-1){var a=n[o].clientId;return a===e.oauthClientId||"Already exists"}return!0}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/admin/registerOAuthClient")},onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",url:"/api/v2/admin/oauth-client",params:{clientId:this.oauthClientId},data:{clientId:this.oAuthClient.clientId,clientSecret:this.oAuthClient.clientSecret,redirectUri:this.oAuthClient.redirectUri}}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))}}};n("aad4");const j$=C()(h$,[["render",p$],["__scopeId","data-v-753d4c1d"]]);var O$=j$,v$={"oauth-client-list":QA,"oauth-client-save":r$,"oauth-client-edit":O$},g$={class:"orangehrm-background-container"},C$={class:"orangehrm-card-container"},y$={class:"orangehrm-paper-container"};function V$(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("record-attendance");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",g$,[Object(o["createElementVNode"])("div",C$,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.punch_in")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",y$,[Object(o["createVNode"])(u,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(e.$attrs)),null,16)])])])}function w$(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-input-group"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("date-input"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("timezone-dropdown"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createBlock"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[r.attendanceRecord.previousRecord?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(u,{class:Object(o["normalizeClass"])(r.attendanceRecord.previousRecord.note?"":"--span-column-2")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:e.$t("attendance.punched_in_time")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.previousAttendanceRecordDate)+" - "+Object(o["toDisplayString"])(r.attendanceRecord.previousRecord.userTime)+" ",1),Object(o["createVNode"])(c,{tag:"span",class:"orangehrm-attendance-punchedIn-timezone"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])("(GMT ".concat(r.previousRecordTimezone,")")),1)]})),_:1})]})),_:1})]})),_:1},8,["label"])]})),_:1},8,["class"]),r.attendanceRecord.previousRecord.note?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:e.$t("attendance.punched_in_note")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.attendanceRecord.previousRecord.note),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})):Object(o["createCommentVNode"])("",!0)],64)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{key:r.attendanceRecord.time,modelValue:r.attendanceRecord.date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attendanceRecord.date=e}),label:e.$t("general.date"),rules:r.rules.date,disabled:!n.isEditable,required:""},null,8,["modelValue","label","rules","disabled"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.attendanceRecord.time,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attendanceRecord.time=e}),label:e.$t("general.time"),disabled:!n.isEditable,rules:r.rules.time,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","disabled","rules","placeholder"])]})),_:1})]})),_:1})]})),_:1}),n.isTimezoneEditable?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,cols:2},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.attendanceRecord.timezone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.attendanceRecord.timezone=e}),required:""},null,8,["modelValue"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.attendanceRecord.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.attendanceRecord.note=e}),rules:r.rules.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{label:n.attendanceRecordId?e.$t("attendance.out"):e.$t("attendance.in")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])}function x$(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",options:a.options,label:e.$t("attendance.timezone"),"show-empty-selector":!1},null,8,["options","label"])}var D$={name:"TimezoneDropdown",setup:function(){var e=Object(o["ref"])([]),t=new te(window.appGlobal.baseUrl,"/api/v2/attendance/timezones");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.name,label:"(GMT".concat(e.label,") ").concat(e.name),_offset:parseFloat(e.offset)}}))}))})),{options:e}}};const N$=C()(D$,[["render",x$]]);var _$=N$,k$={date:null,time:null,note:null,timezone:null,previousRecord:null},E$={name:"RecordAttendance",components:{"timezone-dropdown":_$},props:{isEditable:{type:Boolean,default:!1},isTimezoneEditable:{type:Boolean,default:!1},attendanceRecordId:{type:Number,default:null},employeeId:{type:Number,default:null},date:{type:String,default:null}},setup:function(e){var t=e.employeeId?"/api/v2/attendance/employees/".concat(e.employeeId,"/records"):"/api/v2/attendance/records",n=new te(window.appGlobal.baseUrl,t),o=de(),a=o.jsDateFormat,r=o.userDateFormat,l=Xe(),c=l.locale;return{http:n,locale:c,jsDateFormat:a,userDateFormat:r}},data:function(){return{isLoading:!1,attendanceRecord:Object(M["a"])({},k$),rules:{date:[On,gn(this.userDateFormat),Object(ja["a"])(this.validateDate,500)],time:[On,Object(ja["a"])(this.validateDate,500)],note:[vn(250)]},previousRecordTimezone:null}},computed:{previousAttendanceRecordDate:function(){var e;return null!==(e=this.attendanceRecord)&&void 0!==e&&e.previousRecord?ke(_e(this.attendanceRecord.previousRecord.userDate),this.jsDateFormat,{locale:this.locale}):null}},beforeMount:function(){var e=this;if(this.isLoading=!0,this.isTimezoneEditable){var t=qe();this.attendanceRecord.timezone={id:t.name,label:t.label,_name:t.name,_offset:t.offset}}this.setCurrentDateTime().then((function(){!e.date&&!e.isEditable&&Ue(e.setCurrentDateTime,6e4);var t="/api/v2/attendance/records/latest";return e.employeeId&&(t="/api/v2/attendance/records/latest?empNumber=".concat(e.employeeId)),e.attendanceRecordId?e.http.request({method:"GET",url:t}):null})).then((function(t){if(t){var n=t.data.data;e.attendanceRecord.previousRecord=n.punchIn}})).then((function(){var t;e.previousRecordTimezone=Pe(null===(t=e.attendanceRecord.previousRecord)||void 0===t?void 0:t.offset)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e,t,n,o,a=this;this.isLoading=!0;var r=qe();this.http.request({method:this.attendanceRecordId?"PUT":"POST",data:{date:this.attendanceRecord.date,time:this.attendanceRecord.time,note:this.attendanceRecord.note,timezoneOffset:null!==(e=null===(t=this.attendanceRecord.timezone)||void 0===t?void 0:t._offset)&&void 0!==e?e:r.offset,timezoneName:null!==(n=null===(o=this.attendanceRecord.timezone)||void 0===o?void 0:o.id)&&void 0!==n?n:r.name}}).then((function(){return a.$toast.saveSuccess()})).then((function(){a.employeeId?Z("/attendance/viewAttendanceRecord",void 0,{employeeId:a.employeeId,date:a.date}):ee()}))},setCurrentDateTime:function(){var e=this;return new Promise((function(t,n){e.http.request({method:"GET",url:"/api/v2/attendance/current-datetime"}).then((function(n){var o,a=n.data.data,r=a.utcDate,l=a.utcTime,c=_e("".concat(r," ").concat(l," +00:00"),"yyyy-MM-dd HH:mm xxx");e.attendanceRecord.date=null!==(o=e.date)&&void 0!==o?o:ke(c,"yyyy-MM-dd"),e.attendanceRecord.time=ke(c,"HH:mm"),t()})).catch((function(e){return n(e)}))}))},validateDate:function(){var e=this;if(!this.attendanceRecord.date||!this.attendanceRecord.time)return!0;if(null===_e(this.attendanceRecord.date))return!0;var t=(new Date).getTimezoneOffset()/60*-1;return new Promise((function(n){var o,a;e.http.request({method:"GET",url:"/api/v2/attendance/".concat(e.attendanceRecordId?"punch-out":"punch-in","/overlaps"),params:{date:e.attendanceRecord.date,time:e.attendanceRecord.time,timezoneOffset:null!==(o=null===(a=e.attendanceRecord.timezone)||void 0===a?void 0:a._offset)&&void 0!==o?o:t,empNumber:e.employeeId},validateStatus:function(e){return e>=200&&e<300||400==e}}).then((function(t){var o=t.data,a=o.data,r=o.error;return r?n(r.message):!0===a.valid?n(!0):n(e.$t("attendance.overlapping_records_found"))}))}))}}};n("aa67");const S$=C()(E$,[["render",w$],["__scopeId","data-v-172580bb"]]);var A$=S$,$$={components:{"record-attendance":A$},inheritAttrs:!1};const F$=C()($$,[["render",V$]]);var B$=F$,T$={class:"orangehrm-background-container"},I$={class:"orangehrm-card-container"},L$={class:"orangehrm-paper-container"};function U$(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("record-attendance");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T$,[Object(o["createElementVNode"])("div",I$,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.punch_out")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",L$,[Object(o["createVNode"])(u,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(e.$attrs)),null,16)])])])}var P$={components:{"record-attendance":A$},inheritAttrs:!1};const q$=C()(P$,[["render",U$]]);var R$=q$,M$={class:"orangehrm-background-container"},z$={class:"orangehrm-card-container"},G$={class:"orangehrm-header"},Q$={class:"orangehrm-paper-container"};function W$(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("date-input"),s=Object(o["resolveComponent"])("oxd-input-field"),m=Object(o["resolveComponent"])("timezone-dropdown"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M$,[Object(o["createElementVNode"])("div",z$,[Object(o["createElementVNode"])("div",G$,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.edit_attendance_records")),1)]})),_:1}),l.totalDuration?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,tag:"span",class:"orangehrm-header-total"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(l.totalDuration),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",Q$,[Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid no-gap"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.punch_in")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.attendance.punchIn.userDate,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attendance.punchIn.userDate=e}),label:e.$t("general.date"),rules:r.rules.punchIn.userDate,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.attendance.punchIn.userTime,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attendance.punchIn.userTime=e}),label:e.$t("general.time"),rules:r.rules.punchIn.userTime,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),n.isTimezoneEditable?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"--offset-row-3 --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.attendance.punchIn.timezone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.attendance.punchIn.timezone=e}),required:""},null,8,["modelValue"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.attendance.punchIn.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.attendance.punchIn.note=e}),rules:r.rules.punchIn.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),r.attendance.punchOut?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"orangehrm-punch-out-record"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.punch_out")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.attendance.punchOut.userDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.attendance.punchOut.userDate=e}),label:e.$t("general.date"),rules:r.rules.punchOut.userDate,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.attendance.punchOut.userTime,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.attendance.punchOut.userTime=e}),label:e.$t("general.time"),rules:r.rules.punchOut.userTime,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),n.isTimezoneEditable?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"--offset-row-3 --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.attendance.punchOut.timezone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.attendance.punchOut.timezone=e}),required:""},null,8,["modelValue"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(u,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.attendance.punchOut.note,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.attendance.punchOut.note=e}),rules:r.rules.punchOut.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])])}var H$={userDate:null,userTime:null,utcDate:null,utcTime:null,note:null,timezone:null,timezoneOffset:null},J$={components:{"timezone-dropdown":_$},props:{attendanceId:{type:Number,required:!0},isEmployeeEdit:{type:Boolean,default:!1},isTimezoneEditable:{type:Boolean,default:!1}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/attendance/records"),t=de(),n=t.userDateFormat;return{http:e,userDateFormat:n}},data:function(){var e=this;return{isLoading:!1,attendance:{employee:null,punchIn:Object(M["a"])({},H$),punchOut:Object(M["a"])({},H$)},rules:{punchIn:{userDate:[On,gn(this.userDateFormat),Object(ja["a"])((function(){return e.validateRecord("punch-in-overlaps")}),500)],userTime:[On,Object(ja["a"])((function(){return e.validateRecord("punch-in-overlaps")}),500)],note:[vn(250)]},punchOut:{userDate:[On,gn(this.userDateFormat),Object(ja["a"])((function(){return e.validateRecord("punch-out-overlaps")}),500)],userTime:[On,Object(ja["a"])((function(){return e.validateRecord("punch-out-overlaps")}),500)],note:[vn(250)]}}}},computed:{totalDuration:function(){var e,t,n,o,a;if(null===(e=this.attendance.punchOut)||void 0===e||!e.userDate)return null;if(null===_e(this.attendance.punchIn.userDate)||null===_e(this.attendance.punchOut.userDate))return null;var r="".concat(this.attendance.punchIn.userDate," ").concat(this.attendance.punchIn.userTime),l=null!==(t=null===(n=this.attendance.punchIn.timezone)||void 0===n?void 0:n._offset)&&void 0!==t?t:parseFloat(this.attendance.punchIn.timezoneOffset),c=(l>0?" +":" -")+Ie(3600*Math.abs(l)),i="".concat(this.attendance.punchOut.userDate," ").concat(this.attendance.punchOut.userTime),u=null!==(o=null===(a=this.attendance.punchOut.timezone)||void 0===a?void 0:a._offset)&&void 0!==o?o:parseFloat(this.attendance.punchOut.timezoneOffset),d=(u>0?" +":" -")+Ie(3600*Math.abs(u));return parseFloat(Te(r+c,i+d,"yyyy-MM-dd HH:mm xxx")/3600).toFixed(2)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.attendanceId).then((function(t){var n,o=t.data.data;e.attendance.employee=o.employee,e.attendance.punchIn=Object(M["a"])(Object(M["a"])({},o.punchIn),{},{timezone:{id:o.punchIn.timezone.name,label:o.punchIn.timezone.label,_offset:o.punchIn.timezoneOffset}}),e.attendance.punchOut=null!==(n=o.punchOut)&&void 0!==n&&n.userDate?Object(M["a"])(Object(M["a"])({},o.punchOut),{},{timezone:{id:o.punchOut.timezone.name,label:o.punchOut.timezone.label,_offset:o.punchOut.timezoneOffset}}):null})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){var e,t,n;this.isEmployeeEdit?Z("/attendance/viewAttendanceRecord",void 0,{employeeId:null===(e=this.attendance.employee)||void 0===e?void 0:e.empNumber,date:null===(t=this.attendance.punchIn)||void 0===t?void 0:t.userDate}):Z("/attendance/viewMyAttendanceRecord",void 0,{date:null===(n=this.attendance.punchIn)||void 0===n?void 0:n.userDate})},onSave:function(){var e=this;this.isLoading=!0;var t=Object(M["a"])({punchInDate:this.attendance.punchIn.userDate,punchInTime:this.attendance.punchIn.userTime,punchInNote:this.attendance.punchIn.note},this.isTimezoneEditable&&{punchInOffset:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone._offset:this.attendance.punchIn.timezoneOffset,punchInTimezoneName:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone.id:this.attendance.punchIn.timezone.name});this.attendance.punchOut&&(t.punchOutDate=this.attendance.punchOut.userDate,t.punchOutTime=this.attendance.punchOut.userTime,t.punchOutNote=this.attendance.punchOut.note,this.isTimezoneEditable&&(t.punchOutOffset=this.attendance.punchOut.timezone?this.attendance.punchOut.timezone._offset:this.attendance.punchOut.timezoneOffset,t.punchOutTimezoneName=this.attendance.punchOut.timezone?this.attendance.punchOut.timezone.id:this.attendance.punchOut.timezone.name)),this.http.update(this.attendanceId,t).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))},validateRecord:function(e){var t=this;return null===_e(this.attendance.punchIn.userDate)||(!(!this.attendance.punchOut||null!==_e(this.attendance.punchOut.userDate))||new Promise((function(n){var o,a,r,l;t.http.request({method:"GET",url:"api/v2/attendance/records/".concat(e),params:{recordId:t.attendanceId,punchInTimezoneOffset:t.attendance.punchIn.timezone?t.attendance.punchIn.timezone._offset:t.attendance.punchIn.timezoneOffset,punchInDate:t.attendance.punchIn.userDate,punchInTime:t.attendance.punchIn.userTime,punchOutTimezoneOffset:null!==(o=t.attendance.punchOut)&&void 0!==o&&o.timezone?t.attendance.punchOut.timezone._offset:null===(a=t.attendance.punchOut)||void 0===a?void 0:a.timezoneOffset,punchOutDate:null===(r=t.attendance.punchOut)||void 0===r?void 0:r.userDate,punchOutTime:null===(l=t.attendance.punchOut)||void 0===l?void 0:l.userTime},validateStatus:function(e){return e>=200&&e<300||400==e}}).then((function(e){var o=e.data,a=o.data,r=o.error;return r?n(r.message):!0===a.valid?n(!0):n(t.$t("attendance.overlapping_records_found"))}))})))}}};n("06e3");const Y$=C()(J$,[["render",W$],["__scopeId","data-v-294edf08"]]);var X$=Y$,K$=function(e){return Object(o["pushScopeId"])("data-v-a86e6d96"),e=e(),Object(o["popScopeId"])(),e},Z$=K$((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),eF={class:"orangehrm-paper-container"},tF={class:"orangehrm-header-container"},nF={class:"orangehrm-container"},oF={class:"orangehrm-bottom-container"};function aF(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("date-input"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("oxd-table-filter"),O=Object(o["resolveComponent"])("oxd-text"),v=Object(o["resolveComponent"])("table-header"),g=Object(o["resolveComponent"])("oxd-card-table"),C=Object(o["resolveComponent"])("oxd-pagination"),y=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(j,{"filter-title":e.$t("attendance.my_attendance_records")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.date=e}),rules:a.rules.date,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),Z$,Object(o["createElementVNode"])("div",eF,[Object(o["createElementVNode"])("div",tF,[Object(o["createVNode"])(O,{class:"orangehrm-header-total",tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(a.totalDuration),1)]})),_:1})]),Object(o["createVNode"])(v,{total:a.total,loading:a.isLoading,selected:r.checkedItems.length,onDelete:l.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),Object(o["createElementVNode"])("div",nF,[Object(o["createVNode"])(g,{selected:r.checkedItems,"onUpdate:selected":t[1]||(t[1]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:n.isEditable,clickable:!1,loading:a.isLoading,class:"orangehrm-my-attendance","row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(o["createElementVNode"])("div",oF,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,current:a.currentPage,"onUpdate:current":t[2]||(t[2]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(y,{ref:"deleteDialog"},null,512)])],64)}var rF={class:"oxd-table-card-cell"},lF={class:"data"};function cF(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",rF,[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"header"},Object(o["toDisplayString"])(n.header.title),513),[[o["vShow"],l.showHeader]]),Object(o["createElementVNode"])("div",lF,[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.date)+" "+Object(o["toDisplayString"])(n.time)+" ",1),Object(o["createVNode"])(c,{tag:"span",class:"timezone"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(" GMT "+Object(o["toDisplayString"])(n.offset?n.offset:"00:00"),1)]})),_:1})]})),_:1})])],512)),[[o["vShow"],n.date]])}var iF={name:"RecordCell",inject:["screenState"],props:{header:{type:Object,required:!0},date:{type:String,default:null},time:{type:String,default:null},offset:{type:String,default:null}},computed:{showHeader:function(){return!("lg"===this.screenState.screenType||"xl"===this.screenState.screenType)}}};n("f94a");const uF=C()(iF,[["render",cF],["__scopeId","data-v-1a8693ce"]]);var dF=uF,sF={components:{"delete-confirmation":rn},props:{date:{type:String,default:null},isEditable:{type:Boolean,default:!1}},setup:function(e){var t=Xe(),n=t.locale,a=de(),r=a.jsDateFormat,l=a.userDateFormat,c={date:[On,gn(l)]},i=Object(o["ref"])({date:e.date?e.date:ke(Ne(),"yyyy-MM-dd")}),u=Object(o["computed"])((function(){return{date:i.value.date}})),d=new te(window.appGlobal.baseUrl,"api/v2/attendance/records"),s=function(e){return e.map((function(e){var t=e.punchIn,o=e.punchOut,a=ke(_e(null===t||void 0===t?void 0:t.userDate),r,{locale:n}),l=ke(_e(null===o||void 0===o?void 0:o.userDate),r,{locale:n});return{id:e.id,punchIn:Object(M["a"])(Object(M["a"])({},t),{},{userDate:a}),punchOut:Object(M["a"])(Object(M["a"])({},o),{},{userDate:l}),punchInNote:t.note,punchOutNote:o.note,duration:e.duration}}))},m=Kt(d,{query:u,normalizer:s}),b=m.total,p=m.pages,f=m.pageSize,h=m.response,j=m.isLoading,O=m.execQuery,v=m.currentPage,g=m.showPaginator,C=Object(o["computed"])((function(){var e,t=null===(e=h.value)||void 0===e?void 0:e.meta;return t?t.sum.label:"0.00"}));return{http:d,rules:c,total:b,pages:p,filters:i,pageSize:f,isLoading:j,execQuery:O,currentPage:v,showPaginator:g,items:h,totalDuration:C}},data:function(){return{headers:[{name:"punchIn",slot:"title",title:this.$t("attendance.punch_in"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchInNote",slot:"title",title:this.$t("attendance.punch_in_note"),style:{flex:1}},{name:"punchOut",slot:"title",title:this.$t("attendance.punch_out"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchOutNote",slot:"title",title:this.$t("attendance.punch_out_note"),style:{flex:1}},{name:"duration",slot:"title",title:this.$t("attendance.duration_hours"),style:{flex:1}},Object(M["a"])({},this.isEditable&&{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}})],checkedItems:[]}},methods:{cellRenderer:function(){var e=arguments.length<=1?void 0:arguments[1];return{component:dF,props:{date:e.userDate,time:e.userTime,offset:Pe(e.offset)}}},onClickEdit:function(e){Z("/attendance/editAttendanceRecord/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()}}};n("ca45");const mF=C()(sF,[["render",aF],["__scopeId","data-v-a86e6d96"]]);var bF=mF,pF={class:"orangehrm-background-container"},fF={class:"orangehrm-card-container"},hF={class:"orangehrm-attendance-field-row"},jF={class:"orangehrm-attendance-field-row"},OF={class:"orangehrm-attendance-field-row"};function vF(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-switch-input"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("submit-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pF,[Object(o["createElementVNode"])("div",fF,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.attendance_configuration")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",hF,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.employee_can_change_current_time_when_punching_in_out")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.config.canUserChangeCurrentTime,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.config.canUserChangeCurrentTime=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",jF,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.employee_can_edit_delete_own_attendance_records")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.config.canUserModifyAttendance,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.config.canUserModifyAttendance=e})},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",OF,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-attendance-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("attendance.supervisor_can_add_edit_delete_attendance_records_of_subordinates")),1)]})),_:1}),Object(o["createVNode"])(u,{modelValue:r.config.canSupervisorModifyAttendance,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.config.canSupervisorModifyAttendance=e})},null,8,["modelValue"])])]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var gF={canUserChangeCurrentTime:!1,canUserModifyAttendance:!1,canSupervisorModifyAttendance:!1},CF={components:{"oxd-switch-input":Pa["a"]},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/attendance/configs");return{http:e}},data:function(){return{config:Object(M["a"])({},gF),isLoading:!1}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.config=Object(M["a"])({},n)})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:Object(M["a"])({},this.config)}).then((function(t){var n=t.data.data;return e.config=Object(M["a"])({},n),e.$toast.saveSuccess()})).finally((function(){e.isLoading=!1}))}}};n("375e");const yF=C()(CF,[["render",vF],["__scopeId","data-v-ac0e6dbc"]]);var VF=yF,wF=Object(o["createElementVNode"])("br",null,null,-1);function xF(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("jobtitle-dropdown"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("employment-status-dropdown"),m=Object(o["resolveComponent"])("date-input"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-table-filter"),g=Object(o["resolveComponent"])("reports-table");return Object(o["openBlock"])(),Object(o["createBlock"])(g,{module:"time",name:"attendance",prefetch:!1,filters:a.serializedFilters,"column-count":2},{default:Object(o["withCtx"])((function(r){var l=r.generateReport;return[Object(o["createVNode"])(v,{"filter-title":e.$t("attendance.attendance_total_summary_report")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSubmitValid:l},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),rules:a.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:a.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.jobTitle=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.subunit,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.subunit=e}),type:"select",label:e.$t("general.sub_unit"),options:n.subunits},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.empStatus,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.empStatus=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.fromDate=e}),placeholder:e.$t("general.from"),rules:a.rules.fromDate,label:e.$t("general.date_range")},null,8,["modelValue","placeholder","rules","label"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.toDate=e}),label:"",placeholder:e.$t("general.to"),rules:a.rules.toDate},null,8,["modelValue","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])]})),_:1})]})),_:2},1032,["onSubmitValid"])]})),_:2},1032,["filter-title"]),wF]})),footer:Object(o["withCtx"])((function(t){var n=t.data;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(n.meta?n.meta.sum.label:"0.00"),1)]})),_:1},8,["filters"])}var DF={employee:null,fromDate:null,toDate:null,jobTitle:null,subunit:null,empStatus:null},NF={components:{"reports-table":Wy,"jobtitle-dropdown":bb,"employee-autocomplete":Zo,"employment-status-dropdown":Cb},props:{subunits:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(o["ref"])(Object(M["a"])({},DF)),t=Je(),n=t.$t,a=de(),r=a.userDateFormat,l={fromDate:[gn(r),Pn((function(){return e.value.toDate}),n("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[gn(r),Sn((function(){return e.value.fromDate}),n("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],employee:[Kn]},c=Object(o["computed"])((function(){var t,n,o,a;return{empNumber:null===(t=e.value.employee)||void 0===t?void 0:t.id,fromDate:e.value.fromDate,toDate:e.value.toDate,jobTitleId:null===(n=e.value.jobTitle)||void 0===n?void 0:n.id,subunitId:null===(o=e.value.subunit)||void 0===o?void 0:o.id,employmentStatusId:null===(a=e.value.empStatus)||void 0===a?void 0:a.id}}));return{rules:l,filters:e,serializedFilters:c}}};const _F=C()(NF,[["render",xF]]);var kF=_F,EF=function(e){return Object(o["pushScopeId"])("data-v-ebaa4ae4"),e=e(),Object(o["popScopeId"])(),e},SF=EF((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),AF={class:"orangehrm-paper-container"},$F={class:"orangehrm-container"},FF={class:"orangehrm-bottom-container"};function BF(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("date-input"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-table-filter"),v=Object(o["resolveComponent"])("table-header"),g=Object(o["resolveComponent"])("oxd-card-table"),C=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(O,{"filter-title":e.$t("attendance.employee_attendance_records")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.date=e}),rules:a.rules.date,years:r.yearArray,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","years","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),SF,Object(o["createElementVNode"])("div",AF,[Object(o["createVNode"])(v,{total:a.total,selected:0,loading:a.isLoading,"show-divider":!1},null,8,["total","loading"]),Object(o["createElementVNode"])("div",$F,[Object(o["createVNode"])(g,{headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",FF,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,current:a.currentPage,"onUpdate:current":t[2]||(t[2]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])],64)}var TF={components:{"employee-autocomplete":Zo},props:{date:{type:String,default:null}},setup:function(e){var t=ea(),n=t.$tEmpName,a=de(),r=a.userDateFormat,l={date:[On,gn(r)]},c=Object(o["ref"])({date:e.date?e.date:ke(Ne(),"yyyy-MM-dd"),employee:null}),i=Object(o["computed"])((function(){var e;return{date:c.value.date,empNumber:null===(e=c.value.employee)||void 0===e?void 0:e.id}})),u=function(e){return e.map((function(e){var t;return{id:e.empNumber,empName:n(e,{includeMiddle:!1,excludePastEmpTag:!1}),duration:null===(t=e.sum)||void 0===t?void 0:t.label}}))},d=new te(window.appGlobal.baseUrl,"api/v2/attendance/employees/summary"),s=Kt(d,{query:i,normalizer:u}),m=s.total,b=s.pages,p=s.response,f=s.isLoading,h=s.execQuery,j=s.currentPage,O=s.showPaginator;return{http:d,rules:l,total:m,pages:b,filters:c,isLoading:f,execQuery:h,currentPage:j,showPaginator:O,items:p}},data:function(){return{yearArray:Object(iO["a"])(uO()),headers:[{name:"empName",slot:"title",title:this.$t("general.employee_name"),style:{flex:"40%"}},{name:"duration",title:this.$t("time.total_duration"),style:{flex:"40%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),style:{flex:"20%"},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{label:this.$t("general.view"),displayType:"text",size:"medium"}}}}]}},methods:{resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.filters.employee||!e.filters.date){t.next=2;break}return t.abrupt("return",Z("/attendance/viewAttendanceRecord",void 0,{employeeId:e.filters.employee.id,date:e.filters.date}));case 2:return t.next=4,e.execQuery();case 4:case"end":return t.stop()}}),t)})))()},onClickView:function(e){Z("/attendance/viewAttendanceRecord",void 0,{employeeId:e.id,date:this.filters.date})}}};n("89f7");const IF=C()(TF,[["render",BF],["__scopeId","data-v-ebaa4ae4"]]);var LF=IF,UF=Object(o["createElementVNode"])("br",null,null,-1),PF={class:"orangehrm-paper-container"},qF={key:0,class:"orangehrm-header-container"},RF={class:"orangehrm-container"},MF={class:"orangehrm-bottom-container"};function zF(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("date-input"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form"),O=Object(o["resolveComponent"])("oxd-table-filter"),v=Object(o["resolveComponent"])("oxd-text"),g=Object(o["resolveComponent"])("table-header"),C=Object(o["resolveComponent"])("oxd-card-table"),y=Object(o["resolveComponent"])("oxd-pagination"),V=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(O,{"filter-title":e.$t("attendance.employee_attendance_records")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{onSubmitValid:l.onClickView},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),rules:a.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.date=e}),rules:a.rules.date,years:r.yearArray,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","years","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),UF,Object(o["createElementVNode"])("div",PF,[n.isEditable&&a.filters.employee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",qF,[Object(o["createVNode"])(f,{"icon-name":"plus","display-type":"secondary",label:e.$t("general.add"),onClick:l.onClickAdd},null,8,["label","onClick"]),Object(o["createVNode"])(v,{class:"orangehrm-header-total",tag:"span"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("time.total_duration"))+": "+Object(o["toDisplayString"])(a.totalDuration),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(g,{total:a.total,loading:a.isLoading,"show-divider":n.isEditable,selected:r.checkedItems.length,onDelete:l.onClickDeleteSelected},null,8,["total","loading","show-divider","selected","onDelete"]),Object(o["createElementVNode"])("div",RF,[Object(o["createVNode"])(C,{selected:r.checkedItems,"onUpdate:selected":t[2]||(t[2]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:n.isEditable,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),Object(o["createElementVNode"])("div",MF,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(V,{ref:"deleteDialog"},null,512)])],64)}var GF={components:{"employee-autocomplete":Zo,"delete-confirmation":rn},props:{date:{type:String,default:null},employee:{type:Object,required:!0},isEditable:{type:Boolean,default:!1}},setup:function(e){var t=Object(o["ref"])({date:e.date?e.date:ke(Ne(),"yyyy-MM-dd"),employee:e.employee?{id:e.employee.empNumber,label:"".concat(e.employee.firstName," ").concat(e.employee.middleName," ").concat(e.employee.lastName),isPastEmployee:e.employee.terminationId}:null}),n=Object(o["computed"])((function(){var e;return{date:t.value.date,empNumber:null===(e=t.value.employee)||void 0===e?void 0:e.id}})),a=new te(window.appGlobal.baseUrl,"api/v2/attendance/employees/".concat(e.employee.empNumber,"/records")),r=Xe(),l=r.locale,c=de(),i=c.jsDateFormat,u=c.userDateFormat,d={date:[On,gn(u)],employee:[Kn]},s=function(e){return e.map((function(e){var t=e.punchIn,n=e.punchOut,o=ke(_e(null===t||void 0===t?void 0:t.userDate),i,{locale:l}),a=ke(_e(null===n||void 0===n?void 0:n.userDate),i,{locale:l});return{id:e.id,punchIn:Object(M["a"])(Object(M["a"])({},t),{},{userDate:o}),punchOut:Object(M["a"])(Object(M["a"])({},n),{},{userDate:a}),punchInNote:t.note,punchOutNote:n.note,duration:e.duration}}))},m=Kt(a,{query:n,normalizer:s,prefetch:!0}),b=m.total,p=m.pages,f=m.pageSize,h=m.response,j=m.isLoading,O=m.execQuery,v=m.currentPage,g=m.showPaginator,C=Object(o["computed"])((function(){var e,t=null===(e=h.value)||void 0===e?void 0:e.meta;return t?t.sum.label:"0.00"}));return{http:a,rules:d,total:b,pages:p,filters:t,pageSize:f,isLoading:j,execQuery:O,currentPage:v,showPaginator:g,items:h,totalDuration:C}},data:function(){return{yearArray:Object(iO["a"])(uO()),headers:[{name:"punchIn",slot:"title",title:this.$t("attendance.punch_in"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchInNote",slot:"title",title:this.$t("attendance.punch_in_note"),style:{flex:1}},{name:"punchOut",slot:"title",title:this.$t("attendance.punch_out"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchOutNote",slot:"title",title:this.$t("attendance.punch_out_note"),style:{flex:1}},{name:"duration",slot:"title",title:this.$t("attendance.duration_hours"),style:{flex:1}},Object(M["a"])({},this.isEditable&&{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}})],checkedItems:[]}},methods:{cellRenderer:function(){var e=arguments.length<=1?void 0:arguments[1];return{component:dF,props:{date:e.userDate,time:e.userTime,offset:Pe(e.offset)}}},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickView:function(){var e,t;return Z("/attendance/viewAttendanceRecord",void 0,{employeeId:null===(e=this.filters.employee)||void 0===e?void 0:e.id,date:null===(t=this.filters)||void 0===t?void 0:t.date})},onClickAdd:function(){var e,t;return Z("/attendance/proxyPunchInPunchOut",void 0,{employeeId:null===(e=this.filters.employee)||void 0===e?void 0:e.id,date:null===(t=this.filters)||void 0===t?void 0:t.date})},onClickEdit:function(e){return Z("/attendance/editEmployeeAttendanceRecord/{id}",{id:e.id})}}};const QF=C()(GF,[["render",zF]]);var WF=QF,HF={"attendance-punch-in":B$,"attendance-punch-out":R$,"edit-attendance":X$,"view-my-attendance":bF,"attendance-configuration":VF,"attendance-summary-report":kF,"view-employee-attendance-summary":LF,"view-employee-attendance-detailed":WF},JF={class:"orangehrm-background-container"},YF=Object(o["createElementVNode"])("br",null,null,-1),XF={key:1};function KF(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("purge-employee-records"),i=Object(o["resolveComponent"])("selected-employee"),u=Object(o["resolveComponent"])("maintenance-note"),d=Object(o["resolveComponent"])("purge-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",JF,[Object(o["createVNode"])(c,{"include-employees-param":"onlyPast","title-label":e.$t("maintenance.purge_employee_records"),"autocomplete-label":e.$t("maintenance.past_employee"),onSearch:l.onClickSearch},null,8,["title-label","autocomplete-label","onSearch"]),YF,r.showPurgeableEmployee?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,loading:r.isLoading,"selected-employee":r.selectedEmployee,"button-label":e.$t("maintenance.purge"),onSubmit:l.onClickPurge},null,8,["loading","selected-employee","button-label","onSubmit"])):Object(o["createCommentVNode"])("",!0),r.showPurgeableEmployee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("br",XF)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(u,{"instance-identifier":n.instanceIdentifier},null,8,["instance-identifier"]),Object(o["createVNode"])(d,{ref:"purgeDialog",title:e.$t("maintenance.purge_employee"),subtitle:e.$t("maintenance.purge_employee_warning"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("maintenance.yes_purge")},null,8,["title","subtitle","cancel-label","confirm-label"])])}var ZF={class:"orangehrm-card-container"},eB={class:"orangehrm-selected-employee"},tB={class:"orangehrm-selected-employee-imagesection"},nB={class:"orangehrm-selected-employee-image-wrapper"},oB={class:"orangehrm-selected-employee-image"},aB=["src"],rB={class:"orangehrm-selected-employee-content"};function lB(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("full-name-input"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-input-field"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ZF,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("maintenance.selected_employee")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{loading:n.loading,onSubmit:l.emitEmpNumber},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",eB,[Object(o["createElementVNode"])("div",tB,[Object(o["createElementVNode"])("div",nB,[Object(o["createElementVNode"])("div",oB,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:a.imgSrc},null,8,aB)])])]),Object(o["createElementVNode"])("div",rB,[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{"first-name":n.selectedEmployee.firstName,"middle-name":n.selectedEmployee.middleName,"last-name":n.selectedEmployee.lastName,rules:r.rules,"show-middle-name-placeholder":!1,disabled:""},null,8,["first-name","middle-name","last-name","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"model-value":n.selectedEmployee.employeeId,label:e.$t("general.employee_id"),rules:r.rules.employeeId,disabled:""},null,8,["model-value","label","rules"])]})),_:1})]})),_:1})]})),_:1})])]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{"display-type":"secondary",label:n.buttonLabel,type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmit"])])}var cB={name:"SelectedEmployee",components:{"full-name-input":Jm},props:{selectedEmployee:{type:Object,required:!0},buttonLabel:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["submit"],setup:function(e){var t=Object(o["computed"])((function(){return"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.selectedEmployee.empNumber)}));return{imgSrc:t}},data:function(){return{rules:{firstName:[vn(30)],middleName:[vn(30)],lastName:[vn(30)],employeeId:[vn(10)]}}},methods:{emitEmpNumber:function(){this.$emit("submit",this.selectedEmployee.empNumber)}}};n("d575");const iB=C()(cB,[["render",lB],["__scopeId","data-v-355d4afa"]]);var uB=iB,dB={class:"orangehrm-card-container"};function sB(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dB,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.titleLabel),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{onSubmit:l.emitEmployee},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employee=e}),rules:r.rules.employee,params:{includeEmployees:n.includeEmployeesParam},label:n.autocompleteLabel,required:""},null,8,["modelValue","rules","params","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmit"])])}var mB={name:"EmployeeRecords",components:{"required-text":F,"employee-autocomplete":Zo},props:{includeEmployeesParam:{type:String,required:!0},titleLabel:{type:String,required:!0},autocompleteLabel:{type:String,required:!0}},emits:["search"],data:function(){return{employee:null,rules:{employee:[On,Kn]}}},methods:{emitEmployee:function(){var e;this.$emit("search",null===(e=this.employee)||void 0===e?void 0:e._employee)}}};const bB=C()(mB,[["render",sB]]);var pB=bB,fB={class:"orangehrm-modal-header"},hB={class:"orangehrm-text-center-align"},jB={class:"orangehrm-modal-footer"};function OB(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"orangehrm-confirmation-dialog orangehrm-dialog-popup","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",fB,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.title),1)]})),_:1})]),Object(o["createElementVNode"])("div",hB,[Object(o["createVNode"])(c,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.subtitle),1)]})),_:1})]),Object(o["createElementVNode"])("div",jB,[Object(o["createVNode"])(i,{label:n.cancelLabel,"display-type":n.cancelButtonType,class:"orangehrm-button-margin",onClick:l.onCancel},null,8,["label","display-type","onClick"]),Object(o["createVNode"])(i,{"icon-name":n.icon,label:n.confirmLabel,"display-type":n.confirmButtonType,class:"orangehrm-button-margin",onClick:l.onConfirm},null,8,["icon-name","label","display-type","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var vB={components:{"oxd-dialog":oe["a"]},props:{title:{type:String,required:!0},subtitle:{type:String,required:!0},cancelLabel:{type:String,required:!0},confirmLabel:{type:String,required:!0},icon:{type:String,required:!1,default:""},confirmButtonType:{type:String,required:!1,default:"label-danger"},cancelButtonType:{type:String,required:!1,default:"text"}},data:function(){return{show:!1,reject:null,resolve:null}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("eafc");const gB=C()(vB,[["render",OB],["__scopeId","data-v-149abb74"]]);var CB=gB,yB={class:"orangehrm-maintenance-note"},VB={class:"orangehrm-maintenance-note-header"};function wB(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yB,[Object(o["createElementVNode"])("div",VB,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.note")),1)]})),_:1})]),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("maintenance.gdpr_note",{instanceIdentifier:n.instanceIdentifier})),1)]})),_:1})])}var xB={name:"MaintenanceNote",props:{instanceIdentifier:{type:String,required:!0}}};n("22a8");const DB=C()(xB,[["render",wB],["__scopeId","data-v-665404f0"]]);var NB=DB,_B={firstName:"",middleName:"",lastName:"",employeeId:"",empNumber:""},kB={name:"PurgeEmployee",components:{"purge-confirmation":CB,"purge-employee-records":pB,"selected-employee":uB,"maintenance-note":NB},props:{instanceIdentifier:{type:String,default:""}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/maintenance/purge");return{http:e}},data:function(){return{isLoading:!1,showPurgeableEmployee:!1,selectedEmployee:Object(M["a"])({},_B)}},methods:{onClickSearch:function(e){this.selectedEmployee=Object(M["a"])({},_B),e?(this.selectedEmployee=Object(M["a"])({},e),this.showPurgeableEmployee=!0):this.showPurgeableEmployee=!1},onClickPurge:function(e){var t=this;this.$refs.purgeDialog.showDialog().then((function(n){"ok"===n&&t.purgeEmployee(e)}))},purgeEmployee:function(e){var t=this;this.isLoading=!0,this.http.deleteAll({empNumber:e}).then((function(){return t.$toast.success({title:t.$t("general.success"),message:t.$t("maintenance.purge_success")})})).then((function(){t.showPurgeableEmployee=!1,t.selectedEmployee=Object(M["a"])({},_B),t.isLoading=!1,Z("/maintenance/purgeEmployee")}))}}};const EB=C()(kB,[["render",KF]]);var SB=EB,AB={class:"orangehrm-background-container"},$B=Object(o["createElementVNode"])("br",null,null,-1);function FB(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("selected-candidates"),i=Object(o["resolveComponent"])("maintenance-note"),u=Object(o["resolveComponent"])("purge-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",AB,[Object(o["createVNode"])(c,{loading:r.isLoading,onPurge:l.onClickPurge},null,8,["loading","onPurge"]),$B,Object(o["createVNode"])(i,{"instance-identifier":n.instanceIdentifier},null,8,["instance-identifier"]),Object(o["createVNode"])(u,{ref:"purgeDialog",title:e.$t("maintenance.purge_candidates"),subtitle:e.$t("maintenance.purge_candidates_warning"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("maintenance.yes_purge")},null,8,["title","subtitle","cancel-label","confirm-label"])])}var BB={key:0,class:"orangehrm-paper-container"},TB={class:"orangehrm-header-container"},IB={class:"orangehrm-container"},LB={class:"orangehrm-bottom-container"};function UB(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("purge-candidate-records"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("table-header"),d=Object(o["resolveComponent"])("oxd-card-table"),s=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,{onSearch:l.onClickSearch},null,8,["onSearch"]),a.vacancy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",BB,[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",TB,[Object(o["createVNode"])(i,{label:e.$t("maintenance.purge_all"),"display-type":"secondary",onClick:l.onClickPurge},null,8,["label","onClick"])],512),[[o["vShow"],a.total>0]]),Object(o["createVNode"])(u,{total:a.total,selected:0,"show-divider":a.total>0,loading:a.isLoading||n.loading},null,8,["total","show-divider","loading"]),Object(o["createElementVNode"])("div",IB,[Object(o["createVNode"])(d,{headers:r.headers,clickable:!1,selectable:!1,loading:a.isLoading||n.loading,items:a.items.data,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","loading","items"])]),Object(o["createElementVNode"])("div",LB,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])):Object(o["createCommentVNode"])("",!0)],64)}var PB={class:"orangehrm-card-container"};function qB(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("vacancy-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",PB,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("maintenance.purge_candidate_records")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,{onSubmitValid:t[1]||(t[1]=function(t){return e.$emit("search",r.vacancy.id)})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancy,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.vacancy=e}),rules:r.rules.vacancy,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{"display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1})])}function RB(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"autocomplete",label:e.$t("recruitment.vacancy"),clear:!1,"create-options":l.loadVacancies},{option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1)]})),_:1},8,["label","create-options"])}var MB={name:"VacancyAutocomplete",setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies");return{http:e}},methods:{loadVacancies:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll({name:e.trim()}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.id,label:e.name}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const zB=C()(MB,[["render",RB]]);var GB=zB,QB={name:"CandidateRecords",components:{"required-text":F,"vacancy-autocomplete":GB},emits:["search"],data:function(){return{vacancy:null,rules:{vacancy:[On,Kn]}}}};const WB=C()(QB,[["render",qB]]);var HB=WB,JB={name:"SelectedCandidates",components:{"purge-candidate-records":HB},props:{loading:{type:Boolean,default:!1}},emits:["purge"],setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/maintenance/candidates"),t=Object(o["ref"])(null),n=Xe(),a=n.locale,r=de(),l=r.jsDateFormat,c=ea(),i=c.$tEmpName,u=Object(o["computed"])((function(){return{vacancyId:t.value}})),d=function(e){return e.map((function(e){return{name:i({firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,terminationId:null},{includeMiddle:!0}),date:ke(_e(e.dateOfApplication),l,{locale:a}),status:e.status.label}}))},s=Kt(e,{prefetch:!1,query:u,normalizer:d}),m=s.total,b=s.pages,p=s.response,f=s.isLoading,h=s.currentPage,j=s.showPaginator,O=s.execQuery;return{http:e,total:m,pages:b,vacancy:t,isLoading:f,currentPage:h,showPaginator:j,items:p,execQuery:O}},data:function(){return{headers:[{name:"name",title:this.$t("recruitment.candidate_name"),style:{flex:"45%"}},{name:"date",title:this.$t("recruitment.date_of_application"),style:{flex:"45%"}},{name:"status",title:this.$t("general.status"),style:{flex:"10%"}}]}},methods:{onClickSearch:function(e){this.vacancy=e,this.execQuery()},onClickPurge:function(){this.vacancy&&this.$emit("purge",this.vacancy)}}};n("08f1");const YB=C()(JB,[["render",UB],["__scopeId","data-v-1d9c9e6e"]]);var XB=YB,KB={name:"PurgeCandidate",components:{"maintenance-note":NB,"purge-confirmation":CB,"selected-candidates":XB},props:{instanceIdentifier:{type:String,default:""}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/maintenance/candidates/purge");return{http:e}},data:function(){return{isLoading:!1}},methods:{onClickPurge:function(e){var t=this,n=e;this.$refs.purgeDialog.showDialog().then((function(e){"ok"===e&&t.purgeCandidates(n)}))},purgeCandidates:function(e){var t=this;this.isLoading=!0,this.http.deleteAll({vacancyId:e}).then((function(){return t.$toast.success({title:t.$t("general.success"),message:t.$t("maintenance.purge_success")})})).then((function(){ee()}))}}};const ZB=C()(KB,[["render",FB]]);var eT=ZB,tT=(n("841c"),{key:0,class:"orangehrm-background-container"}),nT={key:1};function oT(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-records"),i=Object(o["resolveComponent"])("selected-employee"),u=Object(o["resolveComponent"])("maintenance-note");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,{"title-label":e.$t("maintenance.download_personal_data"),"include-employees-param":"currentAndPast","autocomplete-label":e.$t("general.employee_name"),onSearch:l.search},null,8,["title-label","autocomplete-label","onSearch"]),r.employee?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tT,[Object(o["createVNode"])(i,{"button-label":e.$t("general.download"),"selected-employee":r.employee,onSubmit:l.downloadEmployeeData},null,8,["button-label","selected-employee","onSubmit"])])):Object(o["createCommentVNode"])("",!0),r.employee?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("br",nT)),Object(o["createVNode"])(u,{"instance-identifier":n.instanceIdentifier},null,8,["instance-identifier"])],64)}var aT={components:{"employee-records":pB,"selected-employee":uB,"maintenance-note":NB},props:{instanceIdentifier:{type:String,default:""}},data:function(){return{employee:null}},methods:{search:function(e){this.employee=e},downloadEmployeeData:function(e){var t="".concat(window.appGlobal.baseUrl,"/maintenance/accessEmployeeData/").concat(e);window.open(t,"_blank")}}};const rT=C()(aT,[["render",oT]]);var lT=rT,cT={"purge-employee":SB,"purge-candidate":eT,"access-employee-search":lT},iT=function(e){return Object(o["pushScopeId"])("data-v-68bf4320"),e=e(),Object(o["popScopeId"])(),e},uT={class:"orangehrm-background-container"},dT=iT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),sT={class:"orangehrm-paper-container"},mT={class:"orangehrm-header-container"},bT={class:"orangehrm-container"},pT={class:"orangehrm-bottom-container"};function fT(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("jobtitle-dropdown"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("vacancy-dropdown"),s=Object(o["resolveComponent"])("hiring-manager-dropdown"),m=Object(o["resolveComponent"])("oxd-input-field"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-table-filter"),g=Object(o["resolveComponent"])("table-header"),C=Object(o["resolveComponent"])("oxd-card-table"),y=Object(o["resolveComponent"])("oxd-pagination"),V=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",uT,[Object(o["createVNode"])(v,{"filter-title":a.$t("general.vacancies")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.jobTitleId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.jobTitleId=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.vacancyId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.vacancyId=e}),label:a.$t("recruitment.vacancy")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.hiringManagerId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.hiringManagerId=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.status,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.status=e}),type:"select",label:a.$t("general.status"),clear:!1,options:r.statusOptions},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{"display-type":"ghost",label:a.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(h,{class:"orangehrm-left-space","display-type":"secondary",label:a.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),dT,Object(o["createElementVNode"])("div",sT,[Object(o["createElementVNode"])("div",mT,[Object(o["createVNode"])(h,{label:a.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(g,{selected:r.checkedItems.length,loading:a.isLoading,total:a.total,onDelete:l.onClickDeleteSelected},null,8,["selected","loading","total","onDelete"]),Object(o["createElementVNode"])("div",bT,[Object(o["createVNode"])(C,{selected:r.checkedItems,"onUpdate:selected":t[4]||(t[4]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[5]||(t[5]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card",class:"orangehrm-vacancy-list"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",pT,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:0,current:a.currentPage,"onUpdate:current":t[6]||(t[6]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(V,{ref:"deleteDialog"},null,512)])}function hT(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("recruitment.vacancy"),options:a.options},null,8,["label","options"])}var jT={name:"VacancyDropdown",props:{status:{type:Boolean,required:!1,default:null},excludeInterviewers:{type:Boolean,required:!1,default:!1}},setup:function(e){var t=Object(o["ref"])([]),n=Je(),a=n.$t,r=new te(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies");return Object(o["onBeforeMount"])((function(){var n={model:"summary"};null!==e.status&&(n.status=e.status),n.excludeInterviewers=e.excludeInterviewers,r.getAll(n).then((function(e){var n=e.data;t.value=n.data.map((function(e){return{id:e.id,label:!1===e.status?"".concat(e.name," (").concat(a("general.closed"),")"):e.name}}))}))})),{options:t}}};const OT=C()(jT,[["render",hT]]);var vT=OT;function gT(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("recruitment.hiring_manager"),options:a.options},null,8,["label","options"])}var CT={name:"HiringManagerDropdown",setup:function(){var e=Object(o["ref"])([]),t=ea(),n=t.$tEmpName,a=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/hiring-managers");return Object(o["onBeforeMount"])((function(){a.getAll().then((function(t){var o=t.data;e.value=o.data.map((function(e){return{id:e.empNumber,label:n(e,{includeMiddle:!1,excludePastEmpTag:!1})}}))}))})),{options:e}}};const yT=C()(CT,[["render",gT]]);var VT=yT,wT={jobTitleId:null,hiringManagerId:null,vacancyId:null,status:null},xT={"vacancy.name":"ASC","vacancy.status":"DEFAULT","jobTitle.jobTitleName":"DEFAULT","hiringManager.lastName":"DEFAULT"},DT={name:"ViewJobVacancy",components:{"delete-confirmation":rn,"jobtitle-dropdown":bb,"vacancy-dropdown":vT,"hiring-manager-dropdown":VT},setup:function(){var e=Je(),t=e.$t,n=ea(),a=n.$tEmpName,r=Object(o["ref"])(Object(M["a"])({},wT)),l=ln({sortDefinition:xT}),c=l.sortDefinition,i=l.sortField,u=l.sortOrder,d=l.onSort,s=Object(o["computed"])((function(){var e,t,n,o;return{vacancyId:null===(e=r.value.vacancyId)||void 0===e?void 0:e.id,jobTitleId:null===(t=r.value.jobTitleId)||void 0===t?void 0:t.id,hiringManagerId:null===(n=r.value.hiringManagerId)||void 0===n?void 0:n.id,status:null===(o=r.value.status)||void 0===o?void 0:o.id,sortField:i.value,sortOrder:u.value,model:"detailed"}})),m=function(e){return e.map((function(e){var n,o;return{id:e.id,vacancy:e.name,jobTitle:null!==(n=e.jobTitle)&&void 0!==n&&n.isDeleted?e.jobTitle.title+t("general.deleted"):null===(o=e.jobTitle)||void 0===o?void 0:o.title,hiringManager:a(e.hiringManager),status:e.status?t("general.active"):t("general.closed")}}))},b=new te(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies"),p=Kt(b,{query:s,normalizer:m}),f=p.showPaginator,h=p.currentPage,j=p.total,O=p.pages,v=p.pageSize,g=p.response,C=p.isLoading,y=p.execQuery;return d(y),{http:b,showPaginator:f,currentPage:h,isLoading:C,total:j,pages:O,pageSize:v,execQuery:y,items:g,filters:r,sortDefinition:c,$t:t}},data:function(){return{headers:[{name:"vacancy",slot:"title",title:this.$t("recruitment.vacancy"),sortField:"vacancy.name",style:{flex:3}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:3}},{name:"hiringManager",title:this.$t("recruitment.hiring_manager"),sortField:"hiringManager.lastName",style:{flex:3}},{name:"status",title:this.$t("general.status"),sortField:"vacancy.status",style:{flex:2}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:2},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],statusOptions:[{id:!0,param:"active",label:this.$t("general.active")},{id:!1,param:"closed",label:this.$t("general.closed")}],vacancies:[],checkedItems:[]}},methods:{onClickAdd:function(){Z("/recruitment/addJobVacancy")},onClickEdit:function(e){Z("/recruitment/addJobVacancy/{id}",{id:e.id})},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteData([e.id])}))},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteData(t)}))},deleteData:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e instanceof Array&&(t.isLoading=!0,t.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})));case 1:case"end":return n.stop()}}),n)})))()},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickReset:function(){this.filters=Object(M["a"])({},wT),this.filterItems()}}};n("b1a8");const NT=C()(DT,[["render",fT],["__scopeId","data-v-68bf4320"]]);var _T=NT,kT=function(e){return Object(o["pushScopeId"])("data-v-96709e38"),e=e(),Object(o["popScopeId"])(),e},ET={class:"orangehrm-background-container"},ST={class:"orangehrm-card-container"},AT=kT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),$T=kT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),FT={class:"orangehrm-vacancy-links"},BT=kT((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function TT(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("jobtitle-dropdown"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("employee-autocomplete"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("vacancy-link-card"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ET,[Object(o["createElementVNode"])("div",ST,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.add_vacancy")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancy.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.vacancy.name=e}),label:e.$t("recruitment.vacancy_name"),required:"",rules:r.rules.name},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.vacancy.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.vacancy.jobTitle=e}),rules:r.rules.jobTitle,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-grid-item-span-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancy.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.vacancy.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.vacancy.hiringManager,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.vacancy.hiringManager=e}),params:{includeEmployees:"onlyCurrent"},required:"",rules:r.rules.hiringManager,label:e.$t("recruitment.hiring_manager")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancy.numOfPositions,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.vacancy.numOfPositions=e}),label:e.$t("recruitment.num_of_positions"),rules:r.rules.numOfPositions},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangerhrm-switch-wrapper"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.active")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.vacancy.status,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.vacancy.status=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),AT,Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangerhrm-switch-wrapper"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.publish_in_rss_feed_and_web_page")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.vacancy.isPublished,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.vacancy.isPublished=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),$T,Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-grid-item-span-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",FT,[Object(o["createVNode"])(f,{label:e.$t("recruitment.rss_feed_url"),url:r.rssFeedUrl},null,8,["label","url"]),Object(o["createVNode"])(f,{label:e.$t("recruitment.web_page_url"),url:r.webUrl},null,8,["label","url"])])]})),_:1})]})),_:1}),BT,Object(o["createVNode"])(i),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var IT={class:"orangehrm-label-link-wrapper"},LT=["href"];function UT(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",IT,[Object(o["createVNode"])(c,{class:"orangehrm-text-label",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.label)+" : ",1)]})),_:1}),Object(o["createElementVNode"])("a",{href:n.url,target:"_blank",class:"orangehrm-vacancy-link"},Object(o["toDisplayString"])(n.url),9,LT)])}var PT={name:"VacancyLinkCard",props:{label:{type:String,required:!0},url:{type:String,required:!0}}};n("bdf9");const qT=C()(PT,[["render",UT],["__scopeId","data-v-7a7e694e"]]);var RT=qT,MT={jobTitle:null,name:"",hiringManager:null,numOfPositions:"",description:"",status:!0,isPublished:!0},zT="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.appGlobal.baseUrl),GT={components:{"oxd-switch-input":Pa["a"],"employee-autocomplete":Zo,"jobtitle-dropdown":bb,"vacancy-link-card":RT},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies");return{http:e}},data:function(){return{isLoading:!1,vacancy:Object(M["a"])({},MT),rules:{jobTitle:[On],name:[On,vn(50)],hiringManager:[On,Kn],numOfPositions:[function(e){return null===e||""===e||("string"===typeof xn(e)?xn(e):Qn(1,99)(e))}],description:[],status:[On],isPublished:[On]},rssFeedUrl:"".concat(zT,"/recruitmentApply/jobs.rss"),webUrl:"".concat(zT,"/recruitmentApply/jobs.html")}},created:function(){var e=this;this.isLoading=!0,this.http.getAll({limit:0}).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(e){return e.name==t}));return-1===o||e.$t("general.already_exists")}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/recruitment/viewJobVacancy")},onSave:function(){var e=this;this.isLoading=!0,this.vacancy={name:this.vacancy.name,jobTitleId:this.vacancy.jobTitle.id,employeeId:this.vacancy.hiringManager.id,numOfPositions:this.vacancy.numOfPositions?parseInt(this.vacancy.numOfPositions):null,description:this.vacancy.description,status:this.vacancy.status,isPublished:this.vacancy.isPublished},this.http.create(Object(M["a"])({},this.vacancy)).then((function(t){var n=t.data.data;e.$toast.saveSuccess(),Z("/recruitment/addJobVacancy/{id}",{id:n.id})}))}}};n("7911");const QT=C()(GT,[["render",TT],["__scopeId","data-v-96709e38"]]);var WT=QT,HT=function(e){return Object(o["pushScopeId"])("data-v-a7de05fa"),e=e(),Object(o["popScopeId"])(),e},JT={class:"orangehrm-background-container"},YT={class:"orangehrm-card-container"},XT=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),KT=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),ZT={class:"orangehrm-vacancy-links"},eI=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),tI=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),nI={key:0,class:"orangehrm-card-container"},oI=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),aI={key:1,class:"orangehrm-card-container"},rI=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),lI=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),cI={class:"orangehrm-paper-container"},iI={class:"orangehrm-header-container orangehrm-attachment-header"},uI={class:"orangehrm-container"},dI=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),sI=HT((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function mI(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("jobtitle-dropdown"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("employee-autocomplete"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("vacancy-link-card"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("submit-button"),v=Object(o["resolveComponent"])("oxd-form-actions"),g=Object(o["resolveComponent"])("oxd-form"),C=Object(o["resolveComponent"])("file-upload-input"),y=Object(o["resolveComponent"])("table-header"),V=Object(o["resolveComponent"])("oxd-card-table"),w=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",JT,[Object(o["createElementVNode"])("div",YT,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.edit_vacancy")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,{novalidate:"true",loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancy.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.vacancy.name=e}),label:e.$t("recruitment.vacancy_name"),required:"",rules:r.rules.name},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.vacancy.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.vacancy.jobTitle=e}),rules:r.rules.jobTitle,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-grid-item-span-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancy.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.vacancy.description=e}),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:r.rules.description},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.vacancy.hiringManager,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.vacancy.hiringManager=e}),params:{includeEmployees:"onlyCurrent"},required:"",rules:r.rules.hiringManager,label:e.$t("recruitment.hiring_manager")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancy.numOfPositions,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.vacancy.numOfPositions=e}),label:e.$t("recruitment.num_of_positions"),rules:r.rules.numOfPositions},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangerhrm-switch-wrapper"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.active")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.vacancy.status,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.vacancy.status=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),XT,Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangerhrm-switch-wrapper"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-text",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.publish_in_rss_feed_and_web_page")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.vacancy.isPublished,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.vacancy.isPublished=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),KT,Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-grid-item-span-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ZT,[Object(o["createVNode"])(f,{label:e.$t("recruitment.rss_feed_url"),url:r.rssFeedUrl},null,8,["label","url"]),Object(o["createVNode"])(f,{label:e.$t("recruitment.web_page_url"),url:r.webUrl},null,8,["label","url"])])]})),_:1})]})),_:1}),eI,Object(o["createVNode"])(i),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(O)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]),tI,r.isAddClicked&&!r.isEditClicked?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",nI,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_attachment")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,{loading:r.isLoadingAttachment,onSubmitValid:l.onSaveAttachment},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(C,{newFile:r.vacancyAttachment.newAttachment,"onUpdate:newFile":t[7]||(t[7]=function(e){return r.vacancyAttachment.newAttachment=e}),method:r.vacancyAttachment.method,"onUpdate:method":t[8]||(t[8]=function(e){return r.vacancyAttachment.method=e}),label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),file:r.vacancyAttachment.oldAttachment,rules:r.rules.addAttachment,url:"recruitment/vacancyAttachment/attachId",hint:e.$t("general.accepts_up_to_1mb"),required:""},null,8,["newFile","method","label","button-label","file","rules","hint"])]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancyAttachment.comment,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.vacancyAttachment.comment=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1}),oI,Object(o["createVNode"])(i),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.updateVisibility},null,8,["label","onClick"]),Object(o["createVNode"])(O,{label:e.$t("general.save")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])):Object(o["createCommentVNode"])("",!0),r.isEditClicked&&!r.isAddClicked?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",aI,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_attachment")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,{loading:r.isLoadingAttachment,onSubmitValid:l.onUpdateAttachment},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(C,{newFile:r.vacancyAttachment.newAttachment,"onUpdate:newFile":t[10]||(t[10]=function(e){return r.vacancyAttachment.newAttachment=e}),method:r.vacancyAttachment.method,"onUpdate:method":t[11]||(t[11]=function(e){return r.vacancyAttachment.method=e}),label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),file:r.vacancyAttachment.oldAttachment,rules:r.rules.updateAttachment,url:"recruitment/viewVacancyAttachment/attachId",hint:e.$t("general.accepts_up_to_1mb"),deletable:!1,required:""},null,8,["newFile","method","label","button-label","file","rules","hint"])]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.vacancyAttachment.comment,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.vacancyAttachment.comment=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1}),rI,Object(o["createVNode"])(i),Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h),Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.updateVisibility},null,8,["label","onClick"]),Object(o["createVNode"])(O,{label:e.$t("general.save")},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])):Object(o["createCommentVNode"])("",!0),lI,Object(o["createElementVNode"])("div",cI,[Object(o["createElementVNode"])("div",iI,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.attachments")),1)]})),_:1}),r.isAddClicked||r.isEditClicked?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"text",onClick:l.onClickAdd},null,8,["label","onClick"]))]),Object(o["createVNode"])(y,{selected:r.checkedItems.length,loading:r.isLoadingTable,total:r.attachments.length,onDelete:l.onClickDeleteSelected},null,8,["selected","loading","total","onDelete"]),Object(o["createElementVNode"])("div",uI,[Object(o["createVNode"])(V,{selected:r.checkedItems,"onUpdate:selected":t[13]||(t[13]=function(e){return r.checkedItems=e}),headers:r.headers,items:r.attachments,selectable:!0,clickable:!1,loading:r.isLoadingTable,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createVNode"])(w,{ref:"deleteDialog"},null,512),dI,sI])])}var bI={jobTitle:null,name:"",hiringManager:null,numOfPositions:"",description:"",status:!1,isPublished:!1},pI={id:null,comment:"",oldAttachment:{},newAttachment:null,method:"keepCurrent"},fI="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.appGlobal.baseUrl),hI=function(e){return e.map((function(e){return{id:e.id,vacancyId:e.vacancyId,fileName:e.attachment.fileName,fileSize:+(e.attachment.fileSize/1024).toFixed(2)+" kb",fileType:e.attachment.fileType,comment:e.comment,attachmentType:e.attachmentType}}))},jI={components:{"oxd-switch-input":Pa["a"],"employee-autocomplete":Zo,"jobtitle-dropdown":bb,"vacancy-link-card":RT,"delete-confirmation":rn,"file-upload-input":io},props:{vacancyId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/recruitment/vacancies"),t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/vacancy/attachments");return{http:e,httpAttachments:t}},data:function(){var e=this;return{isLoading:!1,isLoadingAttachment:!1,isLoadingTable:!1,isAddClicked:!1,isEditClicked:!1,currentName:"",vacancy:Object(M["a"])({},bI),vacancyAttachment:Object(M["a"])({},pI),rules:{jobTitle:[On],name:[On,vn(50)],hiringManager:[On,Kn,function(t){return null===t||void 0===t||!t.isPastEmployee||e.$t("general.invalid")}],numOfPositions:[function(e){return null===e||""===e||("string"===typeof xn(e)?xn(e):Qn(1,99)(e))}],description:[],status:[On],isPublished:[On],addAttachment:[On,Tn(this.maxFileSize),In(this.allowedFileTypes)],updateAttachment:[function(t){return"replaceCurrent"!=e.vacancyAttachment.method||On(t)},In(this.allowedFileTypes),Tn(this.maxFileSize)],comment:[vn(200)]},headers:[{name:"fileName",slot:"title",title:this.$t("general.file_name"),style:{flex:3}},{name:"fileSize",title:this.$t("general.file_size"),style:{flex:2}},{name:"fileType",title:this.$t("general.file_type"),style:{flex:2}},{name:"comment",title:this.$t("general.comment"),style:{flex:4}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:2},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},download:{onClick:this.downloadFile,props:{name:"download"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],attachments:[],checkedItems:[],rssFeedUrl:"".concat(fI,"/recruitmentApply/jobs.rss"),webUrl:"".concat(fI,"/recruitmentApply/jobs.html")}},created:function(){var e=this;this.isLoading=!0,this.isLoadingTable=!0,this.http.get(this.vacancyId).then((function(t){var n=t.data.data;return e.currentName=n.name,e.vacancy.name=n.name,e.vacancy.description=n.description,e.vacancy.numOfPositions=n.numOfPositions||"",e.vacancy.status=n.status,e.vacancy.isPublished=n.isPublished,e.vacancy.hiringManager={id:n.hiringManager.id,label:"".concat(n.hiringManager.firstName," ").concat(n.hiringManager.middleName," ").concat(n.hiringManager.lastName),isPastEmployee:!!n.hiringManager.terminationId},e.vacancy.jobTitle=n.jobTitle.isDeleted?null:{id:n.jobTitle.id,label:n.jobTitle.title},e.http.getAll({limit:0})})).then((function(t){var n=t.data.data;e.rules.name.push((function(t){var o=n.findIndex((function(n){return n.name==t&&n.name!=e.currentName}));return-1===o||e.$t("general.already_exists")}))})).then((function(){e.httpAttachments.request({method:"GET",url:"/api/v2/recruitment/vacancies/".concat(e.vacancyId,"/attachments")}).then((function(t){var n=t.data.data;e.attachments=hI(n)}))})).finally((function(){e.isLoadingTable=!1,e.isLoading=!1}))},methods:{onCancel:function(){Z("/recruitment/viewJobVacancy")},onSave:function(){var e=this;this.isLoading=!0,this.vacancy={name:this.vacancy.name,jobTitleId:this.vacancy.jobTitle.id,employeeId:this.vacancy.hiringManager.id,numOfPositions:this.vacancy.numOfPositions?parseInt(this.vacancy.numOfPositions):null,description:this.vacancy.description,status:this.vacancy.status,isPublished:this.vacancy.isPublished},this.http.update(this.vacancyId,Object(M["a"])({},this.vacancy)).then((function(){return e.$toast.saveSuccess()})).then((function(){Z("/recruitment/addJobVacancy/{id}",{id:e.vacancyId})}))},onSaveAttachment:function(){var e=this;this.isLoadingAttachment=!0,this.isLoadingTable=!0,this.httpAttachments.create({vacancyId:parseInt(this.vacancyId),attachment:this.vacancyAttachment.newAttachment?this.vacancyAttachment.newAttachment:void 0,comment:this.vacancyAttachment.comment,attachmentType:1}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.updateVisibility(),e.resetDataTable(),e.isLoadingAttachment=!1,e.isLoadingTable=!1}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteData([e.id])}))},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.attachments[t])||void 0===n?void 0:n.id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteData(t)}))},deleteData:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e instanceof Array&&(t.isLoadingTable=!0,t.httpAttachments.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.resetDataTable(),t.isLoadingTable=!1})));case 1:case"end":return n.stop()}}),n)})))()},resetDataTable:function(){var e=this;this.checkedItems=[],this.httpAttachments.request({method:"GET",url:"/api/v2/recruitment/vacancies/".concat(this.vacancyId,"/attachments")}).then((function(t){var n=t.data.data;e.attachments=hI(n)}))},onClickAdd:function(){this.isEditClicked=!1,this.isAddClicked=!0},onClickEdit:function(e){this.vacancyAttachment.id=e.id,this.vacancyAttachment.comment=e.comment,this.vacancyAttachment.oldAttachment={id:e.id,filename:e.fileName,fileType:e.fileType,fileSize:e.filefileSize},this.vacancyAttachment.newAttachment=null,this.vacancyAttachment.method="keepCurrent",this.isAddClicked=!1,this.isEditClicked=!0},onUpdateAttachment:function(){var e=this;this.isLoadingAttachment=!0,this.isLoadingTable=!0,this.httpAttachments.request({method:"PUT",url:"/api/v2/recruitment/vacancies/".concat(this.vacancyId,"/attachments/").concat(this.vacancyAttachment.id),data:{vacancyId:parseInt(this.vacancyId),currentAttachment:this.vacancyAttachment.oldAttachment?this.vacancyAttachment.method:void 0,attachment:this.vacancyAttachment.newAttachment?this.vacancyAttachment.newAttachment:void 0,comment:this.vacancyAttachment.comment,attachmentType:1}}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.updateVisibility(),e.resetDataTable(),e.isLoadingAttachment=!1,e.isLoadingTable=!1}))},updateVisibility:function(){this.isAddClicked=!1,this.isEditClicked=!1,this.vacancyAttachment=Object(M["a"])({},pI)},downloadFile:function(e){if(null!==e&&void 0!==e&&e.id){var t="recruitment/viewVacancyAttachment/attachId",n="".concat(window.appGlobal.baseUrl,"/").concat(t,"/").concat(e.id);window.open(n,"_blank")}}}};n("67d0");const OI=C()(jI,[["render",mI],["__scopeId","data-v-a7de05fa"]]);var vI=OI,gI={class:"orangehrm-background-container"};function CI(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gI,[Object(o["createVNode"])(f,{loading:r.isLoading,"onUpdate:loading":t[1]||(t[1]=function(e){return r.isLoading=e}),"candidate-id":n.candidateId,title:e.$t("recruitment.hire_candidate"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.note,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var yI={class:"orangehrm-card-container"};function VI(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yI,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.title),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(b,Object(o["mergeProps"])({loading:n.loading},e.$attrs),{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.candidate.candidateName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.candidate.candidateName=e}),label:e.$t("recruitment.candidate"),readonly:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.candidate.vacancyName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.candidate.vacancyName=e}),label:e.$t("recruitment.vacancy"),readonly:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.candidate.hiringManagerName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.candidate.hiringManagerName=e}),label:e.$t("recruitment.hiring_manager"),readonly:""},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(d,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:l.recruitmentStatus,"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.recruitmentStatus=e}),label:e.$t("recruitment.current_status"),readonly:""},null,8,["modelValue","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["renderSlot"])(e.$slots,"default")]})),_:3},16,["loading"])])}var wI={candidateName:"",vacancyName:"",hiringManagerName:"",status:null},xI={name:"CandidateActionLayout",inheritAttrs:!1,props:{candidateId:{type:Number,required:!0},title:{type:String,required:!0},loading:{type:Boolean,required:!0}},emits:["update:loading"],setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),t=ea(),n=t.$tEmpName;return{http:e,translateEmpName:n}},data:function(){return{candidate:Object(M["a"])({},wI),statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlisted")},{id:3,label:this.$t("leave.rejected")},{id:4,label:this.$t("recruitment.interview_scheduled")},{id:5,label:this.$t("recruitment.interview_passed")},{id:6,label:this.$t("recruitment.interview_failed")},{id:7,label:this.$t("recruitment.job_offered")},{id:8,label:this.$t("recruitment.offer_declined")},{id:9,label:this.$t("recruitment.hired")}]}},computed:{recruitmentStatus:function(){var e,t=this;return(null===(e=this.statuses.find((function(e){var n;return e.id===(null===(n=t.candidate.status)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.label)||null}},beforeMount:function(){var e=this;this.$emit("update:loading",!0),this.http.get(this.candidateId).then((function(t){var n,o=t.data.data;e.candidate.status=o.status,e.candidate.candidateName="".concat(null===o||void 0===o?void 0:o.firstName," ").concat((null===o||void 0===o?void 0:o.middleName)||""," ").concat(null===o||void 0===o?void 0:o.lastName),null!==o&&void 0!==o&&o.vacancy&&(e.candidate.vacancyName=null===o||void 0===o?void 0:o.vacancy.name),null!==o&&void 0!==o&&null!==(n=o.vacancy)&&void 0!==n&&n.hiringManager&&(e.candidate.hiringManagerName=e.translateEmpName(o.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}))})).finally((function(){e.$emit("update:loading",!1)}))}};const DI=C()(xI,[["render",VI]]);var NI=DI,_I={components:{"candidate-action-layout":NI},props:{candidateId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates/".concat(e.candidateId,"/hire"));return{http:t}},data:function(){return{isLoading:!1,note:null,rules:{note:[vn(2e3)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:e.candidateId})}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const kI=C()(_I,[["render",CI]]);var EI=kI,SI={class:"orangehrm-background-container"};function AI(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",SI,[Object(o["createVNode"])(f,{loading:r.isLoading,"onUpdate:loading":t[1]||(t[1]=function(e){return r.isLoading=e}),"candidate-id":n.candidateId,title:e.$t("recruitment.mark_interview_failed"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.note,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var $I={components:{"candidate-action-layout":NI},props:{candidateId:{type:Number,required:!0},interviewId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates/".concat(e.candidateId,"/interviews/").concat(e.interviewId,"/fail"));return{http:t}},data:function(){return{isLoading:!1,note:null,rules:{note:[vn(2e3)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:e.candidateId})}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const FI=C()($I,[["render",AI]]);var BI=FI,TI={class:"orangehrm-background-container"};function II(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",TI,[Object(o["createVNode"])(f,{loading:r.isLoading,"onUpdate:loading":t[1]||(t[1]=function(e){return r.isLoading=e}),"candidate-id":n.candidateId,title:e.$t("recruitment.mark_interview_passed"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.note,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var LI={components:{"candidate-action-layout":NI},props:{candidateId:{type:Number,required:!0},interviewId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates/".concat(e.candidateId,"/interviews/").concat(e.interviewId,"/pass"));return{http:t}},data:function(){return{isLoading:!1,note:null,rules:{note:[vn(2e3)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:e.candidateId})}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const UI=C()(LI,[["render",II]]);var PI=UI,qI={class:"orangehrm-background-container"};function RI(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("interviewer-autocomplete"),d=Object(o["resolveComponent"])("oxd-button"),s=Object(o["resolveComponent"])("date-input"),m=Object(o["resolveComponent"])("time-input"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("required-text"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",qI,[Object(o["createVNode"])(v,{loading:r.isLoading,"onUpdate:loading":t[4]||(t[4]=function(e){return r.isLoading=e}),"candidate-id":n.candidateId,title:e.$t("recruitment.schedule_interview"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.interview.interviewName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.interview.interviewName=e}),rules:r.rules.interviewName,label:e.$t("recruitment.interview_title"),required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(i,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.interviewers,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:t,modelValue:r.interviewers[t],"onUpdate:modelValue":function(e){return r.interviewers[t]=e},"show-delete":t>0,rules:r.rules.interviewerName.filter((function(e,n){return 0===t||n>0})),"include-employees":"onlyCurrent",required:"",onRemove:function(e){return l.onRemoveInterviewer(t)}},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","onRemove"])})),128)),r.interviewers.length<5?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("general.add_another"),onClick:l.onAddAnother},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(i,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.interview.interviewDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.interview.interviewDate=e}),rules:r.rules.interviewDate,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(i,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:r.interview.interviewTime,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.interview.interviewTime=e}),rules:r.rules.interviewTime,label:e.$t("general.time")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(i,{class:"--offset-row-3 --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.interview.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.interview.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(h),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var MI={class:"orangehrm-recruitment-interviewer-input"};function zI(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete"),i=Object(o["resolveComponent"])("oxd-icon-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",MI,[Object(o["createVNode"])(c,Object(o["mergeProps"])({label:n.showDelete?null:e.$t("recruitment.interviewer"),disabled:n.disabled},e.$attrs,{"api-path":"/api/v2/recruitment/interviewers"}),null,16,["label","disabled"]),n.showDelete&&!n.disabled?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,name:"trash-fill",class:"orangehrm-recruitment-delete-icon","with-container":!1,onClick:l.remove},null,8,["onClick"])):Object(o["createCommentVNode"])("",!0)])}var GI={name:"InterviewerAutocomplete",components:{"employee-autocomplete":Zo},inheritAttrs:!1,props:{showDelete:{type:Boolean,required:!0},includeEmployee:{type:String,default:"currentAndPast"},disabled:{type:Boolean,required:!1,default:!1}},emits:["remove"],methods:{remove:function(){this.$emit("remove")}}};n("e857");const QI=C()(GI,[["render",zI],["__scopeId","data-v-73842d23"]]);var WI=QI,HI={interviewName:null,interviewDate:null,interviewTime:null,note:null},JI={components:{"candidate-action-layout":NI,"interviewer-autocomplete":WI},props:{candidateId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates/".concat(e.candidateId,"/shedule-interview")),n=de(),o=n.userDateFormat;return{http:t,userDateFormat:o}},data:function(){var e=this;return{isLoading:!1,interview:Object(M["a"])({},HI),interviewers:[null],rules:{interviewName:[On,vn(100)],interviewDate:[On,gn(this.userDateFormat)],interviewTime:[yn],interviewerName:[On,Kn,function(t){return e.interviewers.filter((function(e){return e&&e.id===(null===t||void 0===t?void 0:t.id)})).length<2||e.$t("general.already_exists")}],note:[vn(2e3)]}}},methods:{onAddAnother:function(){this.interviewers.length<5&&this.interviewers.push(null)},onRemoveInterviewer:function(e){this.interviewers.splice(e,1)},onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.interview),{},{interviewerEmpNumbers:this.interviewers.map((function(e){return null===e||void 0===e?void 0:e.id})).filter(Number)})).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:e.candidateId})}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const YI=C()(JI,[["render",RI]]);var XI=YI,KI={class:"orangehrm-background-container"};function ZI(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",KI,[Object(o["createVNode"])(f,{loading:r.isLoading,"onUpdate:loading":t[1]||(t[1]=function(e){return r.isLoading=e}),"candidate-id":n.candidateId,title:e.$t("recruitment.offer_job"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.note,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var eL={components:{"candidate-action-layout":NI},props:{candidateId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates/".concat(e.candidateId,"/job/offer"));return{http:t}},data:function(){return{isLoading:!1,note:null,rules:{note:[vn(2e3)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:e.candidateId})}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const tL=C()(eL,[["render",ZI]]);var nL=tL,oL={class:"orangehrm-background-container"};function aL(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oL,[Object(o["createVNode"])(f,{loading:r.isLoading,"onUpdate:loading":t[1]||(t[1]=function(e){return r.isLoading=e}),"candidate-id":n.candidateId,title:e.$t("recruitment.decline_offer"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.note,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var rL={components:{"candidate-action-layout":NI},props:{candidateId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates/".concat(e.candidateId,"/job/decline"));return{http:t}},data:function(){return{isLoading:!1,note:null,rules:{note:[vn(2e3)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:e.candidateId})}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const lL=C()(rL,[["render",aL]]);var cL=lL,iL={class:"orangehrm-background-container"};function uL(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",iL,[Object(o["createVNode"])(f,{loading:r.isLoading,"onUpdate:loading":t[1]||(t[1]=function(e){return r.isLoading=e}),"candidate-id":n.candidateId,title:e.$t("recruitment.reject_candidate"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.note,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var dL={components:{"candidate-action-layout":NI},props:{candidateId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates/".concat(e.candidateId,"/reject"));return{http:t}},data:function(){return{isLoading:!1,note:null,rules:{note:[vn(2e3)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:e.candidateId})}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const sL=C()(dL,[["render",uL]]);var mL=sL,bL={class:"orangehrm-background-container"};function pL(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bL,[Object(o["createVNode"])(f,{loading:r.isLoading,"onUpdate:loading":t[1]||(t[1]=function(e){return r.isLoading=e}),"candidate-id":n.candidateId,title:e.$t("recruitment.shortlist_candidate"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.note,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickBack},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var fL={components:{"candidate-action-layout":NI},props:{candidateId:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates/".concat(e.candidateId,"/shortlist"));return{http:t}},data:function(){return{isLoading:!1,note:null,rules:{note:[vn(2e3)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((function(){return e.$toast.updateSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:e.candidateId})}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const hL=C()(fL,[["render",pL]]);var jL=hL,OL={class:"orangehrm-background-container orangehrm-save-candidate-page"},vL={class:"orangehrm-card-container"};function gL(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("full-name-input"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("vacancy-dropdown"),p=Object(o["resolveComponent"])("oxd-input-field"),f=Object(o["resolveComponent"])("file-upload-input"),h=Object(o["resolveComponent"])("date-input"),j=Object(o["resolveComponent"])("required-text"),O=Object(o["resolveComponent"])("oxd-button"),v=Object(o["resolveComponent"])("submit-button"),g=Object(o["resolveComponent"])("oxd-form-actions"),C=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",OL,[Object(o["createElementVNode"])("div",vL,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.add_candidate")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(C,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{"first-name":r.candidate.firstName,"onUpdate:first-name":t[0]||(t[0]=function(e){return r.candidate.firstName=e}),"middle-name":r.candidate.middleName,"onUpdate:middle-name":t[1]||(t[1]=function(e){return r.candidate.middleName=e}),"last-name":r.candidate.lastName,"onUpdate:last-name":t[2]||(t[2]=function(e){return r.candidate.lastName=e}),label:e.$t("general.full_name"),rules:r.rules,required:""},null,8,["first-name","middle-name","last-name","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.candidate.vacancyId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.candidate.vacancyId=e}),"exclude-interviewers":!0,status:!0},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.candidate.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.candidate.email=e}),label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:r.rules.email,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.candidate.contactNumber,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.candidate.contactNumber=e}),label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:r.rules.contactNumber},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{newFile:r.resume.newAttachment,"onUpdate:newFile":t[6]||(t[6]=function(e){return r.resume.newAttachment=e}),method:r.resume.method,"onUpdate:method":t[7]||(t[7]=function(e){return r.resume.method=e}),label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),file:r.resume.oldAttachment,rules:r.rules.resume,hint:e.$t("general.accept_custom_format_file"),url:"recruitment/candidateAttachment/attachId"},null,8,["newFile","method","label","button-label","file","rules","hint"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-save-candidate-page-full-width"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.candidate.keywords,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.candidate.keywords=e}),label:e.$t("recruitment.keywords"),placeholder:"".concat(e.$t("recruitment.enter_comma_seperated_words"),"..."),rules:r.rules.keywords},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{modelValue:r.candidate.dateOfApplication,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.candidate.dateOfApplication=e}),label:e.$t("recruitment.date_of_application"),rules:r.rules.applyDate},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-save-candidate-page-full-width"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.candidate.comment,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.candidate.comment=e}),label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),rules:r.rules.notes},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-save-candidate-page-full-width orangehrm-save-candidate-page-grid-checkbox"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.candidate.consentToKeepData,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.candidate.consentToKeepData=e}),type:"checkbox",label:e.$t("recruitment.consent_to_keep_data")},null,8,["modelValue","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j),Object(o["createVNode"])(O,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(v)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var CL={name:"SaveCandidate",components:{"submit-button":V,"full-name-input":Jm,"vacancy-dropdown":vT,"file-upload-input":io},props:{maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),t=de(),n=t.userDateFormat;return{http:e,userDateFormat:n}},data:function(){return{isLoading:!1,candidate:{firstName:null,middleName:null,lastName:null,email:null,contactNumber:null,keywords:null,comment:null,dateOfApplication:ke(Ne(),"yyyy-MM-dd"),consentToKeepData:!1,vacancyId:null},resume:{id:null,oldAttachment:null,newAttachment:null,method:"keepCurrent"},rules:{firstName:[On,vn(30)],lastName:[On,vn(30)],middleName:[vn(30)],email:[On,Ln,vn(50)],contactNumber:[Un,vn(25)],notes:[vn(250)],keywords:[vn(250)],resume:[Tn(this.maxFileSize),In(this.allowedFileTypes)],applyDate:[gn(this.userDateFormat),Cn()]}}},methods:{onSave:function(){var e,t,n=this;this.isLoading=!0,this.http.create(Object(M["a"])(Object(M["a"])({},this.candidate),{},{vacancyId:null===(e=this.candidate.vacancyId)||void 0===e?void 0:e.id})).then((function(e){var o=e.data.data;if(t=parseInt(o.id),n.resume.newAttachment)return n.http.request({method:"POST",url:"/api/v2/recruitment/candidate/attachments",data:{candidateId:t,attachment:n.resume.newAttachment}})})).then((function(){return n.$toast.saveSuccess()})).then((function(){Z("/recruitment/addCandidate/{id}",{id:t})}))},onCancel:function(){Z("/recruitment/viewCandidates")}}};n("bb64");const yL=C()(CL,[["render",gL],["__scopeId","data-v-ab53ac08"]]);var VL=yL,wL={class:"orangehrm-candidate-page"},xL=Object(o["createElementVNode"])("br",null,null,-1),DL={class:"orangehrm-paper-container"},NL={key:0,class:"orangehrm-header-container"},_L={class:"orangehrm-container"},kL={class:"orangehrm-bottom-container"};function EL(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("jobtitle-dropdown"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("vacancy-dropdown"),s=Object(o["resolveComponent"])("hiring-manager-dropdown"),m=Object(o["resolveComponent"])("candidate-status-dropdown"),b=Object(o["resolveComponent"])("oxd-grid"),p=Object(o["resolveComponent"])("oxd-form-row"),f=Object(o["resolveComponent"])("candidate-autocomplete"),h=Object(o["resolveComponent"])("oxd-input-field"),j=Object(o["resolveComponent"])("date-input"),O=Object(o["resolveComponent"])("oxd-divider"),v=Object(o["resolveComponent"])("oxd-button"),g=Object(o["resolveComponent"])("submit-button"),C=Object(o["resolveComponent"])("oxd-form-actions"),y=Object(o["resolveComponent"])("oxd-form"),V=Object(o["resolveComponent"])("oxd-table-filter"),w=Object(o["resolveComponent"])("table-header"),x=Object(o["resolveComponent"])("oxd-card-table"),D=Object(o["resolveComponent"])("oxd-pagination"),N=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",wL,[Object(o["createVNode"])(V,{"filter-title":e.$t("general.candidates")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{onSubmitValid:l.filterItems,onReset:l.onReset},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.jobTitle,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.jobTitle=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.vacancy,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.vacancy=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.hiringManager,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.hiringManager=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.status,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.status=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:a.filters.candidate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.candidate=e}),rules:a.rules.candidate},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{modelValue:a.filters.keywords,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.keywords=e}),label:e.$t("recruitment.keywords"),placeholder:"".concat(e.$t("recruitment.enter_comma_seperated_words"),"...")},null,8,["modelValue","label","placeholder"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.filters.fromDate=e}),label:e.$t("recruitment.date_of_application"),placeholder:e.$t("general.from"),rules:a.rules.fromDate},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.filters.toDate=e}),label:"",placeholder:e.$t("general.to"),rules:a.rules.toDate},null,8,["modelValue","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{modelValue:a.filters.methodOfApplication,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.filters.methodOfApplication=e}),label:e.$t("recruitment.method_of_application"),type:"select",options:r.applications},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O),Object(o["createVNode"])(C,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{type:"reset","display-type":"ghost",label:e.$t("general.reset")},null,8,["label"]),Object(o["createVNode"])(g,{label:e.$t("general.search")},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),xL,Object(o["createElementVNode"])("div",DL,[e.$can.create("recruitment_candidates")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",NL,[Object(o["createVNode"])(v,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(w,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,"show-divider":e.$can.create("recruitment_candidates"),onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","show-divider","onDelete"]),Object(o["createElementVNode"])("div",_L,[Object(o["createVNode"])(x,{selected:r.checkedItems,"onUpdate:selected":t[9]||(t[9]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[10]||(t[10]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",kL,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(D,{key:0,current:a.currentPage,"onUpdate:current":t[11]||(t[11]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(N,{ref:"deleteDialog"},null,512)])}function SL(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"autocomplete",label:e.$t("recruitment.candidate_name"),clear:!1,"create-options":l.loadCandidates},{option:Object(o["withCtx"])((function(e){var t=e.data;return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.label),1)]})),_:1},8,["label","create-options"])}var AL={name:"CandidateAutocomplete",props:{params:{type:Object,default:function(){return{}}}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates");return{http:e}},methods:{loadCandidates:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll(Object(M["a"])({candidateName:e.trim()},t.params)).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.id,label:"".concat(e.firstName," ").concat(e.middleName||""," ").concat(e.lastName),_candidate:e}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};n("dffb");const $L=C()(AL,[["render",SL],["__scopeId","data-v-30b6d657"]]);var FL=$L;function BL(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("general.status"),options:a.options},null,8,["label","options"])}var TL={name:"CandidateStatusDropdown",setup:function(){var e=Object(o["ref"])([]),t=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates/statuses");return Object(o["onBeforeMount"])((function(){t.getAll().then((function(t){var n=t.data;e.value=n.data.map((function(e){return{id:e.id,label:e.label}}))}))})),{options:e}}};const IL=C()(TL,[["render",BL]]);var LL=IL,UL={jobTitle:null,vacancy:null,hiringManager:null,status:null,keywords:null,application:null,candidate:null,fromDate:null,toDate:null},PL={"vacancy.name":"DEFAULT","candidate.lastName":"DEFAULT","hiringManager.lastName":"DEFAULT","candidate.dateOfApplication":"DESC","candidateVacancy.status":"DEFAULT"},qL={components:{"vacancy-dropdown":vT,"jobtitle-dropdown":bb,"delete-confirmation":rn,"candidate-autocomplete":FL,"hiring-manager-dropdown":VT,"candidate-status-dropdown":LL},props:{status:{type:Object,required:!1,default:null}},setup:function(e){var t=Je(),n=t.$t,a=Xe(),r=a.locale,l=de(),c=l.jsDateFormat,i=l.userDateFormat,u=ea(),d=u.$tEmpName,s=function(e){return e.map((function(e){var t,o,a,l,i;return{id:e.id,vacancy:!1===(null===(t=e.vacancy)||void 0===t?void 0:t.status)?"".concat(null===(o=e.vacancy)||void 0===o?void 0:o.name," (").concat(n("general.closed"),")"):null===(a=e.vacancy)||void 0===a?void 0:a.name,candidate:"".concat(e.firstName," ").concat(e.middleName||""," ").concat(e.lastName),manager:null!==e&&void 0!==e&&null!==(l=e.vacancy)&&void 0!==l&&l.hiringManager?d(e.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}):"",dateOfApplication:ke(_e(e.dateOfApplication),c,{locale:r}),status:null===(i=e.status)||void 0===i?void 0:i.label,resume:e.hasAttachment,isSelectable:e.deletable}}))},m=Object(o["ref"])(Object(M["a"])(Object(M["a"])({},UL),e.status&&{status:e.status})),b={candidate:[Kn],fromDate:[gn(i),Pn((function(){return m.value.toDate}),n("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[gn(i),Sn((function(){return m.value.fromDate}),n("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},p=ln({sortDefinition:PL}),f=p.sortDefinition,h=p.sortField,j=p.sortOrder,O=p.onSort,v=Object(o["computed"])((function(){var e,t,n,o,a,r;return{jobTitleId:null===(e=m.value.jobTitle)||void 0===e?void 0:e.id,vacancyId:null===(t=m.value.vacancy)||void 0===t?void 0:t.id,hiringManagerId:null===(n=m.value.hiringManager)||void 0===n?void 0:n.id,keywords:m.value.keywords,candidateId:null===(o=m.value.candidate)||void 0===o?void 0:o.id,fromDate:m.value.fromDate,toDate:m.value.toDate,status:null===(a=m.value.status)||void 0===a?void 0:a.id,methodOfApplication:null===(r=m.value.methodOfApplication)||void 0===r?void 0:r.id,model:"list",sortField:h.value,sortOrder:j.value}})),g=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),C=Kt(g,{query:v,normalizer:s}),y=C.showPaginator,V=C.currentPage,w=C.total,x=C.pages,D=C.pageSize,N=C.response,_=C.isLoading,k=C.execQuery;return O(k),{http:g,showPaginator:y,currentPage:V,isLoading:_,total:w,pages:x,pageSize:D,execQuery:k,items:N,filters:m,sortDefinition:f,rules:b}},data:function(){return{checkedItems:[],headers:[{name:"vacancy",title:this.$t("recruitment.vacancy"),sortField:"vacancy.name",style:{flex:1}},{name:"candidate",slot:"title",title:this.$t("recruitment.candidate"),sortField:"candidate.lastName",style:{flex:1}},{name:"manager",title:this.$t("recruitment.hiring_manager"),sortField:"hiringManager.lastName",style:{flex:1}},{name:"dateOfApplication",title:this.$t("recruitment.date_of_application"),sortField:"candidate.dateOfApplication",style:{flex:1}},{name:"status",title:this.$t("general.status"),sortField:"candidateVacancy.status",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}],applications:[{id:1,label:this.$t("recruitment.manual")},{id:2,label:this.$t("recruitment.online")}]}},methods:{cellRenderer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[3],a={view:{onClick:this.onClickEdit,props:{name:"eye-fill"}}};return o.isSelectable&&(a.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),o.resume&&(a.download={onClick:this.onDownload,props:{name:"download"}}),{props:{header:{cellConfig:a}}}},onClickAdd:function(){Z("/recruitment/addCandidate")},onClickEdit:function(e){Z("/recruitment/addCandidate/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},onDownload:function(e){if(null!==e&&void 0!==e&&e.id){var t="recruitment/viewCandidateAttachment/candidateId",n="".concat(window.appGlobal.baseUrl,"/").concat(t,"/").concat(e.id);window.open(n,"_blank")}},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})).catch((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onReset:function(){this.filters=Object(M["a"])({},UL),this.filterItems()}}};const RL=C()(qL,[["render",EL]]);var ML=RL;function zL(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("recruitment-status"),i=Object(o["resolveComponent"])("candidate-profile"),u=Object(o["resolveComponent"])("history-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[r.candidate?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,candidate:r.candidate},null,8,["candidate"])):Object(o["createCommentVNode"])("",!0),r.candidate?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,candidate:r.candidate,"max-file-size":n.maxFileSize,updatable:n.updatable,onUpdate:l.onCandidateUpdate},null,8,["candidate","max-file-size","updatable","onUpdate"])):Object(o["createCommentVNode"])("",!0),r.candidate?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:2,candidate:r.candidate},null,8,["candidate"])):Object(o["createCommentVNode"])("",!0)],64)}var GL={class:"orangehrm-card-container"},QL={class:"orangehrm-recruitment"},WL={key:0,class:"orangehrm-recruitment-status"},HL={class:"orangehrm-recruitment-actions"};function JL(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",GL,[Object(o["createVNode"])(b,{loading:r.isLoading},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.application_stage")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("general.name")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.candidateName),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("recruitment.vacancy")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.vacancyName?l.vacancyName:"N/A"),1)]})),_:1})]})),_:1},8,["label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("recruitment.hiring_manager")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.hiringManagerName?l.hiringManagerName:"N/A"),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",QL,[l.recruitmentStatus?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",WL,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.status"))+": "+Object(o["toDisplayString"])(l.recruitmentStatus),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",HL,[l.hasWorkflow(3)?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,label:e.$t("general.reject"),"display-type":"danger",onClick:t[0]||(t[0]=function(e){return l.doWorkflow(3)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasWorkflow(8)?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,label:e.$t("recruitment.offer_declined"),"display-type":"danger",onClick:t[1]||(t[1]=function(e){return l.doWorkflow(8)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasWorkflow(6)?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:2,label:e.$t("recruitment.mark_interview_failed"),"display-type":"danger",onClick:t[2]||(t[2]=function(e){return l.doWorkflow(6)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasWorkflow(2)?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:3,label:e.$t("recruitment.shortlist"),"display-type":"success",onClick:t[3]||(t[3]=function(e){return l.doWorkflow(2)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasWorkflow(4)?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:4,label:e.$t("recruitment.schedule_interview"),"display-type":"success",onClick:t[4]||(t[4]=function(e){return l.doWorkflow(4)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasWorkflow(5)?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:5,label:e.$t("recruitment.mark_interview_passed"),"display-type":"success",onClick:t[5]||(t[5]=function(e){return l.doWorkflow(5)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasWorkflow(7)?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:6,label:e.$t("recruitment.offer_job"),"display-type":"success",onClick:t[6]||(t[6]=function(e){return l.doWorkflow(7)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasWorkflow(9)?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:7,label:e.$t("recruitment.hire"),"display-type":"success",onClick:t[7]||(t[7]=function(e){return l.doWorkflow(9)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0)])])]})),_:1},8,["loading"])])}var YL={name:"RecruitmentStatus",props:{candidate:{type:Object,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/recruitment/candidates"),t=ea(),n=t.$tEmpName;return{http:e,translateEmpName:n}},data:function(){return{isLoading:!1,statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlisted")},{id:3,label:this.$t("leave.rejected")},{id:4,label:this.$t("recruitment.interview_scheduled")},{id:5,label:this.$t("recruitment.interview_passed")},{id:6,label:this.$t("recruitment.interview_failed")},{id:7,label:this.$t("recruitment.job_offered")},{id:8,label:this.$t("recruitment.offer_declined")},{id:9,label:this.$t("recruitment.hired")}],actions:[]}},computed:{recruitmentStatus:function(){var e,t=this;return(null===(e=this.statuses.find((function(e){var n;return e.id===(null===(n=t.candidate.status)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.label)||null},candidateName:function(){var e;return"".concat(this.candidate.firstName," ").concat((null===(e=this.candidate)||void 0===e?void 0:e.middleName)||""," ").concat(this.candidate.lastName)},vacancyName:function(){var e=this.candidate.vacancy;return e?!1===e.status?e.name+" (".concat(this.$t("general.closed"),")"):e.name:null},hiringManagerName:function(){var e;return null!==(e=this.candidate.vacancy)&&void 0!==e&&e.hiringManager?this.translateEmpName(this.candidate.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}):void 0}},watch:{candidate:function(){this.getAllowedActions()}},beforeMount:function(){this.getAllowedActions()},methods:{hasWorkflow:function(e){return this.actions.findIndex((function(t){return t.id==e}))>-1},doWorkflow:function(e){var t;Z("/recruitment/changeCandidateVacancyStatus",{},{candidateId:null===(t=this.candidate)||void 0===t?void 0:t.id,selectedAction:e})},getAllowedActions:function(){var e,t=this;this.isLoading=!0,this.http.request({method:"GET",url:"api/v2/recruitment/candidates/".concat(null===(e=this.candidate)||void 0===e?void 0:e.id,"/actions/allowed")}).then((function(e){var n=e.data.data;t.actions=Object(iO["a"])(n)})).finally((function(){t.isLoading=!1}))}}};n("528f");const XL=C()(YL,[["render",JL],["__scopeId","data-v-b9dcb6be"]]);var KL=XL,ZL={class:"orangehrm-background-container"},eU={class:"orangehrm-card-container"},tU={class:"orangehrm-header-container"};function nU(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-switch-input"),u=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("full-name-input"),s=Object(o["resolveComponent"])("oxd-grid-item"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("vacancy-dropdown"),f=Object(o["resolveComponent"])("oxd-input-field"),h=Object(o["resolveComponent"])("file-upload-input"),j=Object(o["resolveComponent"])("date-input"),O=Object(o["resolveComponent"])("required-text"),v=Object(o["resolveComponent"])("submit-button"),g=Object(o["resolveComponent"])("oxd-form-actions"),C=Object(o["resolveComponent"])("oxd-form"),y=Object(o["resolveComponent"])("confirmation-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ZL,[Object(o["createElementVNode"])("div",eU,[Object(o["createElementVNode"])("div",tU,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.candidate_profile")),1)]})),_:1}),!r.isLoading&&n.updatable?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,modelValue:r.editable,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.editable=e}),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"])):Object(o["createCommentVNode"])("",!0)]),Object(o["withDirectives"])(Object(o["createVNode"])(u,null,null,512),[[o["vShow"],!r.isLoading]]),Object(o["createVNode"])(C,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{"first-name":r.profile.firstName,"onUpdate:first-name":t[1]||(t[1]=function(e){return r.profile.firstName=e}),"middle-name":r.profile.middleName,"onUpdate:middle-name":t[2]||(t[2]=function(e){return r.profile.middleName=e}),"last-name":r.profile.lastName,"onUpdate:last-name":t[3]||(t[3]=function(e){return r.profile.lastName=e}),rules:r.rules,label:e.$t("general.full_name"),disabled:!r.editable,required:""},null,8,["first-name","middle-name","last-name","rules","label","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.vacancy,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.vacancy=e}),label:e.$t("recruitment.job_vacancy"),readonly:!r.editable,"exclude-interviewers":!0,status:!0},null,8,["modelValue","label","readonly"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.profile.email,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.profile.email=e}),label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:r.rules.email,disabled:!r.editable,required:""},null,8,["modelValue","label","placeholder","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.profile.contactNumber,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.profile.contactNumber=e}),label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:r.rules.contactNumber,disabled:!r.editable},null,8,["modelValue","label","placeholder","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{newFile:r.attachment.newAttachment,"onUpdate:newFile":t[7]||(t[7]=function(e){return r.attachment.newAttachment=e}),method:r.attachment.method,"onUpdate:method":t[8]||(t[8]=function(e){return r.attachment.method=e}),label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),file:r.attachment.oldAttachment,rules:r.rules.resume,hint:e.$t("general.accept_custom_format_file"),disabled:!r.editable,url:l.getResumeUrl},null,8,["newFile","method","label","button-label","file","rules","hint","disabled","url"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"orangehrm-save-candidate-page --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.profile.keywords,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.profile.keywords=e}),label:e.$t("recruitment.keywords"),placeholder:"".concat(e.$t("recruitment.enter_comma_seperated_words"),"..."),rules:r.rules.keywords,disabled:!r.editable},null,8,["modelValue","label","placeholder","rules","disabled"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{modelValue:r.profile.dateOfApplication,"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.profile.dateOfApplication=e}),label:e.$t("recruitment.date_of_application"),rules:r.rules.applicationDate,disabled:!r.editable},null,8,["modelValue","label","rules","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"orangehrm-save-candidate-page --span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.profile.comment,"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.profile.comment=e}),label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),disabled:!r.editable},null,8,["modelValue","label","placeholder","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"orangehrm-candidate-grid-checkbox"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:r.profile.consentToKeepData,"onUpdate:modelValue":t[12]||(t[12]=function(e){return r.profile.consentToKeepData=e}),type:"checkbox",label:e.$t("recruitment.consent_to_keep_data"),disabled:!r.editable},null,8,["modelValue","label","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["withDirectives"])(Object(o["createVNode"])(u,null,null,512),[[o["vShow"],r.editable]]),r.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O),Object(o["createVNode"])(v,{label:e.$t("general.save")},null,8,["label"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading","onSubmitValid"])]),Object(o["createVNode"])(y,{ref:"confirmDialog",title:e.$t("general.confirmation_required"),subtitle:e.$t("recruitment.candidate_vacancy_change_message"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("leave.yes_confirm"),"confirm-button-type":"secondary"},null,8,["title","subtitle","cancel-label","confirm-label"])])}var oU={firstName:"",middleName:"",lastName:"",email:"",contactNumber:"",comment:"",keywords:"",dateOfApplication:null,consentToKeepData:!1},aU={id:null,oldAttachment:{},newAttachment:null,method:"replaceCurrent"},rU={id:null,label:""},lU={name:"CandidateProfile",components:{DateInput:et,"oxd-switch-input":Pa["a"],"full-name-input":Jm,"vacancy-dropdown":vT,"file-upload-input":io,"confirmation-dialog":CB},props:{candidate:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},updatable:{type:Boolean,required:!1,default:!0}},emits:["update"],setup:function(){var e=new te(window.appGlobal.baseUrl,"/"),t=de(),n=t.userDateFormat;return{http:e,userDateFormat:n}},data:function(){return{editable:!1,isLoading:!1,profile:Object(M["a"])({},oU),vacancy:Object(M["a"])({},rU),attachment:Object(M["a"])({},aU),rules:{firstName:[On,vn(30)],lastName:[On,vn(30)],middleName:[vn(30)],email:[On,Ln,vn(50)],contactNumber:[Un,vn(25)],keywords:[vn(250)],applicationDate:[gn(this.userDateFormat)],resume:[Tn(this.maxFileSize),In(this.allowedFileTypes)]}}},watch:{candidate:function(){this.fetchCandidate()}},beforeMount:function(){this.fetchCandidate()},methods:{onSave:function(){var e,t,n,o=this;null!==(e=this.candidate.vacancy)&&void 0!==e&&e.id&&(null===(t=this.candidate.vacancy)||void 0===t?void 0:t.id)!==(null===(n=this.vacancy)||void 0===n?void 0:n.id)?this.$refs.confirmDialog.showDialog().then((function(e){"ok"===e&&o.updateCandidate()})):this.updateCandidate()},updateCandidate:function(){var e,t=this;this.isLoading=!0,this.http.request({method:"PUT",url:"/api/v2/recruitment/candidates/".concat(this.candidate.id),data:Object(M["a"])(Object(M["a"])({},this.profile),{},{vacancyId:null===(e=this.vacancy)||void 0===e?void 0:e.id})}).then((function(){return!t.attachment.newAttachment&&!t.candidate.hasAttachment||t.http.request({method:"PUT",url:"/api/v2/recruitment/candidate/".concat(t.candidate.id,"/attachment"),data:{currentAttachment:t.attachment.oldAttachment?t.attachment.method:void 0,attachment:t.attachment.newAttachment?t.attachment.newAttachment:void 0}})})).then((function(){return t.$toast.updateSuccess()})).then((function(){t.$emit("update"),t.isLoading=!1,t.editable=!1}))},getResumeUrl:function(){return K("/recruitment/viewCandidateAttachment/candidateId/{candidateId}",{candidateId:this.candidate.id})},fetchCandidate:function(){var e=this;this.isLoading=!0,this.profile.firstName=this.candidate.firstName,this.profile.middleName=this.candidate.middleName,this.profile.lastName=this.candidate.lastName,this.profile.email=this.candidate.email,this.profile.contactNumber=this.candidate.contactNumber,this.profile.keywords=this.candidate.keywords,this.profile.dateOfApplication=this.candidate.dateOfApplication,this.profile.comment=this.candidate.comment,this.profile.consentToKeepData=this.candidate.consentToKeepData;var t=this.candidate.vacancy;t&&(this.vacancy={id:t.id,label:!1===t.status?t.name+" (".concat(this.$t("general.closed"),")"):t.name}),this.candidate.hasAttachment?this.http.request({method:"GET",url:"/api/v2/recruitment/candidate/".concat(this.candidate.id,"/attachment")}).then((function(t){var n=t.data.data;e.attachment.id=n.id,e.attachment.newAttachment=null,e.attachment.oldAttachment={id:n.id,filename:n.attachment.fileName,fileType:n.attachment.fileType,fileSize:n.attachment.fileSize},e.attachment.method="keepCurrent"})):this.attachment=Object(M["a"])({},aU),this.isLoading=!1}}};n("95e4");const cU=C()(lU,[["render",nU],["__scopeId","data-v-ddbe0f88"]]);var iU=cU,uU={class:"orangehrm-paper-container"},dU={class:"orangehrm-header-container"},sU={class:"orangehrm-container"},mU={class:"orangehrm-bottom-container"};function bU(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("table-header"),d=Object(o["resolveComponent"])("oxd-card-table"),s=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",uU,[Object(o["createElementVNode"])("div",dU,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.candidate_history")),1)]})),_:1})]),Object(o["createVNode"])(u,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",sU,[Object(o["createVNode"])(d,{headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,clickable:!1,selectable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),Object(o["createElementVNode"])("div",mU,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])}var pU=1,fU=2,hU=3,jU=4,OU=5,vU=6,gU=7,CU=8,yU=9,VU=15,wU=16,xU=17,DU={name:"HistoryTable",props:{candidate:{type:Object,required:!0}},setup:function(e){var t,n=Je(),o=n.$t,a=Xe(),r=a.locale,l=de(),c=l.jsDateFormat,i=ea(),u=i.$tEmpName,d=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates/".concat(null===(t=e.candidate)||void 0===t?void 0:t.id,"/history")),s=function(t){var n,a,l,i="".concat(null===(n=e.candidate)||void 0===n?void 0:n.firstName," ").concat((null===(a=e.candidate)||void 0===a?void 0:a.middleName)||""," ").concat(null===(l=e.candidate)||void 0===l?void 0:l.lastName);return t.map((function(e){var t=null,n={name:"",data:"",interviewers:""},a=u(e.performedBy,{includeMiddle:!0,excludePastEmpTag:!1});if(e.interview){n.name=e.interview.name,n.date=e.interview.date;var l=e.interview.interviewers.map((function(e){return u(e,{includeMiddle:!0,excludePastEmpTag:!1})}));n.interviewers=l.join(", ")}switch(null===e||void 0===e?void 0:e.action.id){case xU:t=o("recruitment.candidate_applied_for_the_vacancy",{candidate:i,vacancy:e.vacancyName});break;case wU:t=o("recruitment.employee_added_candidate",{employee:a,candidate:i});break;case pU:t=o("recruitment.employee_assigned_vacancy_to_candidate",{employee:a,vacancy:e.vacancyName});break;case fU:t=o("recruitment.candidate_shortlisted_for_vacancy_by_employee",{vacancy:e.vacancyName,employee:a});break;case hU:t=o("recruitment.employee_rejected_the_candidate",{employee:a,candidate:i,vacancy:e.vacancyName});break;case jU:t=o("recruitment.employee_schedule_interview_with_interviewers",{employee:a,interview:n.name,interviewDate:n.date,interviewers:n.interviewers,vacancy:e.vacancyName});break;case OU:t=o("recruitment.employee_marked_interveiw_passed",{employee:a,interview:n.name,vacancy:e.vacancyName});break;case vU:t=o("recruitment.employee_marked_interveiw_failed",{employee:a,interview:n.name,vacancy:e.vacancyName});break;case gU:t=o("recruitment.employee_offered_the_job",{employee:a,vacancy:e.vacancyName});break;case CU:t=o("recruitment.employee_marked_the_offer_declined",{employee:a,vacancy:e.vacancyName});break;case yU:t=o("recruitment.employee_hired_the_candidate",{employee:a,candidate:i,vacancy:e.vacancyName});break;case VU:t=o("recruitment.employee_removed_candidate_from_vacancy",{employee:a,candidate:i,vacancy:e.vacancyName});break}return Object(M["a"])(Object(M["a"])({},e),{},{description:t,performedDate:ke(_e(e.performedDate),c,{locale:r})})}))},m=Kt(d,{normalizer:s}),b=m.showPaginator,p=m.currentPage,f=m.total,h=m.pages,j=m.pageSize,O=m.response,v=m.isLoading,g=m.execQuery;return{http:d,showPaginator:b,currentPage:p,isLoading:v,total:f,pages:h,pageSize:j,execQuery:g,items:O}},data:function(){return{headers:[{name:"performedDate",slot:"title",title:this.$t("recruitment.performed_date"),style:{flex:"20%"}},{name:"description",title:this.$t("general.description"),style:{flex:"65%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}]}},watch:{candidate:function(){this.execQuery()}},methods:{cellRenderer:function(){for(var e,t,n,o,a,r,l,c=arguments.length,i=new Array(c),u=0;u<c;u++)i[u]=arguments[u];var d=i[3],s={};return(null===(e=d.action)||void 0===e?void 0:e.id)!=pU&&(null===(t=d.action)||void 0===t?void 0:t.id)!=wU&&(null===(n=d.action)||void 0===n?void 0:n.id)!=VU&&(null===(o=d.action)||void 0===o?void 0:o.id)!=xU&&d.editable&&(s.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),(null===(a=d.action)||void 0===a?void 0:a.id)!==jU&&(null===(r=d.action)||void 0===r?void 0:r.id)!==OU&&(null===(l=d.action)||void 0===l?void 0:l.id)!==vU||!d.editable||(s.attachment={onClick:this.onClickAttachment,props:{name:"paperclip"}}),{props:{header:{cellConfig:s}}}},onClickEdit:function(e){Z("/recruitment/candidateHistory/{candidateId}/{historyId}",{candidateId:this.candidate.id,historyId:e.id})},onClickAttachment:function(e){var t;Z("/recruitment/interviewAttachments/{interviewId}",{interviewId:null===(t=e.interview)||void 0===t?void 0:t.id})}}};n("8a66");const NU=C()(DU,[["render",bU],["__scopeId","data-v-13fda2b3"]]);var _U=NU,kU={components:{"history-table":_U,"candidate-profile":iU,"recruitment-status":KL},props:{candidateId:{type:Number,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0},updatable:{type:Boolean,required:!1,default:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates");return{http:e}},data:function(){return{candidate:null}},beforeMount:function(){this.onCandidateUpdate()},methods:{onCandidateUpdate:function(){var e=this;this.http.get(this.candidateId).then((function(t){var n=t.data.data;e.candidate=n}))}}};const EU=C()(kU,[["render",zL]]);var SU=EU,AU={class:"orangehrm-background-container"};function $U(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("interviewer-autocomplete"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("time-input"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("candidate-action-layout");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",AU,[Object(o["createVNode"])(O,{loading:r.isLoading,"candidate-id":n.candidateId,title:e.$t("recruitment.view_action_history"),onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:e.$t("recruitment.performed_action"),value:l.performedAction,readonly:""},null,8,["label","value"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:e.$t("general.performed_by"),value:l.performedBy,readonly:""},null,8,["label","value"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{label:e.$t("recruitment.performed_date"),value:l.performedDate,readonly:""},null,8,["label","value"])]})),_:1})]})),_:1})]})),_:1}),l.isScheduleInterview?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.interview.interviewName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.interview.interviewName=e}),rules:r.rules.interviewName,label:e.$t("recruitment.interview_title"),required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(i,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.interviewers,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:t,modelValue:r.interviewers[t],"onUpdate:modelValue":function(e){return r.interviewers[t]=e},"show-delete":t>0,rules:r.rules.interviewerName.filter((function(e,n){return 0===t||n>0})),"include-employees":"onlyCurrent",required:"",disabled:!n.editable,onRemove:function(e){return l.onRemoveInterviewer(t)}},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","disabled","onRemove"])})),128)),r.interviewers.length<5&&n.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("general.add_another"),onClick:l.onAddAnother},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(i,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.interview.interviewDate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.interview.interviewDate=e}),rules:r.rules.interviewDate,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(i,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.interview.interviewTime,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.interview.interviewTime=e}),rules:r.rules.interviewTime,label:e.$t("general.time")},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:r.history.note,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.history.note=e}),rules:r.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea",disabled:r.disabled},null,8,["modelValue","rules","label","placeholder","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"display-type":"ghost",label:e.$t("general.back"),onClick:l.onClickBack},null,8,["label","onClick"]),r.disabled?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,label:e.$t("general.save")},null,8,["label"]))]})),_:1})]})),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var FU={id:null,action:{id:null,label:null},performedBy:{empNumber:null,lastName:null,firstName:null,middleName:null,terminationId:null},interview:{id:null},performedDate:null,note:null},BU={interviewName:null,interviewDate:null,interviewTime:null},TU={components:{"candidate-action-layout":NI,"interviewer-autocomplete":WI},props:{candidateId:{type:Number,required:!0},historyId:{type:Number,required:!0},editable:{type:Boolean,required:!1,default:!0}},setup:function(e){var t=Xe(),n=t.locale,o=de(),a=o.jsDateFormat,r=o.userDateFormat,l=ea(),c=l.$tEmpName,i=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates/".concat(e.candidateId,"/history"));return{http:i,locale:n,jsDateFormat:a,userDateFormat:r,translateEmpName:c}},data:function(){var e=this;return{isLoading:!1,history:Object(M["a"])({},FU),interview:Object(M["a"])({},BU),interviewers:[],rules:{interviewName:[On,vn(100)],interviewDate:[On,gn(this.userDateFormat)],interviewTime:[yn],interviewerName:[On,Kn,function(t){return e.interviewers.filter((function(e){return e&&e.id===(null===t||void 0===t?void 0:t.id)})).length<2||e.$t("general.already_exists")}],note:[vn(2e3)]},statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlist")},{id:3,label:this.$t("general.reject")},{id:4,label:this.$t("recruitment.schedule_interview")},{id:5,label:this.$t("recruitment.mark_interview_passed")},{id:6,label:this.$t("recruitment.mark_interview_failed")},{id:7,label:this.$t("recruitment.offer_job")},{id:8,label:this.$t("recruitment.decline_offer")},{id:9,label:this.$t("recruitment.hire")}],disabled:!1}},computed:{performedBy:function(){return this.translateEmpName(this.history.performedBy,{includeMiddle:!0,excludePastEmpTag:!1})},performedDate:function(){return ke(_e(this.history.performedDate),this.jsDateFormat,{locale:this.locale})},performedAction:function(){var e,t=this;return(null===(e=this.statuses.find((function(e){return e.id===t.history.action.id})))||void 0===e?void 0:e.label)||null},isScheduleInterview:function(){var e,t;return(null===(e=this.history.interview)||void 0===e?void 0:e.id)&&4===(null===(t=this.history.action)||void 0===t?void 0:t.id)}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.historyId).then((function(t){var n=t.data,o=n.data,a=n.meta;return e.history=Object(M["a"])({},o),e.disabled=a.disabled,e.isScheduleInterview?e.http.request({method:"GET",url:"api/v2/recruitment/candidates/".concat(e.candidateId,"/interviews/").concat(e.history.interview.id)}):null})).then((function(t){if(t){var n=t.data.data;e.interview.interviewName=n.name,e.interview.interviewDate=n.interviewDate,e.interview.interviewTime=n.interviewTime,e.history.note=n.note,Array.isArray(n.interviewers)&&(e.interviewers=n.interviewers.map((function(t){return{id:t.empNumber,label:e.translateEmpName(t,{includeMiddle:!0,excludePastEmpTag:!0}),isPastEmployee:!!t.terminationId}})))}})).finally((function(){e.isLoading=!1}))},methods:{onAddAnother:function(){this.interviewers.length<5&&this.interviewers.push(null)},onRemoveInterviewer:function(e){this.interviewers.splice(e,1)},onSave:function(){var e=this;this.loading=!0,this.http.update(this.historyId,{note:this.history.note}).then((function(){return e.isScheduleInterview?e.http.request({method:"PUT",url:"api/v2/recruitment/candidates/".concat(e.candidateId,"/interviews/").concat(e.history.interview.id),data:Object(M["a"])(Object(M["a"])({},e.interview),{},{note:e.history.note,interviewerEmpNumbers:e.interviewers.map((function(e){return null===e||void 0===e?void 0:e.id})).filter(Number)})}):null})).then((function(){e.loading=!1,e.$toast.saveSuccess()}))},onClickBack:function(){Z("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const IU=C()(TU,[["render",$U]]);var LU=IU,UU={class:"orangehrm-container"},PU={key:1,class:"orangehrm-bottom-container"},qU={class:"orangehrm-paper-container"},RU=["src"];function MU(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("vacancy-card"),u=Object(o["resolveComponent"])("oxd-loading-spinner"),d=Object(o["resolveComponent"])("oxd-pagination"),s=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",UU,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(null===(c=a.vacancies)||void 0===c?void 0:c.data,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:e,"vacancy-id":e.vacancyId,"vacancy-title":e.vacancyTitle,"vacancy-description":e.vacancyDescription},null,8,["vacancy-id","vacancy-title","vacancy-description"])})),128)),a.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"orangehrm-container-loader"})):Object(o["createCommentVNode"])("",!0),a.showPaginator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",PU,[Object(o["createVNode"])(d,{current:a.currentPage,"onUpdate:current":t[0]||(t[0]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",qU,[Object(o["createVNode"])(s,{tag:"p",class:"orangehrm-vacancy-list-poweredby"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.powered_by")),1)]})),_:1}),Object(o["createElementVNode"])("img",{src:a.defaultPic,alt:"OrangeHRM Picture",class:"orangehrm-container-img"},null,8,RU),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])],64)}var zU={class:"orangehrm-card-container"},GU={class:"orangehrm-vacancy-card-header"},QU={key:0,class:"orangehrm-vacancy-card-pre-tag"},WU={key:0,class:"orangehrm-vacancy-card-footer"};function HU(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-divider");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zU,[Object(o["createElementVNode"])("div",GU,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.vacancyTitle),1)]})),_:1}),Object(o["createVNode"])(i,{label:e.$t("general.apply"),"display-type":"secondary",class:"oxd-button",onClick:l.apply},null,8,["label","onClick"])]),Object(o["withDirectives"])(Object(o["createVNode"])(u,null,null,512),[[o["vShow"],n.vacancyDescription]]),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({"orangehrm-vacancy-card-body":l.isViewDetails})},[Object(o["createVNode"])(c,{type:"toast-message"},{default:Object(o["withCtx"])((function(){return[n.vacancyDescription?(Object(o["openBlock"])(),Object(o["createElementBlock"])("pre",QU,Object(o["toDisplayString"])(n.vacancyDescription),1)):Object(o["createCommentVNode"])("",!0)]})),_:1})],2),n.vacancyDescription&&n.vacancyDescription.length>l.descriptionLength?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",WU,[Object(o["createElementVNode"])("a",{onClick:t[0]||(t[0]=function(){return l.viewDetails&&l.viewDetails.apply(l,arguments)})},[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-vacancy-card-anchor-tag"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.isViewDetails?e.$t("general.show_more"):e.$t("general.show_less")),1)]})),_:1})])])):Object(o["createCommentVNode"])("",!0)])}var JU=n("ab41"),YU={name:"VacancyCard",props:{vacancyId:{type:Number,required:!0},vacancyTitle:{type:String,required:!0},vacancyDescription:{type:String,required:!0}},setup:function(){var e=Object(JU["c"])();return Object(M["a"])({},Object(o["toRefs"])(e))},data:function(){return{viewMore:!1}},computed:{isMobile:function(){return this.windowWidth<600},isViewDetails:function(){return!this.viewMore},descriptionLength:function(){return this.isMobile?150:this.windowWidth<1920?250:400}},methods:{viewDetails:function(){this.viewMore=!this.viewMore},apply:function(){Z("/recruitmentApply/applyVacancy/id/{id}",{id:this.vacancyId})}}};n("c7bd");const XU=C()(YU,[["render",HU],["__scopeId","data-v-b75b5590"]]);var KU=XU,ZU={name:"VacancyList",components:{"vacancy-card":KU,"oxd-loading-spinner":ne["a"]},setup:function(){var e="".concat(window.appGlobal.baseUrl,"/../images/ohrm_branding.png"),t=function(e){return e.map((function(e){return{vacancyId:e.id,vacancyTitle:e.name,vacancyDescription:e.description}}))},n=new te(window.appGlobal.baseUrl,"/api/v2/recruitment/public/vacancies"),o=Kt(n,{normalizer:t,pageSize:8}),a=o.showPaginator,r=o.currentPage,l=o.total,c=o.pages,i=o.response,u=o.isLoading;return{defaultPic:e,showPaginator:a,currentPage:r,isLoading:u,total:l,pages:c,vacancies:i}}};n("e8ed");const eP=C()(ZU,[["render",MU],["__scopeId","data-v-21e8d053"]]);var tP=eP,nP={class:"orangehrm-container"},oP={class:"orangehrm-card-container"},aP={class:"orangehrm-card-container-header"},rP=["src"],lP={class:"orangehrm-applicant-card-pre-tag"},cP={key:0,class:"orangehrm-vacancy-card-footer"},iP=["value"],uP=["value"],dP={class:"orangehrm-applicant-container"},sP={class:"orangehrm-paper-container"},mP=["src"];function bP(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("full-name-input"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-input-field"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("success-dialogue");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",nP,[Object(o["createElementVNode"])("div",oP,[Object(o["createElementVNode"])("div",aP,[Object(o["createVNode"])(c,{class:"orangehrm-main-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.apply_for_n_vacancy",{vacancyName:r.vacancyName})),1)]})),_:1}),Object(o["createElementVNode"])("img",{class:"oxd-brand-banner",src:n.bannerSrc},null,8,rP)]),r.vacancyDescription?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(i),Object(o["createVNode"])(c,{class:"orangehrm-vacancy-description",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.description")),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:Object(o["normalizeClass"])(l.descriptionClasses)},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("pre",lP,Object(o["toDisplayString"])(r.vacancyDescription)+"\n        ",1)]})),_:1},8,["class"]),r.vacancyDescription.length>l.descriptionLength?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",cP,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-vacancy-card-anchor-tag",onClick:l.onToggleMore},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.isViewDetails?e.$t("general.show_less"):e.$t("general.show_more")),1)]})),_:1},8,["onClick"])])):Object(o["createCommentVNode"])("",!0)],64)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{ref:"applicantForm",method:"post",enctype:"multipart/form-data",loading:r.isLoading,action:l.submitUrl,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,iP),Object(o["createElementVNode"])("input",{name:"vacancyId",value:n.vacancyId,type:"hidden"},null,8,uP),Object(o["createElementVNode"])("div",dP,[Object(o["createVNode"])(m,{class:"orangehrm-applicant-container-row"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:1,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{firstName:a.applicant.firstName,"onUpdate:firstName":t[0]||(t[0]=function(e){return a.applicant.firstName=e}),lastName:a.applicant.lastName,"onUpdate:lastName":t[1]||(t[1]=function(e){return a.applicant.lastName=e}),middleName:a.applicant.middleName,"onUpdate:middleName":t[2]||(t[2]=function(e){return a.applicant.middleName=e}),label:e.$t("general.full_name"),rules:r.rules,required:""},null,8,["firstName","lastName","middleName","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{class:"orangehrm-applicant-container-row"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-applicant-container-colspan-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.applicant.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.applicant.email=e}),name:"email",label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:r.rules.email,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.applicant.contactNumber,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.applicant.contactNumber=e}),name:"contactNumber",label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:r.rules.contactNumber},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.applicant.resume,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.applicant.resume=e}),name:"resume",type:"file",label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),rules:r.rules.resume,required:""},null,8,["modelValue","label","button-label","rules"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accept_custom_format_file")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-applicant-container-colspan-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.applicant.keywords,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.applicant.keywords=e}),name:"keywords",label:e.$t("recruitment.keywords"),placeholder:"".concat(e.$t("recruitment.enter_comma_seperated_words"),"..."),rules:r.rules.keywords},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-applicant-container-colspan-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.applicant.comment,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.applicant.comment=e}),name:"comment",label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-applicant-container-colspan-2 orangehrm-applicant-container-grid-checkbox"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.applicant.consentToKeepData,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.applicant.consentToKeepData=e}),name:"consentToKeepData",label:e.$t("recruitment.consent_to_keep_data"),type:"checkbox"},null,8,["modelValue","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{label:e.$t("general.back"),"display-type":"ghost",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h,{label:e.$t("general.submit")},null,8,["label"])]})),_:1})])]})),_:1},8,["loading","action","onSubmitValid"])])]),Object(o["createElementVNode"])("div",sP,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-vacancy-list-poweredby"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.powered_by")),1)]})),_:1}),Object(o["createElementVNode"])("img",{src:a.defaultPic,alt:"OrangeHRM Picture",class:"orangehrm-container-img"},null,8,mP),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)]),Object(o["createVNode"])(v,{ref:"showDialogueModal"},null,512)],64)}var pP={class:"orangehrm-modal-header"},fP={class:"orangehrm-text-center-align"},hP={class:"orangehrm-modal-footer"};function jP(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("simple-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,"with-close":!1,class:"orangehrm-confirmation-dialog orangehrm-dialog-popup","onUpdate:show":l.onSuccess},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",pP,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.application_received")),1)]})),_:1})]),Object(o["createElementVNode"])("div",fP,[Object(o["createVNode"])(c,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("recruitment.your_application_has_been_submitted_successfully")),1)]})),_:1})]),Object(o["createElementVNode"])("div",hP,[Object(o["createVNode"])(i,{label:e.$t("general.ok"),"display-type":"text",class:"orangehrm-button-margin",onClick:l.onSuccess},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var OP={name:"SuccessDialog",components:{"simple-dialog":oe["a"]},data:function(){return{show:!1,resolve:null}},methods:{showSuccessDialog:function(){var e=this;return new Promise((function(t){e.resolve=t,e.show=!0}))},onSuccess:function(){this.show=!1,this.resolve&&this.resolve("ok")}}};n("800c");const vP=C()(OP,[["render",jP],["__scopeId","data-v-1486003a"]]);var gP=vP,CP={firstName:"",middleName:"",lastName:"",contactNumber:"",email:"",consentToKeepData:!1,resume:null,keywords:null,comment:null},yP={name:"ApplyJobVacancy",components:{"submit-button":V,"full-name-input":Jm,"success-dialogue":gP},props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},vacancyId:{type:Number,required:!0},success:{type:Boolean,default:!1},bannerSrc:{type:String,required:!0},token:{type:String,required:!0}},setup:function(){var e="".concat(window.appGlobal.baseUrl,"/../images/ohrm_branding.png"),t=Object(o["ref"])(Object(M["a"])({},CP)),n=Object(JU["c"])(),a=new te(window.appGlobal.baseUrl,"api/v2/recruitment/public/vacancies");return Object(M["a"])({http:a,applicant:t,defaultPic:e},Object(o["toRefs"])(n))},data:function(){return{title:null,subtitle:null,successLabel:null,isLoading:!1,vacancyName:"",vacancyDescription:null,rules:{firstName:[On,vn(30)],middleName:[vn(30)],lastName:[On,vn(30)],resume:[On,Tn(this.maxFileSize),In(this.allowedFileTypes)],comment:[vn(250)],keywords:[vn(250)],contactNumber:[vn(25),Un],email:[On,Ln,vn(50)]},isViewDetails:!0}},computed:{submitUrl:function(){return K("/recruitment/public/applicants")},descriptionClasses:function(){return{"orangehrm-vacancy-description":!0,"orangehrm-vacancy-card-body":!this.isViewDetails}},isMobile:function(){return this.windowWidth<600},descriptionLength:function(){return this.isMobile?150:this.windowWidth<1920?250:400}},beforeMount:function(){var e=this;this.http.get(this.vacancyId).then((function(t){var n,o=t.data.data;e.vacancyName=null!==(n=null===o||void 0===o?void 0:o.name)&&void 0!==n?n:"",e.vacancyDescription=null===o||void 0===o?void 0:o.description}))},mounted:function(){this.success&&this.showDialogue()},methods:{onSave:function(){this.$refs.applicantForm.$el.submit()},onCancel:function(){Z("/recruitmentApply/jobs.html")},showDialogue:function(){this.$refs.showDialogueModal.showSuccessDialog().then((function(e){"ok"===e&&Z("/recruitmentApply/jobs.html")}))},onToggleMore:function(){this.isViewDetails=!this.isViewDetails}}};n("b3da");const VP=C()(yP,[["render",bP],["__scopeId","data-v-64344ee9"]]);var wP=VP,xP={class:"orangehrm-attachment"},DP={class:"orangehrm-attachment-header"},NP={class:"orangehrm-container"},_P={class:"orangehrm-bottom-container"};function kP(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("save-interview-attachment"),u=Object(o["resolveComponent"])("edit-interview-attachment"),d=Object(o["resolveComponent"])("oxd-text"),s=Object(o["resolveComponent"])("oxd-button"),m=Object(o["resolveComponent"])("table-header"),b=Object(o["resolveComponent"])("oxd-card-table"),p=Object(o["resolveComponent"])("oxd-pagination"),f=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xP,[r.showSaveModal?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,http:a.http,"max-file-size":n.maxFileSize,"allowed-file-types":n.allowedFileTypes,onClose:l.closeModel},null,8,["http","max-file-size","allowed-file-types","onClose"])):r.showEditModal?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,http:a.http,data:r.editModalState,"max-file-size":n.maxFileSize,"allowed-file-types":n.allowedFileTypes,onClose:l.closeModel},null,8,["http","data","max-file-size","allowed-file-types","onClose"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Object(o["createElementVNode"])("div",DP,[Object(o["createVNode"])(d,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.attachments")),1)]})),_:1}),Object(o["createVNode"])(s,{"icon-name":"plus","display-type":"text",label:e.$t("general.add"),onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(m,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",NP,[Object(o["createVNode"])(b,{selected:r.checkedItems,"onUpdate:selected":t[0]||(t[0]=function(e){return r.checkedItems=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,clickable:!1,selectable:!0,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",_P,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])],64)),Object(o["createVNode"])(f,{ref:"deleteDialog"},null,512)])}var EP={class:"orangehrm-card-container"};function SP(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("required-text"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("submit-button"),h=Object(o["resolveComponent"])("oxd-form-actions"),j=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",EP,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.add_attachment")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attachment.attachment=e}),type:"file",label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),rules:r.rules.attachment,placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.attachment.comment,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attachment.comment=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b),Object(o["createVNode"])(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(f)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var AP={attachment:null,comment:""},$P={name:"SaveInterviewAttachment",props:{http:{type:Object,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},emits:["close"],data:function(){return{isLoading:!1,attachment:Object(M["a"])({},AP),rules:{comment:[vn(200)],attachment:[On,Tn(this.maxFileSize),In(this.allowedFileTypes)]}}},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.create(Object(M["a"])({},this.attachment)).then((function(){return e.$toast.saveSuccess()})).then((function(){e.attachment=Object(M["a"])({},AP),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const FP=C()($P,[["render",SP]]);var BP=FP,TP={class:"orangehrm-card-container"};function IP(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-group"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-input-field"),p=Object(o["resolveComponent"])("required-text"),f=Object(o["resolveComponent"])("oxd-button"),h=Object(o["resolveComponent"])("submit-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",TP,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.edit_attachment")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{label:e.$t("general.current_file")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.currentFile),1)]})),_:1})]})),_:1},8,["label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.attachment.attachment=e}),type:"file",label:e.$t("general.replace_with"),"button-label":e.$t("general.browse"),rules:r.rules.attachment,placeholder:e.$t("general.no_file_selected")},null,8,["modelValue","label","button-label","rules","placeholder"]),Object(o["createVNode"])(c,{class:"orangehrm-input-hint",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.accepts_up_to_1mb")),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.attachment.comment,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attachment.comment=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:r.rules.comment},null,8,["modelValue","label","placeholder","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p),Object(o["createVNode"])(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])}var LP={attachment:null,comment:""},UP={name:"EditInterviewAttachment",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},emits:["close"],data:function(){return{isLoading:!1,currentFile:"",attachment:Object(M["a"])({},LP),rules:{comment:[vn(200)],attachment:[Tn(this.maxFileSize),In(this.allowedFileTypes)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.data.id).then((function(t){var n=t.data.data;e.currentFile=n.attachment.fileName,e.attachment.comment=n.comment})).finally((function(){e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.data.id,{comment:this.attachment.comment,currentAttachment:null!==this.attachment.attachment?"replaceCurrent":"keepCurrent",attachment:null!==this.attachment.attachment?this.attachment.attachment:void 0}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.attachment=Object(M["a"])({},LP),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};const PP=C()(UP,[["render",IP]]);var qP=PP,RP=function(e){return e.map((function(e){var t,n,o;return{id:e.id,interviewId:e.interviewId,filename:null===(t=e.attachment)||void 0===t?void 0:t.fileName,size:op((null===(n=e.attachment)||void 0===n?void 0:n.fileSize)||0,2),fileType:null===(o=e.attachment)||void 0===o?void 0:o.fileType,comment:e.comment}}))},MP={components:{"delete-confirmation":rn,"save-interview-attachment":BP,"edit-interview-attachment":qP},props:{interviewId:{type:Number,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/recruitment/interviews/".concat(e.interviewId,"/attachments")),n=Kt(t,{normalizer:RP,toastNoRecords:!1}),o=n.showPaginator,a=n.currentPage,r=n.total,l=n.pages,c=n.pageSize,i=n.response,u=n.isLoading,d=n.execQuery;return{http:t,showPaginator:o,currentPage:a,isLoading:u,total:r,pages:l,pageSize:c,execQuery:d,items:i}},data:function(){return{headers:[{name:"filename",slot:"title",title:this.$t("general.file_name"),style:{flex:1}},{name:"size",title:this.$t("general.size"),style:{flex:1}},{name:"fileType",title:this.$t("general.type"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}},delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},download:{onClick:this.onClickDownload,props:{name:"download"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},methods:{onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.items)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},onClickAdd:function(){this.showSaveModal=!0,this.showEditModal=!1},onClickEdit:function(e){this.showSaveModal=!1,this.showEditModal=!0,this.editModalState=e},closeModel:function(){this.showSaveModal=!1,this.showEditModal=!1,this.resetDataTable()},onClickDownload:function(e){var t="".concat(window.appGlobal.baseUrl,"/recruitment/viewInterviewAttachment/interview/").concat(this.interviewId,"/attachment/").concat(e.id);window.open(t,"_blank")}}};n("c98f");const zP=C()(MP,[["render",kP],["__scopeId","data-v-12fa5e51"]]);var GP=zP,QP={"view-job-vacancy":_T,"add-job-vacancy":WT,"edit-job-vacancy":vI,"save-candidate":VL,"view-candidates-list":ML,"view-candidate-profile":SU,"shortlist-action":jL,"reject-action":mL,"interview-schedule-action":XI,"interview-passed-action":PI,"interview-failed-action":BI,"offer-job-action":nL,"offer-decline-action":cL,"hire-action":EI,"view-action-history":LU,"vacancy-list":tP,"apply-job-vacancy":wP,"view-interview-attachments":GP},WP={class:"orangehrm-background-container"},HP={class:"orangehrm-paper-container"},JP={class:"orangehrm-header-container"},YP={class:"orangehrm-container"},XP={class:"orangehrm-bottom-container"};function KP(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("table-header"),d=Object(o["resolveComponent"])("oxd-card-table"),s=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",WP,[Object(o["createElementVNode"])("div",HP,[Object(o["createElementVNode"])("div",JP,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.my_performance_trackers")),1)]})),_:1})]),Object(o["createVNode"])(u,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",YP,[Object(o["createVNode"])(d,{order:a.sortDefinition,"onUpdate:order":t[0]||(t[0]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(o["createElementVNode"])("div",XP,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])])}var ZP={"performanceTracker.trackerName":"DEFAULT","performanceTracker.addedDate":"DEFAULT","performanceTracker.modifiedDate":"DESC"},eq={setup:function(){var e=ln({sortDefinition:ZP}),t=e.sortDefinition,n=e.sortField,a=e.sortOrder,r=e.onSort,l=Object(o["computed"])((function(){return{sortField:n.value,sortOrder:a.value}})),c=new te(window.appGlobal.baseUrl,"/api/v2/performance/trackers"),i=de(),u=i.jsDateFormat,d=Xe(),s=d.locale,m=function(e){return e.map((function(e){return{id:e.id,tracker:e.trackerName,addedDate:ke(_e(e.addedDate),u,{locale:s}),modifiedDate:ke(_e(e.modifiedDate),u,{locale:s})}}))},b=Kt(c,{query:l,normalizer:m}),p=b.currentPage,f=b.total,h=b.showPaginator,j=b.pages,O=b.pageSize,v=b.response,g=b.execQuery,C=b.isLoading;return r(g),{http:c,total:f,isLoading:C,items:v,execQuery:g,sortDefinition:t,showPaginator:h,pages:j,pageSize:O,currentPage:p}},data:function(){return{headers:[{name:"tracker",slot:"title",title:this.$t("performance.tracker"),sortField:"performanceTracker.trackerName",style:{flex:"30%"}},{name:"addedDate",title:this.$t("performance.added_date"),sortField:"performanceTracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"performanceTracker.modifiedDate",style:{flex:1}},{name:"action",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{name:"view",label:this.$t("general.view"),displayType:"text"}}}}]}},methods:{onClickView:function(e){Z("/performance/addPerformanceTrackerLog/trackId/{id}?mode=my",{id:e.id})}}};const tq=C()(eq,[["render",KP]]);var nq=tq,oq={class:"orangehrm-background-container"},aq=Object(o["createElementVNode"])("br",null,null,-1),rq={class:"orangehrm-paper-container"},lq={class:"orangehrm-container"},cq={class:"orangehrm-bottom-container"};function iq(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("include-employee-dropdown"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("oxd-divider"),p=Object(o["resolveComponent"])("oxd-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("oxd-table-filter"),O=Object(o["resolveComponent"])("table-header"),v=Object(o["resolveComponent"])("oxd-card-table"),g=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oq,[Object(o["createVNode"])(j,{"filter-title":e.$t("performance.employee_performance_trackers")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{onSubmitValid:l.filterItems,onReset:l.resetDataTable},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.empName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.empName=e}),rules:r.rules.employee,"api-path":"api/v2/performance/trackers/reviewers",params:{includeEmployees:a.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.includeEmployees,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.includeEmployees=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),aq,Object(o["createElementVNode"])("div",rq,[Object(o["createVNode"])(O,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",lq,[Object(o["createVNode"])(v,{order:a.sortDefinition,"onUpdate:order":t[2]||(t[2]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!1,clickable:!0,loading:a.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(o["createElementVNode"])("div",cq,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])])}var uq={empName:null,includeEmployees:{id:1,param:"onlyCurrent",label:"Current Employees Only"}},dq={"employee.lastName":"DEFAULT","tracker.trackerName":"DEFAULT","tracker.modifiedDate":"DESC","tracker.addedDate":"DEFAULT"},sq={components:{"include-employee-dropdown":xb,"employee-autocomplete":Zo},setup:function(){var e=Je(),t=e.$t,n=de(),a=n.jsDateFormat,r=Xe(),l=r.locale,c=function(e){return e.map((function(e){var n,o,r;return{id:e.id,title:e.title,empName:"".concat(null===(n=e.employee)||void 0===n?void 0:n.firstName," ").concat(null===(o=e.employee)||void 0===o?void 0:o.lastName," ").concat(null!==(r=e.employee)&&void 0!==r&&r.terminationId?" ".concat(t("general.past_employee")):""),modifiedDate:ke(_e(e.modifiedDate),a,{locale:l}),addedDate:ke(_e(e.addedDate),a,{locale:l})}}))},i=Object(o["ref"])(Object(M["a"])({},uq)),u=ln({sortDefinition:dq}),d=u.sortDefinition,s=u.sortField,m=u.sortOrder,b=u.onSort,p=Object(o["computed"])((function(){var e,t;return{sortField:s.value,sortOrder:m.value,empNumber:null===(e=i.value.empName)||void 0===e?void 0:e.id,includeEmployees:null===(t=i.value.includeEmployees)||void 0===t?void 0:t.param}})),f="api/v2/performance/employees/trackers",h=new te(window.appGlobal.baseUrl,f),j=Kt(h,{query:p,normalizer:c}),O=j.showPaginator,v=j.currentPage,g=j.total,C=j.pages,y=j.pageSize,V=j.isLoading,w=j.response,x=j.execQuery;return b(x),{total:g,showPaginator:O,currentPage:v,pages:C,pageSize:y,isLoading:V,items:w,api:f,http:h,execQuery:x,sortDefinition:d,filters:i}},data:function(){return{headers:[{name:"empName",slot:"title",title:this.$t("general.employee_name"),sortField:"employee.lastName",style:{flex:2}},{name:"title",title:this.$t("general.trackers"),sortField:"tracker.trackerName",style:{flex:2}},{name:"addedDate",title:this.$t("performance.added_date"),sortField:"tracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"tracker.modifiedDate",style:{flex:1}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{name:"view",label:this.$t("general.view"),class:"orangehrm-left-space",displayType:"text"}}}}],rules:{employee:[Kn]}}},methods:{resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickView:function(e){Z("/performance/addPerformanceTrackerLog/trackId/{id}",{id:e.id})}}};const mq=C()(sq,[["render",iq]]);var bq=mq,pq=function(e){return Object(o["pushScopeId"])("data-v-269f69c4"),e=e(),Object(o["popScopeId"])(),e},fq={class:"orangehrm-background-container"},hq={class:"orangehrm-card-container"},jq={class:"orangehrm-module-field-row"},Oq=pq((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function vq(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("jobtitle-dropdown"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fq,[Object(o["createElementVNode"])("div",hq,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.edit_key_performance_indicator")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.kpi.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.kpi.title=e}),label:e.$t("performance.key_performance_indicator"),required:"",rules:r.rules.title,autcomplete:"off",readonly:r.isReadOnly},null,8,["modelValue","label","rules","readonly"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.kpi.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.kpi.jobTitle=e}),required:"",rules:r.rules.jobTitle},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.kpi.minRating,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.kpi.minRating=e}),modelModifiers:{number:!0},label:e.$t("performance.minimum_rating"),required:"",autcomplete:"off",rules:r.rules.minRating,readonly:r.isReadOnly},null,8,["modelValue","label","rules","readonly"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.kpi.maxRating,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.kpi.maxRating=e}),modelModifiers:{number:!0},label:e.$t("performance.maximum_rating"),required:"",autcomplete:"off",rules:r.rules.maxRating,readonly:r.isReadOnly},null,8,["modelValue","label","rules","readonly"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",jq,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.make_default_scale")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.kpi.isDefault,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.kpi.isDefault=e})},null,8,["modelValue"])])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Oq,Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var gq={title:"",jobTitle:null,minRating:null,maxRating:null,isDefault:!1},Cq={name:"KpiSave",components:{"oxd-switch-input":Pa["a"],"jobtitle-dropdown":bb},props:{kpiId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/performance/kpis");return{http:e}},data:function(){var e=this;return{isLoading:!1,kpi:Object(M["a"])({},gq),isReadOnly:!1,rules:{title:[On,vn(100)],jobTitle:[On],minRating:[On,Qn(0,100),Gn((function(){return e.kpi.maxRating}),this.$t("performance.minimum_rating_should_be_less_than_maximum_rating"))],maxRating:[On,Qn(0,100),zn((function(){return e.kpi.minRating}),this.$t("performance.maximum_rating_should_be_greater_than_minimum_rating"))]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.kpiId).then((function(t){var n=t.data.data,o=t.data.meta;e.isReadOnly=!1===o.editable,e.kpi.title=n.title,e.kpi.jobTitle=n.jobTitle.deleted?null:{id:n.jobTitle.id,label:n.jobTitle.name},e.kpi.minRating=n.minRating,e.kpi.maxRating=n.maxRating,e.kpi.isDefault=n.isDefault})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/performance/searchKpi")},onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.kpiId,{title:this.kpi.title,jobTitleId:this.kpi.jobTitle.id,minRating:this.kpi.minRating,maxRating:this.kpi.maxRating,isDefault:this.kpi.isDefault}).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))}}};n("6e41");const yq=C()(Cq,[["render",vq],["__scopeId","data-v-269f69c4"]]);var Vq=yq,wq=function(e){return Object(o["pushScopeId"])("data-v-108426f4"),e=e(),Object(o["popScopeId"])(),e},xq={class:"orangehrm-background-container"},Dq={class:"orangehrm-card-container"},Nq={class:"orangehrm-module-field-row"},_q=wq((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function kq(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("jobtitle-dropdown"),m=Object(o["resolveComponent"])("oxd-grid"),b=Object(o["resolveComponent"])("oxd-form-row"),p=Object(o["resolveComponent"])("oxd-switch-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xq,[Object(o["createElementVNode"])("div",Dq,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.add_key_performance_indicator")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.kpi.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.kpi.title=e}),label:e.$t("performance.key_performance_indicator"),required:"",rules:r.rules.title,autcomplete:"off"},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.kpi.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.kpi.jobTitle=e}),required:"",rules:r.rules.jobTitle},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.kpi.minRating,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.kpi.minRating=e}),modelModifiers:{number:!0},label:e.$t("performance.minimum_rating"),required:"",autcomplete:"off",rules:r.rules.minRating},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.kpi.maxRating,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.kpi.maxRating=e}),modelModifiers:{number:!0},label:e.$t("performance.maximum_rating"),required:"",autcomplete:"off",rules:r.rules.maxRating},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Nq,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-module-field-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.make_default_scale")),1)]})),_:1}),Object(o["createVNode"])(p,{modelValue:r.kpi.isDefault,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.kpi.isDefault=e})},null,8,["modelValue"])])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),_q,Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var Eq={title:"",jobTitle:null,minRating:null,maxRating:null,isDefault:!1},Sq={name:"KpiSave",components:{"oxd-switch-input":Pa["a"],"jobtitle-dropdown":bb},props:{defaultMinRating:{type:Number,required:!1,default:null},defaultMaxRating:{type:Number,required:!1,default:null}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/performance/kpis");return{http:e}},data:function(){var e=this;return{isLoading:!1,kpi:Object(M["a"])({},Eq),rules:{title:[On,vn(100)],jobTitle:[On],minRating:[On,Qn(0,100),Gn((function(){return e.kpi.maxRating}),this.$t("performance.minimum_rating_should_be_less_than_maximum_rating"))],maxRating:[On,Qn(0,100),zn((function(){return e.kpi.minRating}),this.$t("performance.maximum_rating_should_be_greater_than_minimum_rating"))]}}},beforeMount:function(){this.kpi.minRating=this.defaultMinRating,this.kpi.maxRating=this.defaultMaxRating},methods:{onCancel:function(){Z("/performance/searchKpi")},onSave:function(){var e=this;this.isLoading=!0,this.http.create({title:this.kpi.title,jobTitleId:this.kpi.jobTitle.id,minRating:this.kpi.minRating,maxRating:this.kpi.maxRating,isDefault:this.kpi.isDefault}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))}}};n("c02d");const Aq=C()(Sq,[["render",kq],["__scopeId","data-v-108426f4"]]);var $q=Aq,Fq={class:"orangehrm-background-container"},Bq=Object(o["createElementVNode"])("br",null,null,-1),Tq={class:"orangehrm-paper-container"},Iq={class:"orangehrm-header-container"},Lq={class:"orangehrm-container"},Uq={class:"orangehrm-bottom-container"};function Pq(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("jobtitle-dropdown"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("table-header"),O=Object(o["resolveComponent"])("oxd-card-table"),v=Object(o["resolveComponent"])("oxd-pagination"),g=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fq,[Object(o["createVNode"])(h,{"filter-title":e.$t("performance.key_performance_indicators_for_job_title")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:l.filterItems,onReset:l.resetDataTable},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.jobTitleId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.jobTitleId=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),Bq,Object(o["createElementVNode"])("div",Tq,[Object(o["createElementVNode"])("div",Iq,[Object(o["createVNode"])(b,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(j,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",Lq,[Object(o["createVNode"])(O,{selected:r.checkedItems,"onUpdate:selected":t[1]||(t[1]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[2]||(t[2]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",Uq,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(g,{ref:"deleteDialog"},null,512)])}var qq={jobTitleId:null},Rq={"kpi.title":"ASC","jobTitle.jobTitleName":"DEFAULT"},Mq={name:"KpiSearch",components:{"delete-confirmation":rn,"jobtitle-dropdown":bb},setup:function(){var e=Je(),t=e.$t,n=function(e){return e.map((function(e){return{id:e.id,title:e.title,jobTitleName:e.jobTitle.name,jobTitleId:e.jobTitle.id,minRating:e.minRating,maxRating:e.maxRating,isDefault:e.isDefault?t("general.yes"):"",isDeletable:e.deletable}}))},a=Object(o["ref"])(Object(M["a"])({},qq)),r=ln({sortDefinition:Rq}),l=r.sortDefinition,c=r.sortField,i=r.sortOrder,u=r.onSort,d=Object(o["computed"])((function(){var e;return{sortField:c.value,sortOrder:i.value,jobTitleId:null===(e=a.value.jobTitleId)||void 0===e?void 0:e.id}})),s=new te(window.appGlobal.baseUrl,"api/v2/performance/kpis"),m=Kt(s,{query:d,normalizer:n}),b=m.showPaginator,p=m.currentPage,f=m.total,h=m.pages,j=m.pageSize,O=m.response,v=m.isLoading,g=m.execQuery;return u(g),{http:s,showPaginator:b,currentPage:p,total:f,pages:h,pageSize:j,items:O,isLoading:v,execQuery:g,filters:a,sortDefinition:l}},data:function(){return{headers:[{name:"title",title:this.$t("performance.key_performance_indicator"),slot:"title",sortField:"kpi.title",style:{flex:"30%"}},{name:"jobTitleName",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:"30%"}},{name:"minRating",title:this.$t("performance.min_rate"),style:{flex:"10%"}},{name:"maxRating",title:this.$t("performance.max_rate"),style:{flex:"10%"}},{name:"isDefault",title:this.$t("performance.is_default"),style:{flex:"10%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"10%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}],checkedItems:[]}},methods:{cellRenderer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[3],a={};return a.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}},o.isDeletable&&(a.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),{props:{header:{cellConfig:a}}}},onClickAdd:function(){Z("/performance/saveKpi")},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},onClickEdit:function(e){Z("/performance/saveKpi/{id}",{id:e.id})},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};const zq=C()(Mq,[["render",Pq]]);var Gq=zq,Qq={class:"orangehrm-background-container"},Wq={class:"orangehrm-card-container"},Hq={class:"orangehrm-button-row"};function Jq(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("supervisor-autocomplete"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qq,[Object(o["createElementVNode"])("div",Wq,[Object(o["createVNode"])(c,{class:"orangehrm-main-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.add_review")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{ref:"formRef",loading:r.isLoading},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.review.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.review.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.review.supervisorReviewer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.review.supervisorReviewer=e}),rules:r.rules.supervisorReviewer,subordinate:r.review.employee,required:""},null,8,["modelValue","rules","subordinate"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.review.startDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.review.startDate=e}),label:e.$t("performance.review_period_start_date"),rules:r.rules.startDate,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.review.endDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.review.endDate=e}),label:e.$t("performance.review_period_end_date"),rules:r.rules.endDate,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.review.dueDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.review.dueDate=e}),label:e.$t("performance.due_date"),rules:r.rules.dueDate,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createElementVNode"])("div",Hq,[Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.save"),type:"submit",onClick:t[5]||(t[5]=function(e){return l.onSave(!1)})},null,8,["label"]),Object(o["createVNode"])(h,{"display-type":"secondary",label:e.$t("performance.activate"),type:"button",onClick:t[6]||(t[6]=function(e){return l.onSave(!0)})},null,8,["label"])])]})),_:1})]})),_:1},8,["loading"])])])}function Yq(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{label:e.$t("performance.supervisor_reviewer"),clear:!1,"create-options":l.loadEmployees,required:""},null,8,["label","create-options"])}var Xq={name:"SupervisorAutoComplete",components:{"employee-autocomplete":Zo},props:{subordinate:{type:Object,required:!1,default:null}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/performance/supervisors");return{http:e}},methods:{loadEmployees:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()&&t.subordinate?t.http.getAll({nameOrId:e.trim(),empNumber:t.subordinate.id}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const Kq=C()(Xq,[["render",Yq]]);var Zq=Kq,eR={employee:null,supervisorReviewer:null,startDate:null,endDate:null,dueDate:null},tR={components:{"employee-autocomplete":Zo,"supervisor-autocomplete":Zq},setup:function(){var e=us(),t=e.formRef,n=e.invalid,o=e.validate,a=de(),r=a.userDateFormat,l=new te(window.appGlobal.baseUrl,"/api/v2/performance/manage/reviews");return l.setIgnorePath("/api/v2/performance/manage/reviews"),{formRef:t,invalid:n,validate:o,http:l,userDateFormat:r}},data:function(){var e=this;return{isLoading:!1,review:Object(M["a"])({},eR),rules:{employee:[On,Kn],supervisorReviewer:[On,Kn],startDate:[On,gn(this.userDateFormat),Pn((function(){return e.review.endDate}),this.$t("performance.review_period_start_date_should_be_before_end_date"))],endDate:[On,gn(this.userDateFormat),Sn((function(){return e.review.startDate}),this.$t("performance.review_period_end_date_should_be_after_start_date"))],dueDate:[On,gn(),Sn((function(){return e.review.endDate}),this.$t("performance.due_date_should_be_after_review_period_end_date"))]}}},methods:{onCancel:function(){Z("/performance/searchPerformanceReview")},onSave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.validate().then((function(){!0!==e.invalid&&(e.isLoading=!0,e.http.create({empNumber:e.review.employee.id,reviewerEmpNumber:e.review.supervisorReviewer.id,startDate:e.review.startDate,endDate:e.review.endDate,dueDate:e.review.dueDate,activate:t}).then((function(){return!0===t?e.$toast.success({title:e.$t("general.success"),message:e.$t("general.successfully_activated")}):e.$toast.updateSuccess()})).then((function(){e.onCancel()})).catch((function(t){return e.$toast.warn({title:e.$t("general.warning"),message:null===t||void 0===t?void 0:t.data.error.message})})).finally((function(){e.isLoading=!1})))}))}}};n("4222");const nR=C()(tR,[["render",Jq],["__scopeId","data-v-3ef1235c"]]);var oR=nR,aR={class:"orangehrm-background-container"},rR={class:"orangehrm-card-container"},lR={class:"orangehrm-button-row"};function cR(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("employee-autocomplete"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("supervisor-autocomplete"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",aR,[Object(o["createElementVNode"])("div",rR,[Object(o["createVNode"])(c,{class:"orangehrm-main-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.edit_review")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,{ref:"formRef",loading:r.isLoading},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.review.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.review.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.review.supervisorReviewer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.review.supervisorReviewer=e}),rules:r.rules.supervisorReviewer,required:"",subordinate:r.review.employee},null,8,["modelValue","rules","subordinate"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:3,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.review.startDate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.review.startDate=e}),label:e.$t("performance.review_period_start_date"),rules:r.rules.startDate,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.review.endDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.review.endDate=e}),label:e.$t("performance.review_period_end_date"),rules:r.rules.endDate,required:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.review.dueDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.review.dueDate=e}),label:e.$t("performance.due_date"),rules:r.rules.dueDate,required:""},null,8,["modelValue","label","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createElementVNode"])("div",lR,[Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.save"),type:"submit",onClick:t[5]||(t[5]=function(e){return l.onSave(!1)})},null,8,["label"]),Object(o["createVNode"])(h,{"display-type":"secondary",label:e.$t("performance.activate"),type:"button",onClick:t[6]||(t[6]=function(e){return l.onSave(!0)})},null,8,["label"])])]})),_:1})]})),_:1},8,["loading"])])])}var iR={employee:null,supervisorReviewer:null,startDate:null,endDate:null,dueDate:null},uR={components:{"employee-autocomplete":Zo,"supervisor-autocomplete":Zq},props:{reviewId:{type:Number,required:!0}},setup:function(){var e=us(),t=e.formRef,n=e.invalid,o=e.validate,a=de(),r=a.userDateFormat,l=new te(window.appGlobal.baseUrl,"/api/v2/performance/manage/reviews");return l.setIgnorePath("/api/v2/performance/manage/reviews/[0-9]+"),{formRef:t,invalid:n,validate:o,http:l,userDateFormat:r}},data:function(){var e=this;return{isLoading:!1,review:Object(M["a"])({},iR),rules:{employee:[On,Kn],supervisorReviewer:[On,Kn],startDate:[On,gn(this.userDateFormat),Pn((function(){return e.review.endDate}),this.$t("general.review_period_start_date_should_be_before_end_date"))],endDate:[On,gn(this.userDateFormat),Sn((function(){return e.review.startDate}),this.$t("performance.review_period_end_date_should_be_after_start_date"))],dueDate:[On,gn(),Sn((function(){return e.review.endDate}),this.$t("performance.due_date_should_be_after_review_period_end_date"))]}}},created:function(){var e=this;this.isLoading=!0,this.http.get(this.reviewId).then((function(t){var n=t.data.data;e.review.employee=n.employee?{id:n.employee.empNumber,label:"".concat(n.employee.firstName," ").concat(n.employee.middleName?n.employee.middleName:""," ").concat(n.employee.lastName),isPastEmployee:!!n.employee.terminationId}:null,e.review.supervisorReviewer=n.reviewer.employee?{id:n.reviewer.employee.empNumber,label:"".concat(n.reviewer.employee.firstName," ").concat(n.reviewer.employee.middleName?n.reviewer.employee.middleName:""," ").concat(n.reviewer.employee.lastName),isPastEmployee:!!n.reviewer.employee.terminationId}:null,e.review.startDate=n.reviewPeriodStart,e.review.endDate=n.reviewPeriodEnd,e.review.dueDate=n.dueDate})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/performance/searchPerformanceReview")},onSave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.validate().then((function(){if(!0!==e.invalid){if(e.review.supervisorReviewer.isPastEmployee)return e.$toast.warn({title:e.$t("general.warning"),message:e.$t("performance.cannot_add_a_past_employee_as_a_reviewer")});e.isLoading=!0,e.http.update(e.reviewId,{empNumber:e.review.employee.id,reviewerEmpNumber:e.review.supervisorReviewer.id,startDate:e.review.startDate,endDate:e.review.endDate,dueDate:e.review.dueDate,activate:t}).then((function(){return!0===t?e.$toast.success({title:e.$t("general.success"),message:e.$t("general.successfully_activated")}):e.$toast.updateSuccess()})).then((function(){e.onCancel()})).catch((function(t){return e.$toast.warn({title:e.$t("general.warning"),message:null===t||void 0===t?void 0:t.data.error.message})})).finally((function(){e.isLoading=!1}))}}))}}};n("9b84");const dR=C()(uR,[["render",cR],["__scopeId","data-v-e6a1ffe2"]]);var sR=dR,mR={class:"orangehrm-background-container"},bR=Object(o["createElementVNode"])("br",null,null,-1),pR={class:"orangehrm-paper-container"},fR={class:"orangehrm-header-container"},hR={class:"orangehrm-container"},jR={class:"orangehrm-bottom-container"};function OR(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-table-filter"),j=Object(o["resolveComponent"])("table-header"),O=Object(o["resolveComponent"])("oxd-card-table"),v=Object(o["resolveComponent"])("oxd-pagination"),g=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mR,[Object(o["createVNode"])(h,{"filter-title":e.$t("performance.performance_trackers")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onSubmitValid:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.empNumber,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.empNumber=e}),rules:r.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),Object(o["createVNode"])(b,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid"])]})),_:1},8,["filter-title"]),bR,Object(o["createElementVNode"])("div",pR,[Object(o["createElementVNode"])("div",fR,[Object(o["createVNode"])(b,{"display-type":"secondary","icon-name":"plus",label:e.$t("general.add"),onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(j,{loading:a.isLoading,selected:r.checkedItems.length,total:a.total,onDelete:l.onClickDeleteSelected},null,8,["loading","selected","total","onDelete"]),Object(o["createElementVNode"])("div",hR,[Object(o["createVNode"])(O,{order:a.sortDefinition,"onUpdate:order":t[1]||(t[1]=function(e){return a.sortDefinition=e}),selected:r.checkedItems,"onUpdate:selected":t[2]||(t[2]=function(e){return r.checkedItems=e}),clickable:!1,headers:r.headers,items:null===(c=a.response)||void 0===c?void 0:c.data,loading:a.isLoading,selectable:!0,"row-decorator":"oxd-table-decorator-card"},null,8,["order","selected","headers","items","loading"])]),Object(o["createElementVNode"])("div",jR,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0,current:a.currentPage,"onUpdate:current":t[3]||(t[3]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(g,{ref:"deleteDialog"},null,512)])}var vR={empNumber:null},gR={"performanceTracker.modifiedDate":"DESC","employee.lastName":"ASC","performanceTracker.trackerName":"ASC","performanceTracker.addedDate":"DESC"},CR={name:"TrackerList",components:{"delete-confirmation":rn,"employee-autocomplete":Zo},props:{unselectableIds:{type:Array,default:function(){return[]}}},setup:function(){var e=Xe(),t=e.locale,n=de(),a=n.jsDateFormat,r=ea(),l=r.$tEmpName,c=function(e){return e.map((function(e){return{id:e.id,tracker:e.trackerName,addDate:ke(_e(e.addedDate),a,{locale:t}),modifiedDate:ke(_e(e.modifiedDate),a,{locale:t}),empName:l(e.employee,{includeMiddle:!1,excludePastEmpTag:!1})}}))},i=new te(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers"),u=Object(o["ref"])(Object(M["a"])({},vR)),d=ln({sortDefinition:gR}),s=d.sortDefinition,m=d.sortField,b=d.sortOrder,p=d.onSort,f=Object(o["computed"])((function(){var e,t;return{empNumber:null===(e=u.value.empNumber)||void 0===e?void 0:e.id,sortField:m.value,sortOrder:b.value,includeEmployees:null===(t=u.value.includeEmployees)||void 0===t?void 0:t.param}})),h=Kt(i,{query:f,normalizer:c,prefetch:!0,toastNoRecords:!0}),j=h.showPaginator,O=h.currentPage,v=h.total,g=h.response,C=h.pages,y=h.isLoading,V=h.execQuery;return p(V),{http:i,total:v,isLoading:y,showPaginator:j,currentPage:O,pages:C,response:g,execQuery:V,sortDefinition:s,filters:u}},data:function(){return{headers:[{name:"empName",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:1}},{name:"tracker",title:this.$t("performance.tracker"),style:{flex:1},sortField:"performanceTracker.trackerName"},{name:"addDate",title:this.$t("performance.added_date"),sortField:"performanceTracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"performanceTracker.modifiedDate",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],rules:{employee:[Kn]}}},methods:{onClickAdd:function(){Z("/performance/addPerformanceTracker")},onClickEdit:function(e){Z("/performance/addPerformanceTracker/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=this.checkedItems.map((function(t){var n;return null===(n=e.response)||void 0===n?void 0:n.data[t].id}));this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this,n=this.unselectableIds.findIndex((function(t){return t==e.id}));if(n>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickReset:function(){this.filters=Object(M["a"])({},vR),this.filterItems()}}};const yR=C()(CR,[["render",OR]]);var VR=yR,wR={class:"orangehrm-background-container"},xR={class:"orangehrm-card-container"};function DR(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("employee-autocomplete"),p=Object(o["resolveComponent"])("reviewer-autocomplete"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",wR,[Object(o["createElementVNode"])("div",xR,[Object(o["createVNode"])(c,{class:"orangehrm-main-title",tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.add_performance_tracker")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.tracker.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.tracker.name=e}),rules:r.rules.tracker,label:e.$t("performance.tracker_name"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.tracker.employee,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.tracker.employee=e}),rules:r.rules.employee,required:""},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.tracker.reviewers,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tracker.reviewers=e}),rules:r.rules.reviewers,"exclude-employee":r.tracker.employee,required:""},null,8,["modelValue","rules","exclude-employee"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}function NR(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{label:e.$t("performance.reviewers"),multiple:!0,clear:!1,"create-options":l.loadEmployees,required:""},null,8,["label","create-options"])}var _R={name:"ReviewersAutoComplete",components:{"employee-autocomplete":Zo},props:{includeEmployees:{type:String,default:"onlyCurrent"},excludeEmployee:{type:Object,required:!1,default:null}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/performance/trackers/reviewers");return{http:e}},methods:{loadEmployees:function(e){var t=this;return Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.trim()?t.http.getAll({nameOrId:e.trim(),empNumber:null==t.excludeEmployee?null:t.excludeEmployee.id}).then((function(e){var t=e.data;n(t.data.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}})))})):n([])})));case 1:case"end":return n.stop()}}),n)})))()}}};const kR=C()(_R,[["render",NR]]);var ER=kR,SR={name:null,employee:null,reviewers:[]},AR={components:{"reviewer-autocomplete":ER,"employee-autocomplete":Zo},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers");return{http:e}},data:function(){var e=this;return{isLoading:!1,tracker:Object(M["a"])({},SR),rules:{tracker:[On,vn(200)],employee:[On,Kn,function(t){if(null===t)return!0;var n=e.tracker.reviewers.findIndex((function(e){return e.id===t.id}));return-1==n||e.$t("performance.employee_cannot_be_assigned_as_his_own_reviewer")}],reviewers:[On,Kn]}}},methods:{onCancel:function(){Z("/performance/viewPerformanceTracker")},onSave:function(){var e=this;this.isLoading=!0,this.http.create({trackerName:this.tracker.name.trim(),empNumber:this.tracker.employee.id,reviewerEmpNumbers:this.tracker.reviewers.map((function(e){return e.id}))}).then((function(){return e.$toast.saveSuccess()})).then((function(){e.onCancel()}))}}};const $R=C()(AR,[["render",DR]]);var FR=$R,BR={class:"orangehrm-background-container"},TR={class:"orangehrm-card-container"};function IR(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid-item"),s=Object(o["resolveComponent"])("oxd-grid"),m=Object(o["resolveComponent"])("oxd-form-row"),b=Object(o["resolveComponent"])("employee-autocomplete"),p=Object(o["resolveComponent"])("reviewer-autocomplete"),f=Object(o["resolveComponent"])("required-text"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("submit-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",BR,[Object(o["createElementVNode"])("div",TR,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.edit_performance_tracker")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(v,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.tracker.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.tracker.name=e}),rules:r.rules.tracker,label:e.$t("performance.tracker_name"),required:""},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{cols:2,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.tracker.employee,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.tracker.employee=e}),rules:r.rules.employee,readonly:r.isReadOnly},null,8,["modelValue","rules","readonly"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:r.tracker.reviewers,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tracker.reviewers=e}),rules:r.rules.reviewers,"exclude-employee":r.tracker.employee,required:""},null,8,["modelValue","rules","exclude-employee"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f),Object(o["createVNode"])(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(j)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])])])}var LR={name:null,employee:null,reviewers:[]},UR={components:{"employee-autocomplete":Zo,"reviewer-autocomplete":ER},props:{performanceTrackerId:{type:Number,required:!0}},setup:function(){var e=new te(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers");return{http:e}},data:function(){var e=this;return{isLoading:!1,tracker:Object(M["a"])({},LR),isReadOnly:!1,rules:{tracker:[On,vn(200)],employee:[On,Kn,function(t){if(null===t)return!0;var n=e.tracker.reviewers.findIndex((function(e){return e.id===t.id}));return-1==n||e.$t("performance.employee_cannot_be_assigned_as_his_own_reviewer")}],reviewers:[On,Kn]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.performanceTrackerId).then((function(t){var n=t.data.data;e.isReadOnly=!1===n.ownerEditable,e.tracker.id=n.id,e.tracker.name=n.trackerName,e.tracker.employee=n.employee?{id:n.employee.empNumber,label:"".concat(n.employee.firstName," ").concat(n.employee.middleName," ").concat(n.employee.lastName),isPastEmployee:!!n.employee.terminationId}:null,e.tracker.reviewers=n.reviewers.map((function(e){return{id:e.empNumber,label:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName),isPastEmployee:!!e.terminationId}}))})).finally((function(){e.isLoading=!1}))},methods:{onCancel:function(){Z("/performance/viewPerformanceTracker")},onSave:function(){var e=this;this.isLoading=!0;var t={trackerName:this.tracker.name.trim(),empNumber:this.tracker.employee.id,reviewerEmpNumbers:this.tracker.reviewers.map((function(e){return e.id}))};this.http.update(this.performanceTrackerId,t).then((function(){return e.$toast.updateSuccess()})).then((function(){e.onCancel()}))}}};const PR=C()(UR,[["render",IR]]);var qR=PR,RR={class:"orangehrm-background-container"},MR={class:"orangehrm-paper-container"},zR={class:"orangehrm-header-container"},GR={class:"orangehrm-container"},QR={class:"orangehrm-bottom-container"};function WR(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("table-header"),d=Object(o["resolveComponent"])("oxd-card-table"),s=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",RR,[Object(o["createElementVNode"])("div",MR,[Object(o["createElementVNode"])("div",zR,[Object(o["createVNode"])(i,{tag:"h6",class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.my_reviews")),1)]})),_:1})]),Object(o["createVNode"])(u,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",GR,[Object(o["createVNode"])(d,{order:a.sortDefinition,"onUpdate:order":t[0]||(t[0]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(o["createElementVNode"])("div",QR,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,current:a.currentPage,"onUpdate:current":t[1]||(t[1]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])])}var HR={component:"oxd-icon-button",props:{name:"eye-fill",title:"View"}},JR={component:"oxd-icon-button",props:{name:"pencil-fill",title:"Edit"}},YR={component:"oxd-icon-button",props:{name:"file-text-fill",title:"Evaluate"}},XR={component:"oxd-button",props:{label:"View",displayType:"text",size:"medium",style:{"min-width":"120px"}}},KR={component:"oxd-button",props:{label:"Edit",displayType:"text",size:"medium",style:{"min-width":"120px"}}},ZR={component:"oxd-button",props:{label:"Evaluate",displayType:"text",size:"medium",style:{"min-width":"120px"}}},eM={class:"oxd-table-card-cell"},tM={class:"data"};function nM(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",eM,[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"header"},Object(o["toDisplayString"])(n.header.title),513),[[o["vShow"],l.showHeader]]),Object(o["createElementVNode"])("div",tM,[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.reviewPeriodStart)+" - ",1),Object(o["createVNode"])(c,{tag:"span",class:"time"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.reviewPeriodEnd),1)]})),_:1})]})),_:1})])])}var oM={name:"ReviewPeriodCell",inject:["screenState"],props:{header:{type:Object,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0}},computed:{showHeader:function(){return!("lg"===this.screenState.screenType||"xl"===this.screenState.screenType)}}};n("8f2e");const aM=C()(oM,[["render",nM],["__scopeId","data-v-c3cf847e"]]);var rM=aM,lM={"performanceReview.statusId":"ASC","performanceReview.dueDate":"ASC","performanceReview.reviewPeriodStart":"DEFAULT","reviewer.status":"DEFAULT"},cM={setup:function(){var e=ln({sortDefinition:lM}),t=e.sortDefinition,n=e.sortField,a=e.sortOrder,r=e.onSort,l=Object(o["computed"])((function(){return{sortField:n.value,sortOrder:a.value}})),c=new te(window.appGlobal.baseUrl,"/api/v2/performance/reviews"),i=de(),u=i.jsDateFormat,d=Xe(),s=d.locale,m=function(e){return e.map((function(e){return{id:e.id,jobTitle:e.jobTitle.name,department:e.subunit.name,reviewPeriod:{reviewPeriodStart:ke(_e(e.reviewPeriodStart),u,{locale:s}),reviewPeriodEnd:ke(_e(e.reviewPeriodEnd),u,{locale:s})},dueDate:ke(_e(e.dueDate),u,{locale:s}),overallStatus:e.overallStatus.statusName,selfEvaluationStatus:e.selfReviewStatus,statusId:e.overallStatus.statusId}}))},b=Kt(c,{query:l,normalizer:m}),p=b.currentPage,f=b.total,h=b.showPaginator,j=b.pages,O=b.pageSize,v=b.response,g=b.execQuery,C=b.isLoading;return r(g),{http:c,total:f,isLoading:C,items:v,execQuery:g,sortDefinition:t,showPaginator:h,pages:j,pageSize:O,currentPage:p}},data:function(){return{headers:[{name:"jobTitle",slot:"title",title:this.$t("general.job_title"),style:{flex:1}},{name:"department",title:this.$t("general.sub_unit"),style:{flex:1}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:2},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:1}},{name:"selfEvaluationStatus",title:this.$t("performance.self_evaluation_status"),sortField:"reviewer.status",style:{flex:1}},{name:"overallStatus",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:1}},{name:"action",slot:"footer",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellRenderer:this.actionButtonCellRenderer}]}},methods:{actionButtonCellRenderer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[3],r={},l=Object(o["inject"])("screenState");return"lg"===l.screenType||"xl"===l.screenType?"Completed"===a.selfEvaluationStatus?(r.view=HR,r.view.props.title=this.$t("general.view"),r.view.onClick=this.onClickEvaluate):(r.evaluate=YR,r.evaluate.props.title=this.$t("performance.evaluate"),r.evaluate.onClick=this.onClickEvaluate):"Completed"===a.selfEvaluationStatus?(r.view=XR,r.view.props.label=this.$t("general.view"),r.view.onClick=this.onClickEvaluate):(r.evaluate=ZR,r.evaluate.props.label=this.$t("performance.evaluate"),r.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:r}}}},reviewPeriodCellRenderer:function(){var e=arguments.length<=1?void 0:arguments[1];return{component:rM,props:{reviewPeriodStart:e.reviewPeriodStart,reviewPeriodEnd:e.reviewPeriodEnd}}},onClickView:function(){Z("/performance/searchKpi")},onClickEvaluate:function(e){Z("/performance/reviewEvaluate/id/{id}",{id:e.id})}}};n("3d4e");const iM=C()(cM,[["render",WR],["__scopeId","data-v-578f8e3e"]]);var uM=iM,dM=function(e){return Object(o["pushScopeId"])("data-v-165106fc"),e=e(),Object(o["popScopeId"])(),e},sM={class:"orangehrm-background-container"},mM=dM((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),bM={class:"orangehrm-paper-container"},pM={class:"orangehrm-container"},fM={class:"orangehrm-bottom-container"};function hM(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("jobtitle-dropdown"),s=Object(o["resolveComponent"])("subunit-dropdown"),m=Object(o["resolveComponent"])("include-employee-dropdown"),b=Object(o["resolveComponent"])("review-status-dropdown"),p=Object(o["resolveComponent"])("date-input"),f=Object(o["resolveComponent"])("oxd-grid"),h=Object(o["resolveComponent"])("oxd-divider"),j=Object(o["resolveComponent"])("oxd-button"),O=Object(o["resolveComponent"])("oxd-form-actions"),v=Object(o["resolveComponent"])("oxd-form"),g=Object(o["resolveComponent"])("oxd-table-filter"),C=Object(o["resolveComponent"])("table-header"),y=Object(o["resolveComponent"])("oxd-card-table"),V=Object(o["resolveComponent"])("oxd-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",sM,[Object(o["createVNode"])(g,{"filter-title":e.$t("performance.employee_reviews")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{onSubmitValid:l.filterItems,onReset:l.filterItems},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),rules:r.rules.employee,params:{includeEmployees:a.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.jobTitle=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.subunit,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.subunit=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.includeEmployees=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.status,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.status=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.fromDate=e}),rules:r.rules.fromDate,label:e.$t("general.from_date")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.filters.toDate=e}),rules:r.rules.toDate,label:e.$t("general.to_date")},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(h),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(j,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),mM,Object(o["createElementVNode"])("div",bM,[Object(o["createVNode"])(C,{selected:0,total:a.total,loading:a.isLoading},null,8,["total","loading"]),Object(o["createElementVNode"])("div",pM,[Object(o["createVNode"])(y,{order:a.sortDefinition,"onUpdate:order":t[7]||(t[7]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!1,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),Object(o["createElementVNode"])("div",fM,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(V,{key:0,current:a.currentPage,"onUpdate:current":t[8]||(t[8]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])])])}function jM(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"select",label:e.$t("performance.review_status"),clear:!1,options:r.statusOpts},null,8,["label","options"])}var OM={name:"ReviewStatusDropdown",data:function(){return{statusOpts:[{id:1,statusId:2,label:this.$t("performance.activated")},{id:2,statusId:3,label:this.$t("performance.in_progress")},{id:3,statusId:4,label:this.$t("performance.completed")}]}}};const vM=C()(OM,[["render",jM]]);var gM=vM,CM={"employee.lastName":"DEFAULT","performanceReview.reviewPeriodStart":"DEFAULT","performanceReview.dueDate":"DEFAULT","performanceReview.statusId":"ASC"},yM={name:"ReviewList",components:{"include-employee-dropdown":xb,"review-status-dropdown":gM,"subunit-dropdown":jb,"jobtitle-dropdown":bb,"employee-autocomplete":Zo},props:{fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null}},setup:function(e){var t=Je(),n=t.$t,a=de(),r=a.jsDateFormat,l=a.userDateFormat,c=Xe(),i=c.locale,u=function(e){return ke(_e(e),r,{locale:i})},d=function(e){return e.map((function(e){var t,o,a,r,l;return{id:e.id,employee:"".concat(null===(t=e.employee)||void 0===t?void 0:t.firstName," ").concat(null===(o=e.employee)||void 0===o?void 0:o.lastName," ").concat(null!==(a=e.employee)&&void 0!==a&&a.terminationId?" ".concat(n("general.past_employee")):""),jobTitle:null===(r=e.jobTitle)||void 0===r?void 0:r.name,subunit:null===(l=e.subunit)||void 0===l?void 0:l.name,reviewPeriod:{reviewPeriodStart:u(e.reviewPeriodStart),reviewPeriodEnd:u(e.reviewPeriodEnd)},dueDate:u(e.dueDate),status:2===e.overallStatus.statusId?n("performance.activated"):3===e.overallStatus.statusId?n("performance.in_progress"):n("performance.completed"),statusId:e.overallStatus.statusId}}))},s={employee:null,jobTitle:null,subunit:null,status:null,fromDate:null,toDate:null,includeEmployees:{id:1,param:"onlyCurrent",label:n("general.current_employees_only")}},m=Object(o["ref"])(Object(M["a"])(Object(M["a"])(Object(M["a"])({},s),e.fromDate&&{fromDate:e.fromDate}),e.toDate&&{toDate:e.toDate})),b=ln({sortDefinition:CM}),p=b.sortDefinition,f=b.sortField,h=b.sortOrder,j=b.onSort,O=Object(o["computed"])((function(){var e,t,n,o,a;return{sortField:f.value,sortOrder:h.value,empNumber:null===(e=m.value.employee)||void 0===e?void 0:e.id,jobTitleId:null===(t=m.value.jobTitle)||void 0===t?void 0:t.id,subunitId:null===(n=m.value.subunit)||void 0===n?void 0:n.id,statusId:null===(o=m.value.status)||void 0===o?void 0:o.statusId,fromDate:m.value.fromDate,toDate:m.value.toDate,includeEmployees:null===(a=m.value.includeEmployees)||void 0===a?void 0:a.param}})),v=new te(window.appGlobal.baseUrl,"api/v2/performance/employees/reviews"),g=Kt(v,{query:O,normalizer:d}),C=g.showPaginator,y=g.currentPage,V=g.total,w=g.pages,x=g.pageSize,D=g.response,N=g.isLoading,_=g.execQuery;return j(_),{http:v,showPaginator:C,currentPage:y,isLoading:N,total:V,pages:w,pageSize:x,execQuery:_,items:D,filters:m,sortDefinition:p,userDateFormat:l}},data:function(){var e=this;return{headers:[{name:"employee",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),style:{flex:1}},{name:"subunit",title:this.$t("general.sub_unit"),style:{flex:1}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:1},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:1}},{name:"status",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:1}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.actionCellRenderer,style:{flex:1}}],rules:{employee:[Kn],fromDate:[gn(this.userDateFormat),Pn((function(){return e.filters.toDate}),this.$t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[gn(this.userDateFormat),Sn((function(){return e.filters.fromDate}),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]}}},methods:{actionCellRenderer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[3],r={},l=Object(o["inject"])("screenState");return"lg"===l.screenType||"xl"===l.screenType?4===a.statusId?(r.view=HR,r.view.props.title=this.$t("general.view"),r.view.onClick=this.onClickEvaluate):(r.evaluate=YR,r.evaluate.props.title=this.$t("performance.evaluate"),r.evaluate.onClick=this.onClickEvaluate):4===a.statusId?(r.view=XR,r.view.props.label=this.$t("general.view"),r.view.onClick=this.onClickEvaluate):(r.evaluate=ZR,r.evaluate.props.label=this.$t("performance.evaluate"),r.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:r}}}},reviewPeriodCellRenderer:function(){var e=arguments.length<=1?void 0:arguments[1];return{component:rM,props:{reviewPeriodStart:e.reviewPeriodStart,reviewPeriodEnd:e.reviewPeriodEnd}}},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},onClickEvaluate:function(e){Z("/performance/reviewEvaluateByAdmin/{id}",{id:e.id})}}};n("63a1");const VM=C()(yM,[["render",hM],["__scopeId","data-v-165106fc"]]);var wM=VM,xM=function(e){return Object(o["pushScopeId"])("data-v-25e8d295"),e=e(),Object(o["popScopeId"])(),e},DM={class:"orangehrm-background-container"},NM=xM((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),_M={class:"orangehrm-paper-container"},kM={class:"orangehrm-header-container"},EM={class:"orangehrm-container"},SM={class:"orangehrm-bottom-container"};function AM(e,t,n,a,r,l){var c,i=Object(o["resolveComponent"])("employee-autocomplete"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("jobtitle-dropdown"),s=Object(o["resolveComponent"])("review-status-dropdown"),m=Object(o["resolveComponent"])("include-employee-dropdown"),b=Object(o["resolveComponent"])("date-input"),p=Object(o["resolveComponent"])("oxd-grid"),f=Object(o["resolveComponent"])("oxd-divider"),h=Object(o["resolveComponent"])("oxd-button"),j=Object(o["resolveComponent"])("oxd-form-actions"),O=Object(o["resolveComponent"])("oxd-form"),v=Object(o["resolveComponent"])("oxd-table-filter"),g=Object(o["resolveComponent"])("table-header"),C=Object(o["resolveComponent"])("oxd-card-table"),y=Object(o["resolveComponent"])("oxd-pagination"),V=Object(o["resolveComponent"])("delete-confirmation-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",DM,[Object(o["createVNode"])(v,{"filter-title":e.$t("performance.manage_performance_reviews")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{onSubmitValid:l.filterItems,onReset:l.resetDataTable},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{cols:4,class:"orangehrm-full-width-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.filters.employee=e}),rules:r.rules.employee,params:{includeEmployees:a.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:a.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filters.jobTitle=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:a.filters.status,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.filters.status=e}),options:a.statusOpts},null,8,["modelValue","options"])]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:a.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filters.includeEmployees=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{modelValue:a.filters.reviewer,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.filters.reviewer=e}),label:e.$t("performance.reviewer"),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.fromDate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filters.fromDate=e}),rules:r.rules.fromDate,label:e.$t("general.from_date")},null,8,["modelValue","rules","label"])]})),_:1}),Object(o["createVNode"])(u,{class:"--offset-row-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:a.filters.toDate,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.filters.toDate=e}),rules:r.rules.toDate,label:e.$t("general.to_date")},null,8,["modelValue","rules","label"])]})),_:1})]})),_:1}),Object(o["createVNode"])(f),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),Object(o["createVNode"])(h,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),NM,Object(o["createElementVNode"])("div",_M,[Object(o["createElementVNode"])("div",kM,[Object(o["createVNode"])(h,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createVNode"])(g,{selected:r.checkedItems.length,total:a.total,loading:a.isLoading,onDelete:l.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),Object(o["createElementVNode"])("div",EM,[Object(o["createVNode"])(C,{selected:r.checkedItems,"onUpdate:selected":t[7]||(t[7]=function(e){return r.checkedItems=e}),order:a.sortDefinition,"onUpdate:order":t[8]||(t[8]=function(e){return a.sortDefinition=e}),headers:r.headers,items:null===(c=a.items)||void 0===c?void 0:c.data,selectable:!0,clickable:!1,loading:a.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),Object(o["createElementVNode"])("div",SM,[a.showPaginator?(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:0,current:a.currentPage,"onUpdate:current":t[9]||(t[9]=function(e){return a.currentPage=e}),length:a.pages},null,8,["current","length"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(V,{ref:"deleteDialog"},null,512)])}var $M={"employee.lastName":"DEFAULT","performanceReview.reviewPeriodStart":"DEFAULT","performanceReview.dueDate":"DEFAULT","performanceReview.statusId":"ASC","jobTitle.jobTitleName":"DEFAULT","reviewerEmployee.lastName":"DEFAULT"},FM={name:"ReviewSearch",components:{"include-employee-dropdown":xb,"review-status-dropdown":gM,"jobtitle-dropdown":bb,"employee-autocomplete":Zo,"delete-confirmation-dialog":rn},props:{fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null}},setup:function(e){var t=Je(),n=t.$t,a=de(),r=a.jsDateFormat,l=a.userDateFormat,c=Xe(),i=c.locale,u=ea(),d=u.$tEmpName,s=function(e){return ke(_e(e),r,{locale:i})},m=[{id:1,label:n("performance.inactive")},{id:2,label:n("performance.activated")},{id:3,label:n("performance.in_progress")},{id:4,label:n("performance.completed")}],b=function(e){return e.map((function(e){var t,n,o=e.employee,a=null===(t=e.reviewer)||void 0===t?void 0:t.employee;return{id:e.id,employee:d(o),reviewer:d(a),jobTitle:null===(n=e.jobTitle)||void 0===n?void 0:n.name,reviewPeriod:{reviewPeriodStart:s(e.reviewPeriodStart),reviewPeriodEnd:s(e.reviewPeriodEnd)},dueDate:s(e.dueDate),status:m.find((function(t){return t.id===e.overallStatus.statusId})).label,statusId:e.overallStatus.statusId}}))},p={employee:null,jobTitle:null,status:null,reviewer:null,fromDate:null,toDate:null,includeEmployees:{id:1,param:"onlyCurrent",label:n("general.current_employees_only")}},f=Object(o["ref"])(Object(M["a"])(Object(M["a"])(Object(M["a"])({},p),e.fromDate&&{fromDate:e.fromDate}),e.toDate&&{toDate:e.toDate})),h=ln({sortDefinition:$M}),j=h.sortDefinition,O=h.sortField,v=h.sortOrder,g=h.onSort,C=Object(o["computed"])((function(){var e,t,n,o,a;return{sortField:O.value,sortOrder:v.value,empNumber:null===(e=f.value.employee)||void 0===e?void 0:e.id,jobTitleId:null===(t=f.value.jobTitle)||void 0===t?void 0:t.id,statusId:null===(n=f.value.status)||void 0===n?void 0:n.id,reviewerEmpNumber:null===(o=f.value.reviewer)||void 0===o?void 0:o.id,fromDate:f.value.fromDate,toDate:f.value.toDate,includeEmployees:null===(a=f.value.includeEmployees)||void 0===a?void 0:a.param}})),y=new te(window.appGlobal.baseUrl,"api/v2/performance/manage/reviews"),V=Kt(y,{query:C,normalizer:b}),w=V.showPaginator,x=V.currentPage,D=V.total,N=V.pages,_=V.pageSize,k=V.response,E=V.isLoading,S=V.execQuery;return g(S),{http:y,showPaginator:w,currentPage:x,isLoading:E,total:D,pages:N,pageSize:_,execQuery:S,items:k,filters:f,sortDefinition:j,statusOpts:m,userDateFormat:l}},data:function(){var e=this;return{headers:[{name:"employee",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:"14%"}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:"14%"}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:"14%"},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:"14%"}},{name:"reviewer",title:this.$t("performance.reviewer"),sortField:"reviewerEmployee.lastName",style:{flex:"14%"}},{name:"status",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:"14%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.actionButtonCellRenderer,style:{flex:"16%"}}],checkedItems:[],rules:{employee:[Kn],fromDate:[gn(this.userDateFormat),Pn((function(){return e.filters.toDate}),this.$t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[gn(this.userDateFormat),Sn((function(){return e.filters.fromDate}),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]}}},methods:{actionButtonCellRenderer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[3],r={},l=Object(o["inject"])("screenState");return r.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},"lg"===l.screenType||"xl"===l.screenType?4===a.statusId?(r.view=HR,r.view.props.title=this.$t("general.view"),r.view.onClick=this.onClickEvaluate):1===a.statusId?(r.edit=JR,r.edit.props.title=this.$t("general.edit"),r.edit.onClick=this.onClickEdit):(r.evaluate=YR,r.evaluate.props.title=this.$t("performance.evaluate"),r.evaluate.onClick=this.onClickEvaluate):4===a.statusId?(r.view=XR,r.view.props.label=this.$t("general.view"),r.view.onClick=this.onClickEvaluate):1===a.statusId?(r.edit=KR,r.edit.props.label=this.$t("general.edit"),r.edit.onClick=this.onClickEdit):(r.evaluate=ZR,r.evaluate.props.label=this.$t("performance.evaluate"),r.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:r}}}},reviewPeriodCellRenderer:function(){var e=arguments.length<=1?void 0:arguments[1];return{component:rM,props:{reviewPeriodStart:e.reviewPeriodStart,reviewPeriodEnd:e.reviewPeriodEnd}}},onClickEdit:function(e){Z("/performance/saveReview/{id}",{id:e.id})},onClickAdd:function(){Z("/performance/saveReview")},onClickEvaluate:function(e){Z("/performance/reviewEvaluateByAdmin/{id}",{id:e.id})},onClickDeleteSelected:function(){var e=this,t=[];this.checkedItems.forEach((function(n){var o;t.push(null===(o=e.items)||void 0===o?void 0:o.data[n].id)})),this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&e.deleteItems(t)}))},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e.id])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).then((function(){t.isLoading=!1,t.resetDataTable()})))},filterItems:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.execQuery();case 2:case"end":return t.stop()}}),t)})))()},resetDataTable:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkedItems=[],t.next=3,e.execQuery();case 3:case"end":return t.stop()}}),t)})))()}}};n("ed09");const BM=C()(FM,[["render",AM],["__scopeId","data-v-25e8d295"]]);var TM=BM,IM=function(e){return Object(o["pushScopeId"])("data-v-43fa70d8"),e=e(),Object(o["popScopeId"])(),e},LM={class:"orangehrm-background-container"},UM={class:"orangehrm-card-container"},PM={class:"orangehrm-employee-tracker"},qM={class:"orangehrm-employee-tracker-image-section"},RM={class:"orangehrm-employee-tracker-image-wrapper"},MM=["src"],zM={class:"orangehrm-employee-tracker-header-section"},GM={class:"orangehrm-employee-tracker-header"},QM={class:"orangehrm-employee-tracker-ratings"},WM={key:0,class:"orangehrm-employee-tracker-ratings-info"},HM={key:1,class:"orangehrm-employee-tracker-ratings-info"},JM=IM((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),YM={class:"orangehrm-paper-container"},XM={class:"orangehrm-header-container"},KM={ref:"scrollerRef",class:"orangehrm-container"},ZM={key:0,class:"orangehrm-employee-tracker-no-records"};function ez(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-icon"),u=Object(o["resolveComponent"])("oxd-button"),d=Object(o["resolveComponent"])("employee-tracker-log-card"),s=Object(o["resolveComponent"])("oxd-sheet"),m=Object(o["resolveComponent"])("oxd-loading-spinner"),b=Object(o["resolveComponent"])("add-tracker-log-modal"),p=Object(o["resolveComponent"])("edit-tracker-log-modal"),f=Object(o["resolveComponent"])("delete-confirmation");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",LM,[Object(o["createElementVNode"])("div",UM,[Object(o["createElementVNode"])("div",PM,[Object(o["createElementVNode"])("div",qM,[Object(o["createElementVNode"])("div",RM,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:a.imgSrc},null,8,MM)])]),Object(o["createElementVNode"])("div",zM,[Object(o["createElementVNode"])("div",GM,[Object(o["createVNode"])(c,{tag:"h5",class:"orangehrm-employee-tracker-header-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.trackerName),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-employee-tracker-header-subtitle"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.employeeName),1)]})),_:1})]),Object(o["createElementVNode"])("div",QM,[e.meta.positive>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",WM,[Object(o["createVNode"])(i,{class:"orangehrm-employee-tracker-ratings-icon --positive",type:"svg",name:"thumbsup"}),Object(o["createVNode"])(c,{class:"orangehrm-employee-tracker-ratings-text --positive"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.meta.positive),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0),e.meta.negative>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",HM,[Object(o["createVNode"])(i,{class:"orangehrm-employee-tracker-ratings-icon --negative",type:"svg",name:"thumbsdown"}),Object(o["createVNode"])(c,{class:"orangehrm-employee-tracker-ratings-text --negative"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.meta.negative),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0)])])])]),JM,Object(o["createElementVNode"])("div",YM,[Object(o["createElementVNode"])("div",XM,[Object(o["createVNode"])(c,{tag:"h5",class:"orangehrm-employee-tracker-list-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.tracker_logs")),1)]})),_:1}),Object(o["createVNode"])(u,{label:e.$t("performance.add_log"),"icon-name":"plus","display-type":"secondary",onClick:l.onClickAdd},null,8,["label","onClick"])]),Object(o["createElementVNode"])("div",KM,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.items,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:t,gutters:!1,type:"gray-lighten-2",class:"orangehrm-scroll-card"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{"tracker-log":e,onEdit:l.onClickEdit,onDelete:l.onClickDelete},null,8,["tracker-log","onEdit","onDelete"])]})),_:2},1024)})),128)),e.showNoRecordsFound?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ZM,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.n_records_found",{count:0})),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0),e.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,class:"orangehrm-container-loader"})):Object(o["createCommentVNode"])("",!0)],512)]),r.showAddTrackerModal?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,"tracker-id":n.trackerId,onClose:l.onAddTrackerModalClose},null,8,["tracker-id","onClose"])):Object(o["createCommentVNode"])("",!0),r.showEditTrackerModal?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1,"tracker-id":n.trackerId,"tracker-log-id":r.editTrackerLogId,onClose:l.onEditTrackerModalClose},null,8,["tracker-id","tracker-log-id","onClose"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(f,{ref:"deleteDialog"},null,512)])}function tz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.refName,a=void 0===n?"scrollerRef":n,r=t.scrollDistance,l=void 0===r?100:r,c=t.debounceInterval,i=void 0===c?100:c,u=0,d=!1,s=Object(o["ref"])(),m=Object(ja["a"])(Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)}))),i),b=function(){var e;if(s.value){var t,n,o;if(null!==(e=s.value)&&void 0!==e&&e.$el){var a=s.value.$el;t=a.scrollHeight,n=a.clientHeight,o=a.scrollTop}else{var r=s.value;t=r.scrollHeight,n=r.clientHeight,o=r.scrollTop}d=o>u,u=o;var c=o+n>=t-(l||0);d&&c&&m()}};return Object(o["onMounted"])(Object(fe["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["nextTick"])();case 2:null!==(t=s.value)&&void 0!==t&&t.$el?s.value.$el.addEventListener("scroll",b):null===(n=s.value)||void 0===n||n.addEventListener("scroll",b);case 3:case"end":return e.stop()}}),e)})))),Object(o["onBeforeUnmount"])((function(){var e,t,n;null!==(e=s.value)&&void 0!==e&&e.$el?null===(t=s.value)||void 0===t||t.$el.removeEventListener("scroll",b):null===(n=s.value)||void 0===n||n.removeEventListener("scroll",b)})),Object(is["a"])({},a,s)}var nz={class:"orangehrm-modal-header"},oz={class:"orangehrm-add-tracker-log-ratings-container"};function az(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("tracker-log-rating-button"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"650px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",nz,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.add_tracker_log")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.trackerLog.log,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.trackerLog.log=e}),label:e.$t("performance.log"),placeholder:e.$t("general.type_here"),rules:r.rules.log,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",oz,[Object(o["createVNode"])(s,{label:e.$t("performance.positive"),selected:r.rating,type:"positive",onClick:l.onClickPositive},null,8,["label","selected","onClick"]),Object(o["createVNode"])(s,{label:e.$t("performance.negative"),selected:!r.rating,type:"negative",onClick:l.onClickNegative},null,8,["label","selected","onClick"])])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.trackerLog.comment,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.trackerLog.comment=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_here"),rules:r.rules.comment,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{class:"orangehrm-form-action"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}function rz(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon"),i=Object(o["resolveComponent"])("oxd-button");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{"display-type":"text",label:n.label,class:Object(o["normalizeClass"])(l.buttonClasses),onClick:t[0]||(t[0]=function(t){return e.$emit("click")})},{icon:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"svg",name:l.iconName,class:Object(o["normalizeClass"])(l.iconClasses)},null,8,["name","class"])]})),_:1},8,["label","class"])}var lz={name:"TrackerLogRatingButton",components:{"oxd-icon":ro["a"]},props:{label:{type:String,required:!0},selected:{type:Boolean,required:!0},type:{type:String,required:!0,validator:function(e){return-1!==["positive","negative"].indexOf(e)}}},emits:["click"],computed:{iconName:function(){return"thumbs".concat("positive"===this.type?"up":"down")},buttonClasses:function(){return{"orangehrm-tracker-rating-button":!0,"--deselected":!this.selected}},iconClasses:function(){return Object(is["a"])({"orangehrm-tracker-rating-icon":!0},"--".concat(this.type),!0)}}};n("df74");const cz=C()(lz,[["render",rz],["__scopeId","data-v-7bf3fc1e"]]);var iz=cz,uz={log:"",comment:""},dz={name:"AddTrackerLogModal",components:{"oxd-dialog":oe["a"],"tracker-log-rating-button":iz},props:{trackerId:{type:Number,required:!0}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/performance/trackers/".concat(e.trackerId,"/logs"));return{http:t}},data:function(){return{isLoading:!1,rating:!0,trackerLog:Object(M["a"])({},uz),rules:{log:[On,vn(150)],comment:[On,vn(3e3)]}}},methods:{onClickPositive:function(){this.rating=!0},onClickNegative:function(){this.rating=!1},onSave:function(){var e=this;this.isLoading=!0,this.http.create({log:this.trackerLog.log,comment:this.trackerLog.comment,achievement:this.rating?1:2}).then((function(){e.$toast.saveSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close")}}};n("b5c9");const sz=C()(dz,[["render",az],["__scopeId","data-v-6c86161f"]]);var mz=sz,bz={class:"orangehrm-modal-header"},pz={class:"orangehrm-add-tracker-log-ratings-container"};function fz(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("tracker-log-rating-button"),m=Object(o["resolveComponent"])("required-text"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{width:"90%",maxWidth:"650px"},"onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",bz,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.edit_tracker_log")),1)]})),_:1})]),Object(o["createVNode"])(i),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.trackerLog.log,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.trackerLog.log=e}),label:e.$t("performance.log"),placeholder:e.$t("general.type_here"),rules:r.rules.log,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",pz,[Object(o["createVNode"])(s,{label:e.$t("performance.positive"),selected:r.rating,type:"positive",onClick:l.onClickPositive},null,8,["label","selected","onClick"]),Object(o["createVNode"])(s,{label:e.$t("performance.negative"),selected:!r.rating,type:"negative",onClick:l.onClickNegative},null,8,["label","selected","onClick"])])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.trackerLog.comment,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.trackerLog.comment=e}),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_here"),rules:r.rules.comment,required:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(p,{class:"orangehrm-form-action"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m),Object(o["createVNode"])(b,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var hz={log:"",comment:""},jz={name:"EditTrackerLogModal",components:{"oxd-dialog":oe["a"],"tracker-log-rating-button":iz},props:{trackerId:{type:Number,required:!0},trackerLogId:{type:Number,required:!0}},emits:["close"],setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/performance/trackers/".concat(e.trackerId,"/logs"));return{http:t}},data:function(){return{isLoading:!1,rating:!0,trackerLog:Object(M["a"])({},hz),rules:{log:[On,vn(150)],comment:[On,vn(3e3)]}}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.get(this.trackerLogId).then((function(t){var n=t.data.data;e.trackerLog.log=n.log,e.trackerLog.comment=n.comment,e.rating="1"===n.achievement})).finally((function(){e.isLoading=!1}))},methods:{onClickPositive:function(){this.rating=!0},onClickNegative:function(){this.rating=!1},onSave:function(){var e=this;this.isLoading=!0,this.http.update(this.trackerLogId,{log:this.trackerLog.log,comment:this.trackerLog.comment,achievement:this.rating?1:2}).then((function(){e.$toast.updateSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close")}}};n("bf3d");const Oz=C()(jz,[["render",fz],["__scopeId","data-v-cf04cf4c"]]);var vz=Oz,gz={class:"orangehrm-employee-tracker-log"},Cz={class:"orangehrm-employee-tracker-log-image-section"},yz={class:"orangehrm-employee-tracker-log-image-wrapper"},Vz=["src"],wz={class:"orangehrm-employee-tracker-log-content-section"},xz={class:"orangehrm-employee-tracker-log-reviewer-name"},Dz={class:"orangehrm-employee-tracker-log-content-container"},Nz={class:"orangehrm-employee-tracker-log-header"},_z={class:"orangehrm-employee-tracker-log-title"},kz={class:"orangehrm-employee-tracker-log-body"},Ez={class:"orangehrm-employee-tracker-log-reviewer-date"},Sz={class:"orangehrm-employee-tracker-log-reviewer-date-container"},Az={key:0,class:"orangehrm-employee-tracker-log-reviewer-date-container"};function $z(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-icon"),u=Object(o["resolveComponent"])("oxd-dropdown");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gz,[Object(o["createElementVNode"])("div",Cz,[Object(o["createElementVNode"])("div",yz,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:n.trackerLog.reviewerPictureSrc},null,8,Vz)])]),Object(o["createElementVNode"])("div",wz,[Object(o["createElementVNode"])("div",xz,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.trackerLog.reviewerName),1)]})),_:1})]),Object(o["createElementVNode"])("div",Dz,[Object(o["createElementVNode"])("div",Nz,[Object(o["createElementVNode"])("div",_z,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-employee-tracker-log-title-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.trackerLog.log),1)]})),_:1}),Object(o["createVNode"])(i,{type:"svg",class:Object(o["normalizeClass"])({"orangehrm-employee-tracker-log-title-icon":!0,"--positive":"1"===n.trackerLog.achievement,"--negative":"2"===n.trackerLog.achievement}),name:"thumbs".concat("1"===n.trackerLog.achievement?"up":"down")},null,8,["class","name"])]),n.trackerLog.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,options:r.dropdownOptions,onClick:t[0]||(t[0]=function(e){return l.onTrackerDropdownAction(e,n.trackerLog)})},null,8,["options"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",kz,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-employee-tracker-log-body-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.trackerLog.comment),1)]})),_:1})])]),Object(o["createElementVNode"])("div",Ez,[Object(o["createElementVNode"])("div",Sz,[Object(o["createVNode"])(i,{class:"orangehrm-employee-tracker-log-reviewer-date-icon",name:"calendar-plus",title:e.$t("performance.added_on")},null,8,["title"]),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.trackerLog.addedDate),1)]})),_:1})]),n.trackerLog.modifiedDate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Az,[Object(o["createVNode"])(i,{class:"orangehrm-employee-tracker-log-reviewer-date-icon",name:"pencil",title:e.$t("performance.modified_on")},null,8,["title"]),Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.trackerLog.modifiedDate),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0)])])])}var Fz=n("ad9d"),Bz={name:"EmployeeTrackerLogCard",components:{"oxd-icon":ro["a"],"oxd-dropdown":Fz["a"]},props:{trackerLog:{type:Object,required:!0}},emits:["edit","delete"],data:function(){return{dropdownOptions:[{label:this.$t("general.edit"),context:"edit"},{label:this.$t("performance.delete"),context:"delete"}]}},methods:{onTrackerDropdownAction:function(e,t){switch(e.context){case"edit":this.$emit("edit",t.id);break;case"delete":this.$emit("delete",t.id);break}}}};n("6e9c");const Tz=C()(Bz,[["render",$z],["__scopeId","data-v-65916948"]]);var Iz=Tz,Lz={name:"ViewEmployeeTrackerLogs",components:{"oxd-icon":ro["a"],"oxd-sheet":Ua["a"],"oxd-loading-spinner":ne["a"],"add-tracker-log-modal":mz,"edit-tracker-log-modal":vz,"delete-confirmation":rn,"employee-tracker-log-card":Iz},props:{trackerId:{type:Number,required:!0},empNumber:{type:Number,required:!0}},setup:function(e){var t=new te(window.appGlobal.baseUrl,"api/v2/performance/trackers/".concat(e.trackerId,"/logs")),n=10,a=Object(o["reactive"])({total:0,items:[],meta:{positive:0,negative:0},infinite:!1,isLoading:!1,showNoRecordsFound:!1}),r=ea(),l=r.$tEmpName,c=de(),i=c.jsDateFormat,u=Xe(),d=u.locale,s=function(){a.showNoRecordsFound=!1,a.isLoading=!0,t.getAll({limit:n,offset:0===a.items.length?0:n}).then((function(e){var t=e.data,n=t.data,o=t.meta;a.total=(null===o||void 0===o?void 0:o.total)||0,Array.isArray(n)&&(a.items=[].concat(Object(iO["a"])(a.items),Object(iO["a"])(n.map((function(e){return Object(M["a"])(Object(M["a"])({},e),{},{reviewerPictureSrc:"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.reviewer.empNumber),reviewerName:l(e.reviewer),addedDate:ke(_e(e.addedDate),i,{locale:d}),modifiedDate:ke(_e(e.modifiedDate),i,{locale:d})})})))),a.meta=Object(M["a"])(Object(M["a"])({},a.meta),o))})).finally((function(){a.showNoRecordsFound=0===a.total,a.isLoading=!1}))},m=tz((function(){a.items.length>=a.total||s()})),b=m.scrollerRef,p=Object(o["computed"])((function(){return"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.empNumber)}));return Object(M["a"])(Object(M["a"])({http:t,scrollerRef:b,fetchData:s},Object(o["toRefs"])(a)),{},{imgSrc:p})},data:function(){return{trackerName:"",employeeName:"",showAddTrackerModal:!1,showEditTrackerModal:!1,editTrackerLogId:null}},beforeMount:function(){var e=this;this.http.request({method:"GET",url:"api/v2/performance/employees/trackers/".concat(this.trackerId)}).then((function(t){var n=t.data.data;e.trackerName=n.trackerName,e.employeeName="".concat(n.employee.firstName," ").concat(n.employee.lastName," ").concat(n.employee.terminationId?" ".concat(e.$t("general.past_employee")):"")})).then((function(){e.fetchData()}))},methods:{onClickAdd:function(){this.showAddTrackerModal=!0},onAddTrackerModalClose:function(){this.showAddTrackerModal=!1,this.resetItems()},onEditTrackerModalClose:function(){this.showEditTrackerModal=!1,this.resetItems()},onClickEdit:function(e){this.editTrackerLogId=e,this.showEditTrackerModal=!0},onClickDelete:function(e){var t=this;this.$refs.deleteDialog.showDialog().then((function(n){"ok"===n&&t.deleteItems([e])}))},deleteItems:function(e){var t=this;e instanceof Array&&(this.items=[],this.isLoading=!0,this.http.deleteAll({ids:e}).then((function(){return t.$toast.deleteSuccess()})).finally((function(){t.fetchData()})))},resetItems:function(){this.items=[],this.fetchData()}}};n("1acb");const Uz=C()(Lz,[["render",ez],["__scopeId","data-v-43fa70d8"]]);var Pz=Uz,qz=function(e){return Object(o["pushScopeId"])("data-v-3f2b21cf"),e=e(),Object(o["popScopeId"])(),e},Rz={class:"orangehrm-background-container"},Mz={class:"orangehrm-card-container"},zz=qz((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Gz=qz((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Qz=qz((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Wz={class:"orangehrm-performance-review-actions"};function Hz(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("review-confirm-modal"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("review-summary"),d=Object(o["resolveComponent"])("evaluation-form"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("final-evaluation"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Rz,[Object(o["createVNode"])(c,{ref:"confirmDialog"},null,512),Object(o["createElementVNode"])("div",Mz,[Object(o["createVNode"])(i,{tag:"h5",class:"orangehrm-performance-review-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.performance_review")),1)]})),_:1})]),zz,Object(o["createVNode"])(u,{loading:r.isLoading,status:n.status,"due-date":n.dueDate,employee:r.employee.details,"job-title":r.employee.jobTitle,"review-period-end":n.reviewPeriodEnd,"review-period-start":n.reviewPeriodStart,"final-rating":r.finalRating},null,8,["loading","status","due-date","employee","job-title","review-period-end","review-period-start","final-rating"]),Gz,Object(o["createVNode"])(f,{ref:"formRef",loading:r.isLoading},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.employeeReview,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.employeeReview=e}),kpis:r.kpis,rules:r.rules,editable:l.hasSupervisorUpdateAction,collapsed:r.employee.status<3,collapsible:3===r.employee.status,employee:r.employee.details,"job-title":r.employee.jobTitle,status:r.employee.status,title:e.$t("performance.self_evaluation_by")},null,8,["modelValue","kpis","rules","editable","collapsed","collapsible","employee","job-title","status","title"]),Qz,Object(o["createVNode"])(d,{modelValue:r.supervisorReview,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.supervisorReview=e}),kpis:r.kpis,rules:r.rules,editable:l.hasSaveAction||l.hasCompleteAction,collapsible:!0,employee:r.supervisor.details,"job-title":r.supervisor.jobTitle,status:r.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(m,{key:r.isFinalizeRequired,"final-rating":r.finalRating,"onUpdate:final-rating":t[1]||(t[1]=function(e){return r.finalRating=e}),"final-comment":r.finalComment,"onUpdate:final-comment":t[2]||(t[2]=function(e){return r.finalComment=e}),"completed-date":r.completedDate,"onUpdate:completed-date":t[3]||(t[3]=function(e){return r.completedDate=e}),status:n.status,"is-required":r.isFinalizeRequired},null,8,["final-rating","final-comment","completed-date","status","is-required"]),Object(o["withDirectives"])(Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createElementVNode"])("div",Wz,[l.hasCancelAction?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickCancel},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),l.hasSaveAction?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1,"display-type":"ghost",type:"button",label:e.$t("general.save"),onClick:t[4]||(t[4]=function(e){return l.onSubmit(!1)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasCompleteAction?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:2,type:"button","display-type":"secondary",label:e.$t("performance.complete"),onClick:t[5]||(t[5]=function(e){return l.onSubmit(!0)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0)])]})),_:1},512),[[o["vShow"],l.hasActions]])]})),_:1},8,["modelValue","kpis","rules","editable","employee","job-title","status","title"])]})),_:1},8,["loading"])])}n("4ec9"),n("3ca3"),n("ddb0");var Jz={class:"orangehrm-card-container"},Yz={class:"orangehrm-performance-review-summary"},Xz={class:"orangehrm-performance-review-owner"},Kz=["src"],Zz={class:"orangehrm-performance-review-owner-employee-section"},eG={class:"orangehrm-performance-review-owner-employee"},tG={class:"orangehrm-performance-review-rating"};function nG(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Jz,[Object(o["createElementVNode"])("div",Yz,[Object(o["createVNode"])(c,{tag:"h5",class:"orangehrm-performance-review-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.review_summary")),1)]})),_:1}),Object(o["createVNode"])(s,{loading:n.loading},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{class:"orangehrm-performance-review-details"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3,class:"orangehrm-performance-review-details-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Xz,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:a.imgSrc},null,8,Kz),Object(o["createElementVNode"])("div",Zz,[Object(o["createElementVNode"])("div",eG,[Object(o["createVNode"])(c,{tag:"h5",class:"orangehrm-performance-review-owner-employee-name"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.employeeName),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-performance-review-owner-employee-job"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.jobTitle),1)]})),_:1})])])])]})),_:1}),Object(o["withDirectives"])(Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",tG,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.final_rating")),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"h4",class:"orangehrm-performance-review-rating-number"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.finalRating),1)]})),_:1})])]})),_:1},512),[[o["vShow"],4===n.status]])]})),_:1})]})),_:1}),Object(o["createVNode"])(d,{class:"orangehrm-performance-review-details"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{cols:3,class:"orangehrm-performance-review-details-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-performance-review-column"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.review_status")),1)]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-performance-review-bold"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.reviewStatus),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-performance-review-column"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.review_period")),1)]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-performance-review-bold"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.reviewPeriod),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-performance-review-column"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.review_due_date")),1)]})),_:1}),Object(o["createVNode"])(c,{class:"orangehrm-performance-review-bold"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.reviewDueDate),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["loading"])])])}var oG="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),aG={name:"ReviewSummary",props:{employee:{type:Object,required:!0},jobTitle:{type:String,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0},loading:{type:Boolean,required:!0},finalRating:{type:Number,default:0}},setup:function(e){var t=Je(),n=t.$t,a=Xe(),r=a.locale,l=de(),c=l.jsDateFormat,i=ea(),u=i.$tEmpName,d=[{id:1,label:n("performance.inactive")},{id:2,label:n("performance.activated")},{id:3,label:n("performance.in_progress")},{id:4,label:n("performance.completed")}],s=function(e){return ke(_e(e),c,{locale:r})},m=Object(o["computed"])((function(){return e.employee.empNumber?"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.employee.empNumber):oG})),b=d.find((function(t){return t.id===e.status})).label,p="".concat(s(e.reviewPeriodStart)," - ").concat(s(e.reviewPeriodEnd)),f=s(e.dueDate),h=Object(o["computed"])((function(){return u(e.employee,{includeMiddle:!0,excludePastEmpTag:!1})}));return{imgSrc:m,reviewStatus:b,reviewPeriod:p,reviewDueDate:f,employeeName:h}}};n("98a9");const rG=C()(aG,[["render",nG],["__scopeId","data-v-9eeafcc4"]]);var lG=rG,cG=function(e){return Object(o["pushScopeId"])("data-v-ade3d550"),e=e(),Object(o["popScopeId"])(),e},iG=cG((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),uG={key:1,class:"orangehrm-performance-review-read"},dG={key:1,class:"orangehrm-performance-review-read"},sG={key:1,class:"orangehrm-performance-review-read"};function mG(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("date-input"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-grid");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(c,{class:"orangehrm-performance-review-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.review_finalization")),1)]})),_:1}),iG,Object(o["createVNode"])(s,{cols:4,class:"orangehrm-performance-review-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.date_of_completion")),1)]})),_:1}),a.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,"model-value":n.completedDate,rules:r.rules.completedDate,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:completedDate",t)})},null,8,["model-value","rules"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",uG,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.formattedCompletedDate),1)]})),_:1})]))]})),_:1}),Object(o["createVNode"])(u,{class:"orangehrm-performance-review-grid-rating"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.final_rating")),1)]})),_:1}),a.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,"model-value":n.finalRating,rules:r.rules.finalRating,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:finalRating",t)})},null,8,["model-value","rules"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dG,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.finalRating),1)]})),_:1})]))]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.final_comments")),1)]})),_:1}),a.editable?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,rows:"1",type:"textarea","model-value":n.finalComment,rules:r.rules.finalComment,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:finalComment",t)})},null,8,["model-value","rules"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",sG,[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.finalComment),1)]})),_:1})]))]})),_:1})]})),_:1})])}var bG={name:"FinalEvaluation",props:{completedDate:{type:String,default:null,required:!1},finalRating:{type:Number,default:null,required:!1},finalComment:{type:String,default:null,required:!1},status:{type:Number,required:!0},isRequired:{type:Boolean,required:!0}},emits:["update:finalRating","update:finalComment","update:completedDate"],setup:function(e){var t=Xe(),n=t.locale,a=de(),r=a.jsDateFormat,l=a.userDateFormat,c=Object(o["computed"])((function(){return 4!==e.status})),i=Object(o["computed"])((function(){return ke(_e(e.completedDate),r,{locale:n})}));return{editable:c,userDateFormat:l,formattedCompletedDate:i}},data:function(){return{rules:{completedDate:[gn(this.userDateFormat)].concat(Object(iO["a"])(this.isRequired?[On]:[])),finalRating:[Jn(0,this.$t("performance.rating_should_be_greater_than_or_equal_to_minValue",{minValue:0})),Yn(100,this.$t("performance.rating_should_be_less_than_or_equal_to_maxValue",{maxValue:100}))].concat(Object(iO["a"])(this.isRequired?[On]:[])),finalComment:Object(iO["a"])(this.isRequired?[On]:[])}}}};n("639e");const pG=C()(bG,[["render",mG],["__scopeId","data-v-ade3d550"]]);var fG=pG,hG={class:"orangehrm-evaluation orangehrm-card-container"},jG={class:"orangehrm-evaluation-header"},OG=["src"],vG={class:"orangehrm-evaluation-title-name"};function gG(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-grid"),d=Object(o["resolveComponent"])("oxd-icon-button"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-input-field");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",hG,[Object(o["createVNode"])(c,{class:"orangehrm-main-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.title),1)]})),_:1}),Object(o["createElementVNode"])("div",jG,[Object(o["createVNode"])(u,{cols:3,class:"orangehrm-evaluation-header-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-evaluation-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("img",{class:"orangehrm-evaluation-title-profile-image",alt:"profile picture",src:a.profileImgSrc},null,8,OG),Object(o["createElementVNode"])("div",vG,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.employeeName),1)]})),_:1}),Object(o["createVNode"])(c,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.jobTitle),1)]})),_:1})])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.status")),1)]})),_:1}),Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.evaluationLabel),1)]})),_:1})]})),_:1})]})),_:1}),n.collapsible?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,"with-container":!1,name:a.isCollapsed?"chevron-down":"chevron-up",onClick:a.toggleForm},null,8,["name","onClick"])):Object(o["createCommentVNode"])("",!0)]),a.isCollapsed?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(s),Object(o["createVNode"])(u,{cols:4,class:"orangehrm-evaluation-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-evaluation-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.kpis")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-evaluation-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.rating")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-evaluation-grid-header"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.comments")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-evaluation-grid-spacer-md"}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.kpis,(function(t,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t.id},[Object(o["createVNode"])(i,{class:"orangehrm-evaluation-grid-kpi"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.kpi")),1)]})),_:1}),Object(o["createVNode"])(c,{title:t.title,tag:"p",class:"orangehrm-evaluation-grid-kpi-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.title),1)]})),_:2},1032,["title"]),Object(o["createVNode"])(c,{class:"orangehrm-evaluation-grid-kpi-minmax",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.min"))+": "+Object(o["toDisplayString"])(t.minRating),1)]})),_:2},1024),Object(o["createVNode"])(c,{class:"orangehrm-evaluation-grid-kpi-minmax",tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.max"))+": "+Object(o["toDisplayString"])(t.maxRating),1)]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.rating")),1)]})),_:1}),Object(o["createVNode"])(m,{type:"input",disabled:!n.editable,rules:n.rules[r],"model-value":n.modelValue.kpis[r].rating,"onUpdate:modelValue":function(e){return a.onUpdateRating(e,r)}},null,8,["disabled","rules","model-value","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.comment")),1)]})),_:1}),Object(o["createVNode"])(m,{class:"orangehrm-evaluation-grid-comment",rows:"2",type:"textarea",disabled:!n.editable,rules:a.commentValidators,"model-value":n.modelValue.kpis[r].comment,"onUpdate:modelValue":function(e){return a.onUpdateComment(e,r)}},null,8,["disabled","rules","model-value","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(i,{class:"orangehrm-evaluation-grid-spacer-md"})],64)})),128))]})),_:1}),Object(o["createVNode"])(s),Object(o["createVNode"])(u,{cols:3,class:"orangehrm-evaluation-grid"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"orangehrm-evaluation-grid-general"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-evaluation-grid-general-label"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.general_comment")),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(i,{class:"--span-column-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{class:"orangehrm-evaluation-grid-comment",rows:"2",type:"textarea",disabled:!n.editable,rules:a.commentValidators,"model-value":n.modelValue.generalComment,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.onUpdateGeneralComment(e)})},null,8,["disabled","rules","model-value"])]})),_:1})]})),_:1}),Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)],64))])}n("0541");var CG="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),yG={components:{"oxd-divider":i["a"]},props:{kpis:{type:Array,required:!0},title:{type:String,required:!0},editable:{type:Boolean,required:!0},collapsible:{type:Boolean,required:!0},employee:{type:Object,required:!0},jobTitle:{type:String,required:!0},rules:{type:Array,required:!0},modelValue:{type:Object,required:!0,validator:function(e){return Object.hasOwn(e,"kpis")&&Object.hasOwn(e,"generalComment")}},collapsed:{type:Boolean,default:!1},status:{type:Number,required:!0}},emits:["update:modelValue"],setup:function(e,t){var n=Je(),a=n.$t,r=ea(),l=r.$tEmpName,c=Object(o["ref"])(e.collapsed),i=[vn(2e3)],u=Object(o["computed"])((function(){return e.employee.empNumber?"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.employee.empNumber):CG})),d=Object(o["computed"])((function(){return l(e.employee)})),s=function(){c.value=!c.value},m=function(n,o){t.emit("update:modelValue",{kpis:e.modelValue.kpis.map((function(e,t){return t===o?Object(M["a"])(Object(M["a"])({},e),{},{rating:n}):e})),generalComment:e.modelValue.generalComment})},b=function(n,o){t.emit("update:modelValue",{kpis:e.modelValue.kpis.map((function(e,t){return t===o?Object(M["a"])(Object(M["a"])({},e),{},{comment:n}):e})),generalComment:e.modelValue.generalComment})},p=function(n){t.emit("update:modelValue",{kpis:e.modelValue.kpis,generalComment:n})},f=[{id:1,label:a("performance.evaluation_activated")},{id:2,label:a("performance.evaluation_in_progress")},{id:3,label:a("performance.evaluation_completed")}],h=Object(o["computed"])((function(){return f.find((function(t){return t.id===e.status})).label}));return{toggleForm:s,isCollapsed:c,employeeName:d,profileImgSrc:u,onUpdateRating:m,onUpdateComment:b,onUpdateGeneralComment:p,commentValidators:i,evaluationLabel:h}}};n("c4bb");const VG=C()(yG,[["render",gG],["__scopeId","data-v-e26e3ed8"]]);var wG=VG;function xG(e){var t=Je(),n=t.$t,o=function(t){return e.request({method:"GET",url:"/api/v2/performance/reviews/".concat(t,"/kpis")})},a=function(t){return e.request({method:"GET",url:"/api/v2/performance/reviews/".concat(t,"/evaluation/supervisor")})},r=function(t){return e.request({method:"GET",url:"/api/v2/performance/reviews/".concat(t,"/evaluation/employee")})},l=function(t){return e.request({method:"GET",url:"/api/v2/performance/reviews/".concat(t,"/evaluation/final")})},c=function(t,n){return e.request({method:"PUT",url:"/api/v2/performance/reviews/".concat(t,"/evaluation/final"),data:Object(M["a"])(Object(M["a"])({},n),{},{finalComment:""===n.finalComment?null:n.finalComment})})},i=function(t,n,o){return e.request({method:"PUT",url:"/api/v2/performance/reviews/".concat(t,"/evaluation/employee"),data:{complete:n,ratings:o.kpis,generalComment:o.generalComment}})},u=function(t,n){return e.request({method:"PUT",url:"/api/v2/performance/reviews/".concat(t,"/evaluation/supervisor"),data:{ratings:n.kpis,generalComment:n.generalComment}})},d=function(e){return e.map((function(e){return[Jn(e.minRating,n("performance.rating_should_be_greater_than_or_equal_to_minValue",{minValue:e.minRating})),Yn(e.maxRating,n("performance.rating_should_be_less_than_or_equal_to_maxValue",{maxValue:e.maxRating}))]}))},s=function(e){return{kpis:e.map((function(e){return{kpiId:e.id,rating:null,comment:null}})),generalComment:null}},m=function(e,t,n){return{kpis:n.map((function(t){var n=t.kpiId,o=e.find((function(e){return e.kpi.id===n}));return{kpiId:n,rating:null===o||void 0===o?void 0:o.rating,comment:null===o||void 0===o?void 0:o.comment}})),generalComment:t}},b=function(e){return{details:{empNumber:e.employee.empNumber,firstName:e.employee.firstName,lastName:e.employee.lastName,middleName:e.employee.middleName,terminationId:e.employee.terminationId},jobTitle:e.employee.jobTitle.name,status:e.status}},p=function(e){return new Map(null===e||void 0===e?void 0:e.map((function(e){return[e.action,e.name]})))};return{getAllKpis:o,getEmployeeReview:r,getSupervisorReview:a,getFinalReview:l,generateRules:d,generateModel:s,generateReviewerData:b,generateAllowedActions:p,generateEvaluationFormData:m,finalizeReview:c,saveEmployeeReview:i,saveSupervisorReview:u}}var DG={class:"orangehrm-modal-header"},NG={class:"orangehrm-text-center-align"},_G={class:"orangehrm-modal-footer"};function kG(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-button"),u=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#app"},[r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",DG,[Object(o["createVNode"])(c,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.confirm_review_submission")),1)]})),_:1})]),Object(o["createElementVNode"])("div",NG,[Object(o["createVNode"])(c,{type:"subtitle-2"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.confirm_review_submission_message")),1)]})),_:1})]),Object(o["createElementVNode"])("div",_G,[Object(o["createVNode"])(i,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(i,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.ok"),onClick:l.onConfirm},null,8,["label","onClick"])])]})),_:1},8,["onUpdate:show"])):Object(o["createCommentVNode"])("",!0)])}var EG={name:"ReviewConfirmModal",components:{"oxd-dialog":oe["a"]},data:function(){return{show:!1,reject:null,resolve:null}},methods:{showDialog:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n,e.show=!0}))},onConfirm:function(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel:function(){this.show=!1,this.resolve&&this.resolve("cancel")}}};n("2f6a");const SG=C()(EG,[["render",kG],["__scopeId","data-v-3ac14d53"]]);var AG=SG,$G={details:{empNumber:null,firstName:"",lastName:"",middleName:"",terminationId:null},jobTitle:"",status:1,actions:new Map},FG={components:{"review-summary":lG,"final-evaluation":fG,"evaluation-form":wG,"review-confirm-modal":AG},props:{reviewId:{type:Number,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0},isReviewer:{type:Boolean,default:!1}},setup:function(){var e=us(),t=e.formRef,n=e.invalid,o=e.validate,a=new te(window.appGlobal.baseUrl,""),r=xG(a),l=r.getAllKpis,c=r.getEmployeeReview,i=r.getSupervisorReview,u=r.getFinalReview,d=r.generateRules,s=r.generateModel,m=r.generateReviewerData,b=r.generateAllowedActions,p=r.generateEvaluationFormData,f=r.finalizeReview,h=r.saveEmployeeReview,j=r.saveSupervisorReview;return{http:a,invalid:n,formRef:t,validate:o,getAllKpis:l,generateRules:d,generateModel:s,generateReviewerData:m,generateAllowedActions:b,generateEvaluationFormData:p,getEmployeeReview:c,getSupervisorReview:i,getFinalReview:u,finalizeReview:f,saveEmployeeReview:h,saveSupervisorReview:j}},data:function(){return{kpis:[],rules:[],employee:Object(M["a"])({},$G),employeeReview:{},supervisor:Object(M["a"])({},$G),supervisorReview:{},isLoading:!1,finalRating:null,finalComment:null,completedDate:null,isFinalizeRequired:!1}},computed:{hasSupervisorUpdateAction:function(){return this.employee.actions.has("supervisorUpdate")},hasSaveAction:function(){return this.supervisor.actions.has("save")},hasCompleteAction:function(){return this.supervisor.actions.has("complete")},hasCancelAction:function(){return 4!==this.status},hasActions:function(){return this.hasSupervisorUpdateAction||this.hasSaveAction||this.hasCompleteAction||this.hasCancelAction}},beforeMount:function(){var e=this;this.isLoading=!0,this.getAllKpis(this.reviewId).then((function(t){var n=t.data.data;return e.kpis=Object(iO["a"])(n),e.rules=e.generateRules(n),e.employeeReview=e.generateModel(n),e.supervisorReview=e.generateModel(n),e.getEmployeeReview(e.reviewId)})).then((function(t){var n=t.data.data,o=t.data.meta;return e.employee=e.generateReviewerData(o.reviewer),e.employee.actions=e.generateAllowedActions(o.allowedActions),e.employeeReview=e.generateEvaluationFormData(n,o.generalComment,e.employeeReview.kpis),e.getSupervisorReview(e.reviewId)})).then((function(t){var n=t.data.data,o=t.data.meta;return e.supervisor=e.generateReviewerData(o.reviewer),e.supervisor.actions=e.generateAllowedActions(o.allowedActions),e.supervisorReview=e.generateEvaluationFormData(n,o.generalComment,e.supervisorReview.kpis),e.getFinalReview(e.reviewId)})).then((function(t){var n=t.data.data;e.finalRating=n.finalRating,e.finalComment=n.finalComment,e.completedDate=n.completedDate})).finally((function(){e.isLoading=!1}))},methods:{onSubmit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isFinalizeRequired=t,this.$nextTick().then((function(){return e.validate()})).then((function(){!0!==e.invalid&&(t?e.$refs.confirmDialog.showDialog().then((function(t){"ok"===t&&e.submitReview(!0)})):e.submitReview(!1))}))},submitReview:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLoading=!0,this.saveSupervisorReview(this.reviewId,this.supervisorReview).then((function(){if(e.hasSupervisorUpdateAction)return e.saveEmployeeReview(e.reviewId,!0,e.employeeReview)})).then((function(){return e.finalizeReview(e.reviewId,{complete:t,finalRating:e.finalRating,finalComment:e.finalComment,completedDate:e.completedDate})})).then((function(){return e.$toast.saveSuccess()})).finally((function(){ee()}))},onClickCancel:function(){Z(this.isReviewer?"/performance/searchEvaluatePerformanceReview":"/performance/searchPerformanceReview")}}};n("e69d");const BG=C()(FG,[["render",Hz],["__scopeId","data-v-3f2b21cf"]]);var TG=BG,IG=function(e){return Object(o["pushScopeId"])("data-v-4cfb0e3c"),e=e(),Object(o["popScopeId"])(),e},LG={class:"orangehrm-background-container"},UG={class:"orangehrm-card-container"},PG=IG((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),qG=IG((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),RG={key:0},MG=IG((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),zG={class:"orangehrm-performance-review-actions"},GG={key:1},QG=IG((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function WG(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("review-confirm-modal"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("review-summary"),d=Object(o["resolveComponent"])("evaluation-form"),s=Object(o["resolveComponent"])("oxd-divider"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("final-evaluation"),f=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",LG,[Object(o["createVNode"])(c,{ref:"confirmDialog"},null,512),Object(o["createElementVNode"])("div",UG,[Object(o["createVNode"])(i,{tag:"h5",class:"orangehrm-performance-review-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("performance.performance_review")),1)]})),_:1})]),PG,Object(o["createVNode"])(u,{loading:r.isLoading,status:n.status,"due-date":n.dueDate,employee:r.employee.details,"job-title":r.employee.jobTitle,"review-period-end":n.reviewPeriodEnd,"review-period-start":n.reviewPeriodStart,"final-rating":r.finalRating},null,8,["loading","status","due-date","employee","job-title","review-period-end","review-period-start","final-rating"]),qG,Object(o["createVNode"])(f,{ref:"formRef",loading:r.isLoading},{default:Object(o["withCtx"])((function(){return[n.status<4?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",RG,[Object(o["createVNode"])(d,{modelValue:r.supervisorReview,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.supervisorReview=e}),kpis:r.kpis,rules:r.rules,editable:!1,collapsible:!1,collapsed:!0,employee:r.supervisor.details,"job-title":r.supervisor.jobTitle,status:r.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},null,8,["modelValue","kpis","rules","employee","job-title","status","title"]),MG,Object(o["createVNode"])(d,{modelValue:r.employeeReview,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.employeeReview=e}),kpis:r.kpis,rules:r.rules,editable:r.employee.status<3,collapsed:!1,collapsible:!0,employee:r.employee.details,"job-title":r.employee.jobTitle,status:r.employee.status,title:e.$t("performance.self_evaluation_by")},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createElementVNode"])("div",zG,[l.hasCancelAction?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickCancel},null,8,["label","onClick"])):Object(o["createCommentVNode"])("",!0),l.hasSaveAction?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:1,"display-type":"ghost",type:"button",label:e.$t("general.save"),onClick:t[1]||(t[1]=function(e){return l.onSubmit(!1)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0),l.hasCompleteAction?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:2,type:"button","display-type":"secondary",label:e.$t("performance.complete"),onClick:t[2]||(t[2]=function(e){return l.onSubmit(!0)})},null,8,["label"])):Object(o["createCommentVNode"])("",!0)])]})),_:1},512),[[o["vShow"],l.hasActions]])]})),_:1},8,["modelValue","kpis","rules","editable","employee","job-title","status","title"])])):Object(o["createCommentVNode"])("",!0),4===n.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",GG,[Object(o["createVNode"])(d,{modelValue:r.employeeReview,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.employeeReview=e}),kpis:r.kpis,rules:r.rules,editable:!1,collapsed:!1,collapsible:!0,employee:r.employee.details,"job-title":r.employee.jobTitle,status:r.employee.status,title:e.$t("performance.self_evaluation_by")},null,8,["modelValue","kpis","rules","employee","job-title","status","title"]),QG,Object(o["createVNode"])(d,{modelValue:r.supervisorReview,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.supervisorReview=e}),kpis:r.kpis,rules:r.rules,editable:!1,collapsible:!0,collapsed:!1,employee:r.supervisor.details,"job-title":r.supervisor.jobTitle,status:r.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s),Object(o["createVNode"])(p,{"final-rating":r.finalRating,"onUpdate:final-rating":t[5]||(t[5]=function(e){return r.finalRating=e}),"final-comment":r.finalComment,"onUpdate:final-comment":t[6]||(t[6]=function(e){return r.finalComment=e}),"completed-date":r.completedDate,"onUpdate:completed-date":t[7]||(t[7]=function(e){return r.completedDate=e}),status:n.status,"is-required":!1},null,8,["final-rating","final-comment","completed-date","status"])]})),_:1},8,["modelValue","kpis","rules","employee","job-title","status","title"])])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["loading"])])}var HG={details:{empNumber:null,firstName:"",lastName:"",terminationId:null},jobTitle:"",status:1,actions:new Map},JG={name:"SelfEvaluation",components:{"review-summary":lG,"final-evaluation":fG,"evaluation-form":wG,"review-confirm-modal":AG},props:{reviewId:{type:Number,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0}},setup:function(){var e=us(),t=e.formRef,n=e.invalid,o=e.validate,a=new te(window.appGlobal.baseUrl,""),r=xG(a),l=r.getAllKpis,c=r.getEmployeeReview,i=r.getSupervisorReview,u=r.getFinalReview,d=r.generateRules,s=r.generateModel,m=r.generateReviewerData,b=r.generateAllowedActions,p=r.generateEvaluationFormData,f=r.finalizeReview,h=r.saveEmployeeReview;return{http:a,invalid:n,formRef:t,validate:o,getAllKpis:l,generateRules:d,generateModel:s,generateReviewerData:m,generateAllowedActions:b,generateEvaluationFormData:p,getEmployeeReview:c,getSupervisorReview:i,getFinalReview:u,finalizeReview:f,saveEmployeeReview:h}},data:function(){return{kpis:[],rules:[],employee:Object(M["a"])({},HG),employeeReview:{},supervisor:Object(M["a"])({},HG),supervisorReview:{},isLoading:!1,finalRating:null,finalComment:null,completedDate:null}},computed:{hasSaveAction:function(){return this.employee.actions.has("save")},hasCompleteAction:function(){return this.employee.actions.has("complete")},hasCancelAction:function(){var e;return!(4===this.status||3===(null===(e=this.employee)||void 0===e?void 0:e.status))},hasActions:function(){return this.hasSaveAction||this.hasCancelAction||this.hasCompleteAction}},beforeMount:function(){var e=this;this.isLoading=!0,this.getAllKpis(this.reviewId).then((function(t){var n=t.data.data;return e.kpis=Object(iO["a"])(n),e.rules=e.generateRules(n),e.employeeReview=e.generateModel(n),e.supervisorReview=e.generateModel(n),e.getEmployeeReview(e.reviewId)})).then((function(t){var n=t.data.data,o=t.data.meta;return e.employee=e.generateReviewerData(o.reviewer),e.employee.actions=e.generateAllowedActions(o.allowedActions),e.employeeReview=e.generateEvaluationFormData(n,o.generalComment,e.employeeReview.kpis),e.getSupervisorReview(e.reviewId)})).then((function(t){var n=t.data.data,o=t.data.meta;return e.supervisor=e.generateReviewerData(o.reviewer),e.supervisor.actions=e.generateAllowedActions(o.allowedActions),e.supervisorReview=e.generateEvaluationFormData(n,o.generalComment,e.supervisorReview.kpis),4===e.status?e.getFinalReview(e.reviewId):{}})).then((function(t){if(0!==Object.keys(t).length){var n=t.data.data;e.finalRating=n.finalRating,e.finalComment=n.finalComment,e.completedDate=n.completedDate}})).finally((function(){e.isLoading=!1}))},methods:{onSubmit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$nextTick().then((function(){return e.validate()})).then(Object(fe["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!0!==e.invalid){n.next=2;break}return n.abrupt("return");case 2:t?e.$refs.confirmDialog.showDialog().then((function(t){"ok"===t&&e.submitReview(!0)})):e.submitReview(!1);case 3:case"end":return n.stop()}}),n)}))))},submitReview:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLoading=!0,this.saveEmployeeReview(this.reviewId,t,this.employeeReview).then((function(){return e.$toast.saveSuccess()})).finally((function(){ee()}))},onClickCancel:function(){Z("/performance/myPerformanceReview")}}};n("047c");const YG=C()(JG,[["render",WG],["__scopeId","data-v-4cfb0e3c"]]);var XG=YG,KG={"my-tracker":nq,"employee-trackers":bq,"kpi-search":Gq,"kpi-save":$q,"kpi-edit":Vq,"add-review":oR,"edit-review":sR,"performance-tracker-list":VR,"performance-tracker-save":FR,"performance-tracker-edit":qR,"my-reviews":uM,"review-list":wM,"review-search":TM,"employee-tracker-logs":Pz,"admin-evaluation":TG,"self-evaluation":XG},ZG=function(e){return Object(o["pushScopeId"])("data-v-2cff612c"),e=e(),Object(o["popScopeId"])(),e},eQ={class:"orangehrm-background-container"},tQ=ZG((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),nQ={class:"orangehrm-corporate-directory"},oQ={class:"orangehrm-paper-container"},aQ={ref:"scrollerRef",class:"orangehrm-container"},rQ=ZG((function(){return Object(o["createElementVNode"])("div",{class:"orangehrm-bottom-container"},null,-1)})),lQ={key:0,class:"orangehrm-corporate-directory-sidebar"};function cQ(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-autocomplete"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-divider"),b=Object(o["resolveComponent"])("oxd-button"),p=Object(o["resolveComponent"])("submit-button"),f=Object(o["resolveComponent"])("oxd-form-actions"),h=Object(o["resolveComponent"])("oxd-form"),j=Object(o["resolveComponent"])("oxd-table-filter"),O=Object(o["resolveComponent"])("table-header"),v=Object(o["resolveComponent"])("employee-details"),g=Object(o["resolveComponent"])("summary-card"),C=Object(o["resolveComponent"])("oxd-loading-spinner"),y=Object(o["resolveComponent"])("summary-card-details");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",eQ,[Object(o["createVNode"])(j,{"filter-title":e.$t("general.directory")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{onSubmitValid:l.onSearch,onReset:l.onReset},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:3},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:e.filters.employeeNumber,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filters.employeeNumber=t}),rules:a.rules.employee,"api-path":"api/v2/directory/employees"},null,8,["modelValue","rules"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.filters.jobTitleId,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filters.jobTitleId=t}),type:"select",label:e.$t("general.job_title"),options:n.jobTitles},null,8,["modelValue","label","options"])]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.filters.locationId,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filters.locationId=t}),type:"select",label:e.$t("general.location"),options:n.locations},null,8,["modelValue","label","options"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{label:e.$t("general.reset"),"display-type":"ghost",type:"reset"},null,8,["label"]),Object(o["createVNode"])(p,{label:e.$t("general.search")},null,8,["label"])]})),_:1})]})),_:1},8,["onSubmitValid","onReset"])]})),_:1},8,["filter-title"]),tQ,Object(o["createElementVNode"])("div",nQ,[Object(o["createElementVNode"])("div",oQ,[Object(o["createVNode"])(O,{selected:0,total:e.total,loading:!1,"show-divider":!1},null,8,["total"]),Object(o["createElementVNode"])("div",aQ,[Object(o["createVNode"])(d,{cols:l.colSize},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.employees,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:t},{default:Object(o["withCtx"])((function(){return[l.isMobile&&e.currentIndex===n?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,"employee-id":t.id,"employee-name":t.employeeName,"employee-sub-unit":t.employeeSubUnit,"employee-location":t.employeeLocation,"employee-designation":t.employeeJobTitle,onClick:function(e){return l.showEmployeeDetails(n)}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{"employee-id":t.id,"is-mobile":l.isMobile},null,8,["employee-id","is-mobile"])]})),_:2},1032,["employee-id","employee-name","employee-sub-unit","employee-location","employee-designation","onClick"])):(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:1,"employee-id":t.id,"employee-name":t.employeeName,"employee-sub-unit":t.employeeSubUnit,"employee-location":t.employeeLocation,"employee-designation":t.employeeJobTitle,onClick:function(e){return l.showEmployeeDetails(n)}},null,8,["employee-id","employee-name","employee-sub-unit","employee-location","employee-designation","onClick"]))]})),_:2},1024)})),128))]})),_:1},8,["cols"]),e.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0,class:"orangehrm-container-loader"})):Object(o["createCommentVNode"])("",!0)],512),rQ]),l.isEmployeeSelected&&!1===l.isMobile?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",lQ,[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{"employee-designation":e.employees[e.currentIndex].employeeJobTitle,"employee-id":e.employees[e.currentIndex].id,"employee-location":e.employees[e.currentIndex].employeeLocation,"employee-name":e.employees[e.currentIndex].employeeName,"employee-sub-unit":e.employees[e.currentIndex].employeeSubUnit,onHideDetails:t[3]||(t[3]=function(e){return l.hideEmployeeDetails()})},null,8,["employee-designation","employee-id","employee-location","employee-name","employee-sub-unit"])]})),_:1})])):Object(o["createCommentVNode"])("",!0)])])}var iQ={class:"orangehrm-directory-card-body"};function uQ(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("profile-picture"),d=Object(o["resolveComponent"])("oxd-sheet");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{gutters:!1,class:"orangehrm-directory-card"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"orangehrm-directory-card-top",onClick:t[0]||(t[0]=function(t){return e.$emit("hide-details",!1)})},[Object(o["createVNode"])(c,{name:"arrow-right"})],512),[[o["vShow"],n.showBackButton]]),Object(o["createVNode"])(i,{tag:"p",class:Object(o["normalizeClass"])(l.cardTitleClasses)},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.employeeName),1)]})),_:1},8,["class"]),Object(o["createVNode"])(u,{id:n.employeeId},null,8,["id"]),Object(o["withDirectives"])(Object(o["createVNode"])(i,{tag:"p",class:Object(o["normalizeClass"])(l.cardSubTitleClasses)},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.employeeDesignation),1)]})),_:1},8,["class"]),[[o["vShow"],n.employeeDesignation]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",iQ,[Object(o["createVNode"])(c,{class:"orangehrm-directory-card-icon",name:"geo-alt-fill"}),Object(o["createElementVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createVNode"])(i,{tag:"p",class:Object(o["normalizeClass"])(l.cardDescriptionClasses)},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.employeeSubUnit),1)]})),_:1},8,["class"]),[[o["vShow"],n.employeeSubUnit]]),Object(o["withDirectives"])(Object(o["createVNode"])(i,{tag:"p",class:Object(o["normalizeClass"])(l.cardDescriptionClasses)},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.employeeLocation),1)]})),_:1},8,["class"]),[[o["vShow"],n.employeeLocation]])])],512),[[o["vShow"],n.employeeSubUnit||n.employeeLocation]]),Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)]})),_:3})}var dQ={class:"orangehrm-profile-picture"},sQ=["src"];function mQ(e,t,n,a,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",dQ,[Object(o["createElementVNode"])("img",{src:a.imgSrc,alt:"Profile Picture",class:"orangehrm-profile-picture-img"},null,8,sQ)])}var bQ="".concat(window.appGlobal.baseUrl,"/../dist/img/user-default-400.png"),pQ={name:"ProfilePicture",props:{id:{type:Number,required:!0}},setup:function(e){var t=Object(o["computed"])((function(){return e.id?"".concat(window.appGlobal.baseUrl,"/pim/viewPhoto/empNumber/").concat(e.id):bQ}));return{imgSrc:t}}};n("61a4");const fQ=C()(pQ,[["render",mQ],["__scopeId","data-v-5e2d1196"]]);var hQ=fQ,jQ={name:"SummaryCard",components:{"oxd-sheet":Ua["a"],"oxd-icon":ro["a"],"profile-picture":hQ},props:{employeeId:{type:Number,required:!0},employeeName:{type:String,required:!0},employeeDesignation:{type:String,required:!1,default:null},employeeSubUnit:{type:String,default:""},employeeLocation:{type:String,default:""},showBackButton:{type:Boolean,default:!1}},emits:["hide-details"],computed:{hasDefaultSlot:function(){return!!this.$slots.default},cardTitleClasses:function(){return{"orangehrm-directory-card-header":!0,"--break-words":!this.hasDefaultSlot}},cardSubTitleClasses:function(){return{"orangehrm-directory-card-subtitle":!0,"--break-words":!this.hasDefaultSlot}},cardDescriptionClasses:function(){return{"orangehrm-directory-card-description":!0,"--break-words":!this.hasDefaultSlot}}}};n("c613");const OQ=C()(jQ,[["render",uQ],["__scopeId","data-v-71a98c3a"]]);var vQ=OQ,gQ={class:"orangehrm-directory-card-rounded-body"},CQ={class:"orangehrm-directory-card-icon"},yQ={class:"orangehrm-directory-card-icon"},VQ={class:"orangehrm-directory-card-hover-body"},wQ={class:"orangehrm-directory-card-hover-body orangehrm-directory-card-hover-icon"},xQ={class:"orangehrm-directory-card-hover-body"},DQ={class:"orangehrm-directory-card-hover-body orangehrm-directory-card-hover-icon"};function NQ(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-divider"),i=Object(o["resolveComponent"])("oxd-icon-button"),u=Object(o["resolveComponent"])("oxd-text");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["withDirectives"])(Object(o["createVNode"])(c,null,null,512),[[o["vShow"],r.employeeWorkEmail||r.employeeWorkTelephone]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",gQ,[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",CQ,[Object(o["createVNode"])(i,{"display-type":"success",name:"telephone-fill",onClick:Object(o["withModifiers"])(l.openClientTelephone,["stop"])},null,8,["onClick"])],512),[[o["vShow"],r.employeeWorkTelephone]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",yQ,[Object(o["createVNode"])(i,{"display-type":"danger",name:"envelope-fill",onClick:Object(o["withModifiers"])(l.openClientEmail,["stop"])},null,8,["onClick"])],512),[[o["vShow"],r.employeeWorkEmail]])],512),[[o["vShow"],r.employeeWorkEmail||r.employeeWorkTelephone]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"orangehrm-directory-card-hover",onMouseleave:t[0]||(t[0]=function(e){return r.showTelephoneClip=!1}),onMouseover:t[1]||(t[1]=function(e){return r.showTelephoneClip=!0})},[Object(o["createElementVNode"])("div",VQ,[Object(o["createVNode"])(u,{type:"toast-message"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pim.work_telephone")),1)]})),_:1}),Object(o["createVNode"])(u,{ref:"cloneTelephone",type:"toast-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.employeeWorkTelephone),1)]})),_:1},512)]),Object(o["createElementVNode"])("div",wQ,[Object(o["withDirectives"])(Object(o["createVNode"])(i,{name:"files",onClick:Object(o["withModifiers"])(l.copyTelephone,["stop"])},null,8,["onClick"]),[[o["vShow"],r.showTelephoneClip||n.isMobile]])])],544),[[o["vShow"],r.employeeWorkTelephone]]),Object(o["withDirectives"])(Object(o["createVNode"])(c,null,null,512),[[o["vShow"],r.employeeWorkTelephone]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"orangehrm-directory-card-hover",onMouseleave:t[2]||(t[2]=function(e){return r.showEmailClip=!1}),onMouseover:t[3]||(t[3]=function(e){return r.showEmailClip=!0})},[Object(o["createElementVNode"])("div",xQ,[Object(o["createVNode"])(u,{type:"toast-message"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.work_email")),1)]})),_:1}),Object(o["createVNode"])(u,{ref:"cloneEmail",type:"toast-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.employeeWorkEmail),1)]})),_:1},512)]),Object(o["createElementVNode"])("div",DQ,[Object(o["withDirectives"])(Object(o["createVNode"])(i,{name:"files",onClick:Object(o["withModifiers"])(l.copyEmail,["stop"])},null,8,["onClick"]),[[o["vShow"],r.showEmailClip||n.isMobile]])])],544),[[o["vShow"],r.employeeWorkEmail]]),Object(o["withDirectives"])(Object(o["createVNode"])(c,null,null,512),[[o["vShow"],r.employeeWorkEmail]])],64)}var _Q={name:"EmployeeDetails",components:{"oxd-divider":i["a"]},props:{employeeId:{type:Number,required:!0},isMobile:{type:Boolean,default:!1}},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/directory/employees");return{http:e}},data:function(){return{employeeWorkTelephone:null,employeeWorkEmail:null,showTelephoneClip:!1,showEmailClip:!1,toGoEmail:null}},watch:{employeeId:function(){this.callEmployeeDetailsApi()}},beforeMount:function(){this.callEmployeeDetailsApi()},methods:{openClientTelephone:function(){window.location.href="tel:"+this.employeeWorkTelephone},openClientEmail:function(){window.location.href="mailto:"+this.employeeWorkEmail},copyEmail:function(){var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(this.employeeWorkEmail)},copyTelephone:function(){var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(this.employeeWorkTelephone)},callEmployeeDetailsApi:function(){var e=this;this.http.get(this.employeeId,{model:"detailed"}).then((function(t){var n,o,a=t.data.data;e.employeeWorkTelephone=null===(n=a.contactInfo)||void 0===n?void 0:n.workTelephone,e.employeeWorkEmail=null===(o=a.contactInfo)||void 0===o?void 0:o.workEmail}))}}};n("bf28");const kQ=C()(_Q,[["render",NQ],["__scopeId","data-v-2d312e42"]]);var EQ=kQ;function SQ(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-details"),i=Object(o["resolveComponent"])("summary-card");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{"employee-id":n.employeeId,"show-back-button":!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{"employee-id":n.employeeId},null,8,["employee-id"])]})),_:1},8,["employee-id"])}var AQ={name:"SummaryCardDetails",components:{"employee-details":EQ,"summary-card":vQ},props:{employeeId:{type:Number,required:!0}}};const $Q=C()(AQ,[["render",SQ]]);var FQ=$Q,BQ={employeeNumber:null,jobTitleId:null,locationId:null},TQ={name:"CorporateDirectory",components:{"summary-card":vQ,"oxd-loading-spinner":ne["a"],"employee-details":EQ,"summary-card-details":FQ,"employee-autocomplete":Zo},props:{jobTitles:{type:Array,default:function(){return[]}},locations:{type:Array,default:function(){return[]}}},setup:function(){var e=Je(),t=e.$t,n=Gt(),a=n.noRecordsFound,r=Object(JU["c"])(),l={employee:[Kn]},c=function(e){return e.map((function(e){var n,o,a,r,l;return{id:e.empNumber,employeeName:"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName," ")+(e.terminationId?t("general.past_employee"):""),employeeJobTitle:null!==(n=e.jobTitle)&&void 0!==n&&n.isDeleted?"".concat(null===(o=e.jobTitle)||void 0===o?void 0:o.title," ")+t("general.deleted"):null===(a=e.jobTitle)||void 0===a?void 0:a.title,employeeSubUnit:null===(r=e.subunit)||void 0===r?void 0:r.name,employeeLocation:null===(l=e.location)||void 0===l?void 0:l.name}}))},i=new te(window.appGlobal.baseUrl,"api/v2/directory/employees"),u=14,d=Object(o["reactive"])({total:0,offset:0,employees:[],currentIndex:-1,isLoading:!1,filters:Object(M["a"])({},BQ)}),s=function(){var e,t,n;d.isLoading=!0,i.getAll({limit:u,offset:d.offset,locationId:null===(e=d.filters.locationId)||void 0===e?void 0:e.id,empNumber:null===(t=d.filters.employeeNumber)||void 0===t?void 0:t.id,jobTitleId:null===(n=d.filters.jobTitleId)||void 0===n?void 0:n.id}).then((function(e){var t=e.data,n=t.data,o=t.meta;d.total=(null===o||void 0===o?void 0:o.total)||0,Array.isArray(n)&&(d.employees=[].concat(Object(iO["a"])(d.employees),Object(iO["a"])(c(n)))),0===d.total&&a()})).finally((function(){return d.isLoading=!1}))},m=tz((function(){d.employees.length>=d.total||(d.offset+=u,s())})),b=m.scrollerRef;return Object(M["a"])(Object(M["a"])({rules:l,fetchData:s,scrollerRef:b},Object(o["toRefs"])(d)),Object(o["toRefs"])(r))},computed:{isMobile:function(){return this.windowWidth<800},isEmployeeSelected:function(){return this.currentIndex>=0},oxdGridClasses:function(){return{"orangehrm-container":!0,"orangehrm-container-min-display":this.isEmployeeSelected}},colSize:function(){return this.windowWidth>=1920?this.isEmployeeSelected?5:7:this.isEmployeeSelected?3:4}},beforeMount:function(){this.fetchData()},methods:{hideEmployeeDetails:function(){this.currentIndex=-1},showEmployeeDetails:function(e){this.currentIndex!=e?this.currentIndex=e:this.hideEmployeeDetails()},onSearch:function(){this.hideEmployeeDetails(),this.employees=[],this.offset=0,this.fetchData()},onReset:function(){this.hideEmployeeDetails(),this.employees=[],this.offset=0,this.filters=Object(M["a"])({},BQ),this.fetchData()}}};n("f50b");const IQ=C()(TQ,[["render",cQ],["__scopeId","data-v-2cff612c"]]);var LQ=IQ,UQ={"corporate-directory-employee-list":LQ},PQ=function(e){return Object(o["pushScopeId"])("data-v-30b9e6c4"),e=e(),Object(o["popScopeId"])(),e},qQ={class:"orangehrm-login-form"},RQ={class:"orangehrm-login-error"},MQ=Object(o["createTextVNode"])("Username : Admin"),zQ=Object(o["createTextVNode"])("Password : admin123"),GQ=["value"],QQ={class:"orangehrm-login-forgot"},WQ=PQ((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),HQ={class:"orangehrm-login-footer"},JQ={key:0,class:"orangehrm-login-footer-sm"},YQ={href:"https://www.linkedin.com/company/orangehrm/mycompany/",target:"_blank"},XQ={href:"https://www.facebook.com/OrangeHRM/",target:"_blank"},KQ={href:"https://twitter.com/orangehrm?lang=en",target:"_blank"},ZQ={href:"https://www.youtube.com/c/OrangeHRMInc",target:"_blank"};function eW(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-alert"),u=Object(o["resolveComponent"])("oxd-sheet"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form-actions"),p=Object(o["resolveComponent"])("oxd-form"),f=Object(o["resolveComponent"])("oxd-icon"),h=Object(o["resolveComponent"])("login-layout");return Object(o["openBlock"])(),Object(o["createBlock"])(h,null,{default:Object(o["withCtx"])((function(){var a;return[Object(o["createVNode"])(c,{class:"orangehrm-login-title",tag:"h5"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.login")),1)]})),_:1}),Object(o["createElementVNode"])("div",qQ,[Object(o["createElementVNode"])("div",RQ,[Object(o["createVNode"])(i,{show:null!==n.error,message:(null===(a=n.error)||void 0===a?void 0:a.message)||"",type:"error"},null,8,["show","message"]),n.isDemoMode?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,type:"gray-lighten-2",class:"orangehrm-demo-credentials"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[MQ]})),_:1}),Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[zQ]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(p,{ref:"loginForm",method:"post",action:l.submitUrl,onSubmitValid:l.onSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,GQ),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),name:"username",label:e.$t("general.username"),"label-icon":"person",placeholder:e.$t("auth.username"),rules:r.rules.username,autofocus:""},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e}),name:"password",label:e.$t("general.password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:r.rules.password},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(b,{class:"orangehrm-login-action"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{class:"orangehrm-login-button","display-type":"main",label:e.$t("auth.login"),type:"submit"},null,8,["label"])]})),_:1}),Object(o["createElementVNode"])("div",QQ,[Object(o["createVNode"])(c,{class:"orangehrm-login-forgot-header",onClick:l.navigateUrl},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.forgot_password"))+"? ",1)]})),_:1},8,["onClick"])])]})),_:1},8,["action","onSubmitValid"]),WQ]),Object(o["createElementVNode"])("div",HQ,[n.showSocialMedia?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",JQ,[Object(o["createElementVNode"])("a",YQ,[Object(o["createVNode"])(f,{type:"svg",class:"orangehrm-sm-icon",name:"linkedinFill"})]),Object(o["createElementVNode"])("a",XQ,[Object(o["createVNode"])(f,{type:"svg",class:"orangehrm-sm-icon",name:"facebookFill"})]),Object(o["createElementVNode"])("a",KQ,[Object(o["createVNode"])(f,{type:"svg",class:"orangehrm-sm-icon",name:"twitterFill"})]),Object(o["createElementVNode"])("a",ZQ,[Object(o["createVNode"])(f,{type:"svg",class:"orangehrm-sm-icon",name:"youtubeFill"})])])):Object(o["createCommentVNode"])("",!0),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])]})),_:3})}var tW={class:"orangehrm-login-layout"},nW={class:"orangehrm-login-layout-blob"},oW={class:"orangehrm-login-container"},aW={class:"orangehrm-login-slot-wrapper"},rW={class:"orangehrm-login-slot"},lW={class:"orangehrm-login-logo-mobile"},cW=["src"],iW={class:"orangehrm-login-logo"},uW=["src"];function dW(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("login-branding");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tW,[Object(o["createElementVNode"])("div",nW,[Object(o["createElementVNode"])("div",oW,[Object(o["createElementVNode"])("div",aW,[Object(o["createVNode"])(c,{"img-src":n.loginBannerSrc},null,8,["img-src"]),Object(o["createElementVNode"])("div",rW,[Object(o["createElementVNode"])("div",lW,[Object(o["createElementVNode"])("img",{src:n.loginLogoSrc,alt:"orangehrm-logo"},null,8,cW)]),Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)])])]),Object(o["createElementVNode"])("div",iW,[Object(o["createElementVNode"])("img",{src:n.loginLogoSrc,alt:"orangehrm-logo"},null,8,uW)])])])}var sW={class:"orangehrm-login-branding"},mW=["src"];function bW(e,t,n,a,r,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",sW,[Object(o["createElementVNode"])("img",{src:n.imgSrc,alt:"company-branding"},null,8,mW)])}var pW={name:"LoginBranding",props:{imgSrc:{type:String,required:!0}}};n("0ab1");const fW=C()(pW,[["render",bW],["__scopeId","data-v-3dda64e6"]]);var hW=fW,jW={name:"LoginLayout",components:{"login-branding":hW},props:{loginLogoSrc:{type:String,required:!0},loginBannerSrc:{type:String,required:!0}}};n("7745");const OW=C()(jW,[["render",dW],["__scopeId","data-v-50815349"]]);var vW=OW,gW={components:{"oxd-icon":ro["a"],"oxd-alert":ct["a"],"oxd-sheet":Ua["a"],"login-layout":vW},props:{error:{type:Object,default:function(){return null}},token:{type:String,required:!0},showSocialMedia:{type:Boolean,default:!0},isDemoMode:{type:Boolean,default:!1}},data:function(){return{username:"",password:"",rules:{username:[On],password:[On]}}},computed:{submitUrl:function(){return K("/auth/validate")}},beforeMount:function(){setTimeout((function(){ee()}),12e5)},methods:{onSubmit:function(){this.$refs.loginForm.$el.submit()},navigateUrl:function(){Z("/auth/requestPasswordResetCode")}}};n("7bdc");const CW=C()(gW,[["render",eW],["__scopeId","data-v-30b9e6c4"]]);var yW=CW;function VW(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-alert");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{show:!0,type:"error",message:e.$t("auth.credential_required")},null,8,["message"])}var wW={components:{"oxd-alert":ct["a"]}};const xW=C()(wW,[["render",VW]]);var DW=xW,NW=function(e){return Object(o["pushScopeId"])("data-v-8fe511d8"),e=e(),Object(o["popScopeId"])(),e},_W={class:"orangehrm-admin-access-container"},kW={class:"orangehrm-card-container"},EW=NW((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),SW=["value"],AW={class:"orangehrm-admin-access-button-container"},$W=NW((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function FW(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-alert"),u=Object(o["resolveComponent"])("oxd-input-field"),d=Object(o["resolveComponent"])("oxd-form-row"),s=Object(o["resolveComponent"])("oxd-button"),m=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_W,[Object(o["createElementVNode"])("div",kW,[Object(o["createVNode"])(m,{ref:"verifyForm",method:"post",action:l.submitUrl,onSubmitValid:l.onSubmit},{default:Object(o["withCtx"])((function(){var a;return[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-admin-access-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.admin_access")),1)]})),_:1}),EW,Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(r.noteContainerClass)},[Object(o["createVNode"])(c,{tag:"toast-message"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.admin_access_note")),1)]})),_:1})],2),Object(o["createVNode"])(i,{show:null!==n.error,type:"error",message:null===(a=n.error)||void 0===a?void 0:a.message},null,8,["show","message"]),Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,SW),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{"model-value":n.username,name:"username",label:e.$t("general.username"),"label-icon":"person",disabled:""},null,8,["model-value","label"])]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.password,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.password=e}),name:"password",label:e.$t("general.password"),"label-icon":"key",type:"password",rules:r.rules.password,autofocus:""},null,8,["modelValue","label","rules"])]})),_:1}),Object(o["createElementVNode"])("div",AW,[Object(o["createVNode"])(s,{class:"orangehrm-admin-access-button","display-type":"ghost",size:"large",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(s,{class:"orangehrm-admin-access-button","display-type":"secondary",size:"large",label:e.$t("general.confirm"),type:"submit"},null,8,["label"])])]})),_:1},8,["action","onSubmitValid"])]),$W,Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var BW={name:"AdministratorAccess",components:{"oxd-alert":ct["a"]},props:{username:{type:String,required:!0},error:{type:Object,default:function(){return null}},token:{type:String,required:!0},backUrl:{type:String,default:null}},data:function(){return{password:"",rules:{password:[On]},noteClasses:{"orangehrm-admin-access-note":!0,"--padding":null===this.error},noteContainerClass:{"orangehrm-admin-access-note-container":null===this.error}}},computed:{submitUrl:function(){return K("/auth/adminVerify")}},methods:{onSubmit:function(){this.$refs.verifyForm.$el.submit()},onCancel:function(){Z(this.backUrl)}}};n("d777");const TW=C()(BW,[["render",FW],["__scopeId","data-v-8fe511d8"]]);var IW=TW,LW={class:"orangehrm-forgot-password-container"},UW={class:"orangehrm-forgot-password-wrapper"},PW={class:"orangehrm-card-container"},qW=["value"],RW={class:"orangehrm-forgot-password-button-container"};function MW(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("card-note"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",LW,[Object(o["createElementVNode"])("div",UW,[Object(o["createElementVNode"])("div",PW,[Object(o["createVNode"])(b,{ref:"resetForm",method:"post",action:l.submitUrl,onSubmitValid:l.onSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(u,{"note-text":e.$t("auth.username_identify_reset_note"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,qW),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),name:"username",label:e.$t("auth.username"),"label-icon":"person",rules:r.rules.username,placeholder:e.$t("auth.username")},null,8,["modelValue","label","rules","placeholder"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",RW,[Object(o["createVNode"])(m,{class:"orangehrm-forgot-password-button orangehrm-forgot-password-button--cancel","display-type":"ghost",size:"large",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(m,{class:"orangehrm-forgot-password-button orangehrm-forgot-password-button--reset","display-type":"secondary",size:"large",label:e.$t("auth.reset_password"),type:"submit"},null,8,["label"])])]})),_:1},8,["action","onSubmitValid"])])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}function zW(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-icon");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{class:Object(o["normalizeClass"])({"orangehrm-card-note":!0,"orangehrm-card-note--background":n.hasNote,"orangehrm-card-note--icon":n.hasNoteIcon})},{default:Object(o["withCtx"])((function(){return[n.hasNote?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,class:"orangehrm-sub-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.note"))+": ",1)]})),_:1})):Object(o["createCommentVNode"])("",!0),n.hasNoteIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,tag:"span",class:"orangehrm-card-note-icon"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{name:"exclamation-triangle",class:"orangehrm-card-icon"})]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c,{class:Object(o["normalizeClass"])({"orangehrm-card-note-text":n.hasNoteIcon})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.noteText),1)]})),_:1},8,["class"])]})),_:1},8,["class"])}var GW={name:"CardNote",components:{"oxd-icon":ro["a"]},props:{noteText:{type:String,required:!0},hasNote:{type:Boolean,default:!1},hasNoteIcon:{type:Boolean,required:!1}}};n("c7f7");const QW=C()(GW,[["render",zW],["__scopeId","data-v-0869a3f6"]]);var WW=QW,HW={name:"RequestResetPassword",components:{"card-note":WW},props:{token:{type:String,required:!0}},data:function(){return{username:"",rules:{username:[On]}}},computed:{submitUrl:function(){return K("/auth/requestResetPassword")}},methods:{onCancel:function(){Z("/auth/login")},onSubmit:function(){this.$refs.resetForm.$el.submit()}}};n("5e6d");const JW=C()(HW,[["render",MW],["__scopeId","data-v-6c72eeff"]]);var YW=JW,XW={class:"orangehrm-forgot-password-container"},KW={class:"orangehrm-forgot-password-wrapper"},ZW={class:"orangehrm-card-container"};function eH(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("card-note");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",XW,[Object(o["createElementVNode"])("div",KW,[Object(o["createElementVNode"])("div",ZW,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password_link_sent_successfully")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(u,{"note-text":e.$t("auth.reset_password_link_via_email"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(o["createVNode"])(u,{"note-text":e.$t("auth.follow_link_to_select_password"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(o["createVNode"])(u,{"note-text":e.$t("auth.email_not_receive_note"),class:"orangehrm-forgot-password-card-note","has-note":""},null,8,["note-text"])])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var tH={name:"ResetPasswordSuccess",components:{"card-note":WW}};n("6f06");const nH=C()(tH,[["render",eH],["__scopeId","data-v-3198c915"]]);var oH=nH,aH={class:"orangehrm-forgot-password-container"},rH={class:"orangehrm-forgot-password-wrapper"},lH={class:"orangehrm-card-container"};function cH(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("card-note");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",aH,[Object(o["createElementVNode"])("div",rH,[Object(o["createElementVNode"])("div",lH,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(u,{"note-text":e.$t("auth.reset_password_token_expired_note"),class:"orangehrm-forgot-password-card-note","has-note-icon":""},null,8,["note-text"]),Object(o["createVNode"])(c,{class:"orangehrm-forgot-password-reset"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"span",class:"orangehrm-forgot-password-reset--link",onClick:l.navigateUrl},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.click_here")),1)]})),_:1},8,["onClick"]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("auth.request_new_password_token")),1)]})),_:1})])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var iH={name:"ResetPasswordError",components:{"card-note":WW},methods:{navigateUrl:function(){Z("/auth/requestPasswordResetCode")}}};n("9906");const uH=C()(iH,[["render",cH],["__scopeId","data-v-0928170e"]]);var dH=uH,sH={class:"orangehrm-forgot-password-container"},mH={class:"orangehrm-forgot-password-wrapper"},bH={class:"orangehrm-card-container"},pH=["value"],fH={class:"orangehrm-forgot-password-buttons"};function hH(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("card-note"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("oxd-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",sH,[Object(o["createElementVNode"])("div",mH,[Object(o["createElementVNode"])("div",bH,[Object(o["createVNode"])(b,{ref:"resetForm",method:"post",action:l.submitUrl,onSubmitValid:l.onSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"h6"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(u,{"note-text":e.$t("auth.set_new_password"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),Object(o["createElementVNode"])("input",{name:"_token",value:n.token,type:"hidden"},null,8,pH),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{value:n.username,name:"username",label:e.$t("auth.username"),"label-icon":"person",readonly:""},null,8,["value","label"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.newPassword,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.user.newPassword=e}),name:"password",label:e.$t("auth.new_password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:r.rules.newPassword,autocomplete:"off"},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.user.confirmPassword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.user.confirmPassword=e}),name:"confirmPassword",label:e.$t("general.confirm_password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:r.rules.confirmPassword,autocomplete:"off"},null,8,["modelValue","label","placeholder","rules"])]})),_:1}),Object(o["createVNode"])(i),Object(o["createElementVNode"])("div",fH,[Object(o["createVNode"])(m,{class:"orangehrm-forgot-password-button","display-type":"secondary",size:"large",label:e.$t("auth.reset_password"),type:"submit"},null,8,["label"])])]})),_:1},8,["action","onSubmitValid"])])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var jH={name:"ResetPassword",components:{"card-note":WW},props:{username:{type:String,required:!0},token:{type:String,required:!0}},data:function(){var e=this;return{user:{username:"",newPassword:"",confirmPassword:""},rules:{newPassword:[On,vn(64),ba],confirmPassword:[On,vn(64),function(t){return!!t&&t===e.user.newPassword||"Passwords do not match"}]}}},computed:{submitUrl:function(){return K("/auth/resetPassword")}},methods:{onSubmit:function(){this.$refs.resetForm.$el.submit()}}};n("95fe");const OH=C()(jH,[["render",hH],["__scopeId","data-v-59ff5668"]]);var vH=OH,gH={class:"orangehrm-forgot-password-container"},CH={class:"orangehrm-forgot-password-wrapper"},yH={class:"orangehrm-card-container"};function VH(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-divider"),u=Object(o["resolveComponent"])("card-note");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gH,[Object(o["createElementVNode"])("div",CH,[Object(o["createElementVNode"])("div",yH,[Object(o["createVNode"])(c,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("auth.reset_password")),1)]})),_:1}),Object(o["createVNode"])(i),Object(o["createVNode"])(u,{"note-text":e.$t("auth.configured_receive_email_notification_note"),class:"orangehrm-forgot-password-card-note","has-note-icon":""},null,8,["note-text"]),Object(o["createVNode"])(c,{class:"orangehrm-forgot-password-reset"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{tag:"span",class:"orangehrm-forgot-password-reset--link",onClick:l.navigateUrl},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("general.click_here")),1)]})),_:1},8,["onClick"]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("auth.back_to_login")),1)]})),_:1})])]),Object(o["renderSlot"])(e.$slots,"footer",{},void 0,!0)])}var wH={name:"EmailConfigurationWarning",components:{"card-note":WW},methods:{navigateUrl:function(){Z("/auth/login")}}};n("88f6");const xH=C()(wH,[["render",VH],["__scopeId","data-v-64d8674c"]]);var DH=xH,NH={"auth-login":yW,"auth-forbidden":DW,"auth-admin-access":IW,"request-reset-password":YW,"reset-password-success":oH,"reset-password-error":dH,"reset-password":vH,"email-configuration-warning":DH};function _H(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("employee-attendance-widget"),i=Object(o["resolveComponent"])("oxd-grid-item"),u=Object(o["resolveComponent"])("my-action-summary-widget"),d=Object(o["resolveComponent"])("quick-launch-widget"),s=Object(o["resolveComponent"])("employees-on-leave-widget"),m=Object(o["resolveComponent"])("employee-subunit-widget"),b=Object(o["resolveComponent"])("employee-location-widget"),p=Object(o["resolveComponent"])("oxd-grid");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{class:"orangehrm-dashboard-grid",cols:3},{default:Object(o["withCtx"])((function(){return[e.$can.read("dashboard_time_widget")?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"orangehrm-dashboard-widget"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c)]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i,{class:"orangehrm-dashboard-widget"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u)]})),_:1}),Object(o["createVNode"])(i,{class:"orangehrm-dashboard-widget"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d)]})),_:1}),e.$can.read("dashboard_leave_widget")?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1,class:"orangehrm-dashboard-widget"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s)]})),_:1})):Object(o["createCommentVNode"])("",!0),e.$can.read("dashboard_subunit_widget")?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:2,class:"orangehrm-dashboard-widget"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m)]})),_:1})):Object(o["createCommentVNode"])("",!0),e.$can.read("dashboard_location_widget")?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:3,class:"orangehrm-dashboard-widget"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b)]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})}var kH=["title"];function EH(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon-button"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-grid-item"),d=Object(o["resolveComponent"])("oxd-grid"),s=Object(o["resolveComponent"])("base-widget");return Object(o["openBlock"])(),Object(o["createBlock"])(s,{icon:"lightning-charge-fill",empty:l.isEmpty,loading:r.isLoading,title:e.$t("dashboard.quick_launch")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{cols:3,class:"orangehrm-quick-launch"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.sortedActions,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:e,class:"orangehrm-quick-launch-card"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{"icon-type":"svg",class:"orangehrm-quick-launch-icon",name:e.icon,title:e.label,onClick:function(t){return l.onClickAction(e.path)}},null,8,["name","title","onClick"]),Object(o["createElementVNode"])("div",{class:"orangehrm-quick-launch-heading",title:e.label},[Object(o["createVNode"])(i,{tag:"p",class:"--text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:2},1024)],8,kH)]})),_:2},1024)})),128))]})),_:1})]})),_:1},8,["empty","loading","title"])}n("4e82");var SH={class:"orangehrm-dashboard-widget-header"},AH={class:"orangehrm-dashboard-widget-name"},$H={key:1,class:"orangehrm-dashboard-widget-body"},FH={key:0,class:"orangehrm-dashboard-widget-body-nocontent"},BH=["src"];function TH(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-loading-spinner"),s=Object(o["resolveComponent"])("oxd-sheet");return Object(o["openBlock"])(),Object(o["createBlock"])(s,{gutters:!1,class:"orangehrm-dashboard-widget"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",SH,[Object(o["createElementVNode"])("div",AH,[Object(o["createVNode"])(c,{name:n.icon,type:n.iconType,class:"orangehrm-dashboard-widget-icon"},null,8,["name","type"]),Object(o["createVNode"])(i,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.title),1)]})),_:1})]),Object(o["renderSlot"])(e.$slots,"action",{},void 0,!0)]),Object(o["createVNode"])(u),n.loading?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,class:"orangehrm-dashboard-widget-loader"})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$H,[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0),n.empty?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",FH,[Object(o["createElementVNode"])("img",{src:a.defaultPic,alt:"No Content",class:"orangehrm-dashboard-widget-img"},null,8,BH),Object(o["createVNode"])(i,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.emptyText||e.$t("dashboard.not_available")),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0)]))]})),_:3})}var IH={name:"BaseWidget",components:{"oxd-sheet":Ua["a"],"oxd-icon":ro["a"],"oxd-loading-spinner":ne["a"]},props:{icon:{type:String,required:!0},title:{type:String,required:!0},loading:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},emptyText:{type:String,default:null},iconType:{type:String,default:void 0}},setup:function(){var e="".concat(window.appGlobal.baseUrl,"/../images/dashboard_empty_widget_watermark.png");return{defaultPic:e}}};n("491c");const LH=C()(IH,[["render",TH],["__scopeId","data-v-59740de6"]]);var UH=LH,PH={name:"QuickLaunchWidget",components:{"base-widget":UH},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/dashboard/shortcuts");return{http:e}},data:function(){return{isLoading:!1,quickLaunchActions:[]}},computed:{isEmpty:function(){return 0===this.quickLaunchActions.length},sortedActions:function(){return Object(iO["a"])(this.quickLaunchActions).sort((function(e,t){return e.order-t.order}))}},beforeMount:function(){var e=this;this.isLoading=!0;var t={"leave.assign_leave":{order:1,icon:"leaveassign",label:this.$t("leave.assign_leave"),path:"/leave/assignLeave"},"leave.leave_list":{order:2,icon:"leavelist",label:this.$t("leave.leave_list"),path:"/leave/viewLeaveList"},"time.employee_timesheet":{order:3,icon:"timesheets",label:this.$t("general.timesheets"),path:"/time/viewEmployeeTimesheet"},"leave.apply_leave":{order:4,icon:"leaveapply",label:this.$t("leave.apply_leave"),path:"/leave/applyLeave"},"leave.my_leave":{order:5,icon:"myleaves",label:this.$t("general.my_leave"),path:"/leave/viewMyLeaveList"},"time.my_timesheet":{order:6,icon:"mytimesheet",label:this.$t("time.my_timesheet"),path:"/time/viewMyTimesheet"}};this.http.getAll().then((function(n){var o=n.data.data;for(var a in o)o[a]&&e.quickLaunchActions.push(t[a])})).finally((function(){e.isLoading=!1}))},methods:{onClickAction:function(e){e&&Z(e)}}};n("5bfc");const qH=C()(PH,[["render",EH],["__scopeId","data-v-1a81b0c7"]]);var RH=qH;function MH(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-pie-chart"),i=Object(o["resolveComponent"])("base-widget");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{icon:"pie-chart-fill",loading:r.isLoading,title:e.$t("dashboard.employee_distribution_by_sub_unit")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{data:r.dataset,"aspect-ratio":!1,"custom-legend":!0,"custom-tooltip":!0,"wrapper-classes":"emp-distrib-chart"},null,8,["data"])]})),_:1},8,["loading","title"])}var zH=n("61d9"),GH=n("221d"),QH={name:"EmployeeSubunitWidget",components:{"base-widget":UH,"oxd-pie-chart":GH["a"]},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/dashboard/employees/subunit");return{http:e}},data:function(){return{dataset:[],isLoading:!1}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data,o=n.data,a=n.meta,r=[zH["a"].COLOR_HEAT_WAVE,zH["a"].COLOR_CHROME_YELLOW,zH["a"].COLOR_YELLOW_GREEN,zH["a"].COLOR_MOUNTAIN_MEADOW,zH["a"].COLOR_PACIFIC_BLUE,zH["a"].COLOR_BLEU_DE_FRANCE,zH["a"].COLOR_MAJORELLE_BLUE,zH["a"].COLOR_MEDIUM_ORCHID,zH["a"].COLOR_FANDANGO_PINK];e.dataset=o.map((function(e,t){return!!e.count&&{value:e.count,color:r[t],label:e.subunit.name}})).filter((function(e){return e})),null!==a&&void 0!==a&&a.otherEmployeeCount&&e.dataset.push({value:a.otherEmployeeCount,color:zH["a"].COLOR_FANDANGO_PINK,label:e.$t("pim.other")}),null!==a&&void 0!==a&&a.unassignedEmployeeCount&&e.dataset.push({value:a.unassignedEmployeeCount,color:zH["a"].COLOR_TART_ORANGE,label:e.$t("dashboard.unassigned")})})).finally((function(){e.isLoading=!1}))}};n("aedb");const WH=C()(QH,[["render",MH],["__scopeId","data-v-1aa2c630"]]);var HH=WH;function JH(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-pie-chart"),i=Object(o["resolveComponent"])("base-widget");return Object(o["openBlock"])(),Object(o["createBlock"])(i,{icon:"pie-chart-fill",loading:r.isLoading,title:e.$t("dashboard.employee_distribution_by_location")},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{data:r.dataset,"aspect-ratio":!1,"custom-legend":!0,"custom-tooltip":!0,"wrapper-classes":"emp-distrib-chart"},null,8,["data"])]})),_:1},8,["loading","title"])}var YH={name:"EmployeeLocationWidget",components:{"base-widget":UH,"oxd-pie-chart":GH["a"]},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/dashboard/employees/locations");return{http:e}},data:function(){return{dataset:[],isLoading:!1}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data,o=n.data,a=n.meta,r=[zH["a"].COLOR_HEAT_WAVE,zH["a"].COLOR_CHROME_YELLOW,zH["a"].COLOR_YELLOW_GREEN,zH["a"].COLOR_MOUNTAIN_MEADOW,zH["a"].COLOR_PACIFIC_BLUE,zH["a"].COLOR_BLEU_DE_FRANCE,zH["a"].COLOR_MAJORELLE_BLUE,zH["a"].COLOR_MEDIUM_ORCHID,zH["a"].COLOR_FANDANGO_PINK];e.dataset=o.map((function(e,t){return!!e.count&&{value:e.count,color:r[t],label:e.location.name}})).filter((function(e){return e})),null!==a&&void 0!==a&&a.otherEmployeeCount&&e.dataset.push({value:a.otherEmployeeCount,color:zH["a"].COLOR_FANDANGO_PINK,label:e.$t("pim.other")}),null!==a&&void 0!==a&&a.unassignedEmployeeCount&&e.dataset.push({value:a.unassignedEmployeeCount,color:zH["a"].COLOR_TART_ORANGE,label:e.$t("dashboard.unassigned")})})).finally((function(){e.isLoading=!1}))}};n("1b9c");const XH=C()(YH,[["render",JH],["__scopeId","data-v-f094c426"]]);var KH=XH,ZH={class:"orangehrm-leave-card-profile-image"},eJ=["src"],tJ={class:"orangehrm-leave-card-details"};function nJ(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("base-widget"),d=Object(o["resolveComponent"])("employees-on-leave-config-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,{icon:"leaveAlt","icon-type":"svg",class:"emp-leave-chart",empty:l.isEmpty,"empty-text":l.emptyText,loading:r.isLoading,title:e.$t("dashboard.employees_on_leave_today")},Object(o["createSlots"])({default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.leaveList,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e,class:"orangehrm-leave-card"},[Object(o["createElementVNode"])("div",ZH,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:"../pim/viewPhoto/empNumber/".concat(e.empNumber)},null,8,eJ)]),Object(o["createElementVNode"])("div",tJ,[Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-leave-card-emp-name"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.empName),1)]})),_:2},1024),e.leaveType?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,tag:"p",class:"orangehrm-leave-card-leave-details"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.leaveType),1)]})),_:2},1024)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(i,{tag:"p",class:"orangehrm-leave-card-emp-id"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.employeeId),1)]})),_:2},1024)])})),128))]})),_:2},[e.$can.update("dashboard_employees_on_leave_today_config")?{name:"action",fn:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{class:"orangehrm-leave-card-icon",name:"gear-fill",onClick:l.onClickConfig},null,8,["onClick"])]}))}:void 0]),1032,["empty","empty-text","loading","title"]),r.showConfigModal?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,onClose:l.onConfigModalClose},null,8,["onClose"])):Object(o["createCommentVNode"])("",!0)],64)}var oJ={class:"orangehrm-modal-header"},aJ={class:"orangehrm-config-title"};function rJ(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-input-field"),s=Object(o["resolveComponent"])("oxd-form-row"),m=Object(o["resolveComponent"])("oxd-button"),b=Object(o["resolveComponent"])("submit-button"),p=Object(o["resolveComponent"])("oxd-form-actions"),f=Object(o["resolveComponent"])("oxd-form"),h=Object(o["resolveComponent"])("oxd-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{class:"orangehrm-dialog-modal","onUpdate:show":l.onCancel},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",oJ,[Object(o["createVNode"])(c,{type:"svg",name:"leaveAlt"}),Object(o["createElementVNode"])("div",aJ,[Object(o["createVNode"])(i,{type:"card-body"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("dashboard.employees_on_leave_today")),1)]})),_:1}),Object(o["createVNode"])(i,{type:"card-title"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("dashboard.configurations")),1)]})),_:1})])]),Object(o["createVNode"])(u),Object(o["createVNode"])(f,{loading:r.isLoading,onSubmitValid:l.onSave},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{class:"orangehrm-config-checkbox"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:r.showAccessibleEmployeesOnly,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.showAccessibleEmployeesOnly=e}),type:"switch",label:e.$t("dashboard.only_show_accessible_employees_on_leave_for_other_users")},null,8,["modelValue","label"])]})),_:1}),Object(o["createVNode"])(u),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onCancel},null,8,["label","onClick"]),Object(o["createVNode"])(b)]})),_:1})]})),_:1},8,["loading","onSubmitValid"])]})),_:1},8,["onUpdate:show"])}var lJ={name:"EmployeesOnLeaveConfigModal",components:{"oxd-icon":ro["a"],"oxd-dialog":oe["a"]},emits:["close"],setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/dashboard/config/employee-on-leave-today");return{http:e}},data:function(){return{isLoading:!1,showAccessibleEmployeesOnly:!1}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll().then((function(t){var n=t.data.data;e.showAccessibleEmployeesOnly=n.showOnlyAccessibleEmployeesOnLeaveToday})).finally((function(){return e.isLoading=!1}))},methods:{onSave:function(){var e=this;this.isLoading=!0,this.http.request({method:"PUT",data:{showOnlyAccessibleEmployeesOnLeaveToday:this.showAccessibleEmployeesOnly}}).then((function(){e.$toast.updateSuccess(),e.onCancel()}))},onCancel:function(){this.$emit("close",!0)}}};n("e61f");const cJ=C()(lJ,[["render",rJ],["__scopeId","data-v-40964c42"]]);var iJ=cJ,uJ={name:"EmployeesOnLeaveWidget",components:{"oxd-icon":ro["a"],"base-widget":UH,"employees-on-leave-config-modal":iJ},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/dashboard/employees/leaves"),t=ea(),n=t.$tEmpName;return{http:e,tEmpName:n}},data:function(){return{leaveList:[],isLoading:!1,leavePeriod:null,showConfigModal:!1}},computed:{isEmpty:function(){return 0===this.leaveList.length},emptyText:function(){return this.leavePeriod?this.$t("dashboard.no_employees_are_on_leave_today"):this.$t("dashboard.leave_period_not_defined")}},beforeMount:function(){var e=this;this.isLoading=!0,this.http.getAll({date:ke(Ne(),"yyyy-MM-dd")}).then((function(t){var n=t.data,o=n.data,a=n.meta;e.leaveList=o.map((function(t){var n=t.employee,o=t.leaveType,a=t.duration,r=null===o||void 0===o?void 0:o.name;return r&&"half_day_morning"===a&&(r+=" (".concat(e.$t("leave.half_day_morning"),")")),r&&"half_day_afternoon"===a&&(r+=" (".concat(e.$t("leave.half_day_evening"),")")),r&&"specify_time"===a&&(r+=" (".concat(t.startTime," - ").concat(t.endTime,")")),{leaveType:r,empNumber:n.empNumber,employeeId:n.employeeId,empName:e.tEmpName(n,{includeMiddle:!1,excludePastEmpTag:!1})}})),e.leavePeriod=null===a||void 0===a?void 0:a.leavePeriodDefined})).finally((function(){e.isLoading=!1}))},methods:{onClickConfig:function(){this.showConfigModal=!0},onConfigModalClose:function(){this.showConfigModal=!1}}};n("19de");const dJ=C()(uJ,[["render",nJ],["__scopeId","data-v-1498ebc3"]]);var sJ=dJ,mJ={class:"orangehrm-attendance-card"},bJ={class:"orangehrm-attendance-card-profile"},pJ={class:"orangehrm-attendance-card-profile-image"},fJ=["src"],hJ={class:"orangehrm-attendance-card-profile-record"},jJ={class:"orangehrm-attendance-card-bar"},OJ=Object(o["createTextVNode"])(),vJ={class:"orangehrm-attendance-card-summary"},gJ={class:"orangehrm-attendance-card-summary-week"},CJ={class:"orangehrm-attendance-card-summary-total"};function yJ(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-text"),i=Object(o["resolveComponent"])("oxd-icon-button"),u=Object(o["resolveComponent"])("oxd-divider"),d=Object(o["resolveComponent"])("oxd-icon"),s=Object(o["resolveComponent"])("oxd-bar-chart"),m=Object(o["resolveComponent"])("base-widget");return Object(o["openBlock"])(),Object(o["createBlock"])(m,{icon:"clock-fill",loading:r.isLoading,title:e.$t("dashboard.time_at_work")},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",mJ,[Object(o["createElementVNode"])("div",bJ,[Object(o["createElementVNode"])("div",pJ,[Object(o["createElementVNode"])("img",{alt:"profile picture",class:"employee-image",src:"../pim/viewPhoto/empNumber/".concat(r.empNumber)},null,8,fJ)]),Object(o["createElementVNode"])("div",hJ,[Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-attendance-card-state"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.lastState),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-attendance-card-details"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.lastRecord),1)]})),_:1})])]),Object(o["createElementVNode"])("div",jJ,[Object(o["createVNode"])(c,{tag:"span",class:"orangehrm-attendance-card-fulltime"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(r.dayTotal.hours)+"h",1),OJ,Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(r.dayTotal.minutes)+"m",1),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("dashboard.today")),1)]})),_:1}),Object(o["createVNode"])(i,{name:"stopwatch","display-type":"solid-main",class:"orangehrm-attendance-card-action",onClick:l.onClickPunchIn},null,8,["onClick"])]),Object(o["createVNode"])(u),Object(o["createElementVNode"])("div",vJ,[Object(o["createElementVNode"])("div",gJ,[Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("dashboard.this_week")),1)]})),_:1}),Object(o["createVNode"])(c,{tag:"p"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.currentWeek),1)]})),_:1})]),Object(o["createElementVNode"])("div",CJ,[Object(o["createVNode"])(d,{name:"stopwatch",class:"orangehrm-attendance-card-icon"}),Object(o["createVNode"])(c,{tag:"p",class:"orangehrm-attendance-card-fulltime"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.weekTotal.hours)+"h "+Object(o["toDisplayString"])(r.weekTotal.minutes)+"m ",1)]})),_:1})])])]),Object(o["createVNode"])(s,{grid:!1,data:r.dataset,"y-axsis":!1,"aspect-ratio":!1,"wrapper-classes":"emp-attendance-chart"},null,8,["data"])]})),_:1},8,["loading","title"])}var VJ=n("500db"),wJ={name:"EmployeeAttendanceWidget",components:{"oxd-icon":ro["a"],"base-widget":UH,"oxd-bar-chart":VJ["a"]},setup:function(){var e=Xe(),t=e.locale,n=new te(window.appGlobal.baseUrl,"api/v2/dashboard/employees/time-at-work");return{http:n,locale:t}},data:function(){return{dataset:[],state:null,endDate:null,userDate:null,userTime:null,startDate:null,isLoading:!1,empNumber:null,timezoneOffset:null,dayTotal:{hours:0,minutes:0},weekTotal:{hours:0,minutes:0}}},computed:{lastState:function(){switch(this.state){case"PUNCHED IN":return this.$t("attendance.punched_in");case"PUNCHED OUT":return this.$t("attendance.punched_out");default:return this.$t("attendance.not_punched_in")}},lastRecord:function(){if(!this.userDate||!this.userTime)return null;var e=_e("".concat(this.userDate," ").concat(this.userTime),"yyyy-MM-dd HH:mm"),t=ke(e,"hh:mm a",{locale:this.locale});if(!Object(xe["a"])(e)){var n=ke(e,"MMM do",{locale:this.locale});return this.$t("dashboard.state_date_at_time_timezone_offset",{lastState:this.lastState,date:n,time:t,timezoneOffset:this.timezoneOffset})}return this.$t("dashboard.state_today_at_time_timezone_offset",{lastState:this.lastState,time:t,timezoneOffset:this.timezoneOffset})},currentWeek:function(){if(!this.startDate||!this.endDate)return null;var e=ke(_e(this.startDate),"MMM dd",{locale:this.locale}),t=ke(_e(this.endDate),"MMM dd",{locale:this.locale});return"".concat(e," - ").concat(t)}},beforeMount:function(){this.fetchWidgetData()},methods:{onClickPunchIn:function(){Z("/attendance/punchIn")},fetchWidgetData:function(){var e=this;this.isLoading=!0;var t=Ne(),n=t.getTimezoneOffset()/60*-1;this.http.getAll({timezoneOffset:n,currentDate:ke(t,"yyyy-MM-dd"),currentTime:ke(new Date,"HH:mm")}).then((function(t){var n=t.data,o=n.data,a=n.meta;e.dataset=o.map((function(t){return{value:t.totalTime.hours+t.totalTime.minutes/60,label:e.$t("general.".concat(new String(t.workDay.day).toLowerCase())),color:zH["b"]}}));var r,l,c=a.lastAction,i=a.currentDay,u=a.currentWeek,d=a.currentUser;(c&&(e.state=c.state,e.userDate=c.userDate,e.userTime=c.userTime,e.timezoneOffset=c.timezoneOffset),u)&&(e.weekTotal=u.totalTime,e.endDate=null===(r=u.endDate)||void 0===r?void 0:r.date,e.startDate=null===(l=u.startDate)||void 0===l?void 0:l.date);i&&(e.dayTotal=i.totalTime),d&&(e.empNumber=d.empNumber)})).finally((function(){e.isLoading=!1}))}}};n("9d86");const xJ=C()(wJ,[["render",yJ],["__scopeId","data-v-434444ee"]]);var DJ=xJ,NJ={key:0,class:"orangehrm-todo-list"},_J={key:0,class:"orangehrm-todo-list-item"},kJ={key:1,class:"orangehrm-todo-list-item"},EJ={key:2,class:"orangehrm-todo-list-item"},SJ={key:3,class:"orangehrm-todo-list-item"},AJ={key:4,class:"orangehrm-todo-list-item"};function $J(e,t,n,a,r,l){var c=Object(o["resolveComponent"])("oxd-icon-button"),i=Object(o["resolveComponent"])("oxd-text"),u=Object(o["resolveComponent"])("base-widget");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{icon:"list-check",empty:l.isEmpty,"empty-text":l.emptyText,loading:e.isLoading,title:e.$t("dashboard.my_actions")},{default:Object(o["withCtx"])((function(){return[r.myActions.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",NJ,[r.leaveRequestCount>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_J,[Object(o["createVNode"])(c,{class:"orangehrm-report-icon",name:"attendanceAlt","icon-type":"svg","display-type":"success",onClick:l.onClickPendingLeave},null,8,["onClick"]),Object(o["createVNode"])(i,{tag:"p",onClick:l.onClickPendingLeave},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("dashboard.n_pending_leave_request",{pendingActionsCount:r.leaveRequestCount})),1)]})),_:1},8,["onClick"])])):Object(o["createCommentVNode"])("",!0),r.timeSheetCount>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",kJ,[Object(o["createVNode"])(c,{class:"orangehrm-report-icon",name:"timeAlt","icon-type":"svg","display-type":"warn",onClick:l.onClickPendingTimesheet},null,8,["onClick"]),Object(o["createVNode"])(i,{tag:"p",onClick:l.onClickPendingTimesheet},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("dashboard.n_pending_time_sheet",{pendingActionsCount:r.timeSheetCount})),1)]})),_:1},8,["onClick"])])):Object(o["createCommentVNode"])("",!0),r.reviewCount>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",EJ,[Object(o["createVNode"])(c,{class:"orangehrm-report-icon",name:"appraisals","icon-type":"svg","display-type":"danger",onClick:l.onClickPendingReview},null,8,["onClick"]),Object(o["createVNode"])(i,{tag:"p",onClick:l.onClickPendingReview},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("dashboard.n_pending_performance_evaluate",{pendingActionsCount:r.reviewCount})),1)]})),_:1},8,["onClick"])])):Object(o["createCommentVNode"])("",!0),r.selfReviewCount>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",SJ,[Object(o["createVNode"])(c,{class:"orangehrm-report-icon",name:"appraisals","icon-type":"svg","display-type":"danger",onClick:l.onClickPendingReview},null,8,["onClick"]),Object(o["createVNode"])(i,{tag:"p",onClick:l.onClickSelfReview},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("dashboard.n_pending_self_review",{pendingActionsCount:r.selfReviewCount})),1)]})),_:1},8,["onClick"])])):Object(o["createCommentVNode"])("",!0),r.interviewCount>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",AJ,[Object(o["createVNode"])(c,{class:"orangehrm-report-icon",name:"interview","icon-type":"svg","display-type":"info",onClick:l.onClickPendingInterview},null,8,["onClick"]),Object(o["createVNode"])(i,{tag:"p",onClick:l.onClickPendingInterview},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("dashboard.n_pending_candidate_interview",{pendingActionsCount:r.interviewCount})),1)]})),_:1},8,["onClick"])])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["empty","empty-text","loading","title"])}var FJ={name:"MyActionSummaryWidget",components:{"base-widget":UH},setup:function(){var e=new te(window.appGlobal.baseUrl,"api/v2/dashboard/employees/action-summary");return{http:e}},data:function(){return{myActions:[],leaveRequestCount:0,timeSheetCount:0,reviewCount:0,selfReviewCount:0,interviewCount:0}},computed:{isEmpty:function(){return 0===this.myActions.length},emptyText:function(){return this.$t("dashboard.no_pending_actions")}},beforeMount:function(){var e=this;this.isLoading=!1,this.http.getAll().then((function(t){var n=t.data.data;e.myActions=n.map((function(t){var n=t.group,o=t.pendingActionCount;"Leave Requests To Approve"===n&&(e.leaveRequestCount=o),"Timesheets To Approve"===n&&(e.timeSheetCount=o),"Pending Appraisal Reviews"===n&&(e.reviewCount=o),"Pending Self Reviews"===n&&(e.selfReviewCount=o),"Candidates To Interview"===n&&(e.interviewCount=o)}))})).finally((function(){e.isLoading=!1}))},methods:{onClickPendingLeave:function(){Z("/leave/viewLeaveList")},onClickPendingTimesheet:function(){Z("/time/viewEmployeeTimesheet")},onClickPendingReview:function(){Z("/performance/searchEvaluatePerformanceReview")},onClickPendingInterview:function(){Z("/recruitment/viewCandidates",void 0,{statusId:4})},onClickSelfReview:function(){Z("/performance/myPerformanceReview")}}};n("99f2");const BJ=C()(FJ,[["render",$J],["__scopeId","data-v-e05a2afc"]]);var TJ=BJ,IJ={components:{"quick-launch-widget":RH,"employee-subunit-widget":HH,"employee-location-widget":KH,"employees-on-leave-widget":sJ,"employee-attendance-widget":DJ,"my-action-summary-widget":TJ}};n("0324");const LJ=C()(IJ,[["render",_H],["__scopeId","data-v-980a0e14"]]);var UJ=LJ,PJ={"view-dashboard":UJ},qJ=Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])(Object(M["a"])({},$m),dV),Tt),yV),kN),v$),TA),HF),cT),QP),KG),UQ),NH),$m),PJ),RJ=function(e){return function(){var t=Object(o["getCurrentInstance"])();if(!t)throw new Error("Vue app context not found!");var n=Object(o["inject"])("permissions",void 0);if(n){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return r.reduce((function(t,o){return t&&Boolean(n[o])&&n[o][e]}),!0)}return!1}};function MJ(){return{beforeCreate:function(){this.$can={read:RJ("canRead"),create:RJ("canCreate"),update:RJ("canUpdate"),delete:RJ("canDelete")}}}}var zJ={install:function(e){e.mixin(MJ())}},GJ=n("0c6d"),QJ=n("9b9c"),WJ=n("e1bd"),HJ=Ge(),JJ=Object(o["reactive"])({toasts:[],transition:"",class:"",position:""}),YJ=Object(o["defineComponent"])({name:"OxdToaster",setup:function(){return Object(M["a"])({},Object(o["toRefs"])(JJ))},computed:{classes:function(){return Object(is["a"])({"oxd-toast-container":!0},"oxd-toast-container--".concat(this.position),!0)}},methods:{onUpdateShow:function(e,t){!1===e&&this.toasts.splice(t,1)}},render:function(){var e=this;return Object(o["h"])(o["TransitionGroup"],{appear:!0,name:this.transition,tag:"div",class:this.classes},{default:function(){return e.toasts.map((function(t,n){return Object(o["h"])(GJ["a"],{key:t.id,type:t.type,title:t.title,message:t.message,show:t.show,class:e.class,"onUpdate:show":function(t){return e.onUpdateShow(t,n)}})}))}})}}),XJ={install:function(e,t){var n=document.createElement("oxd-toaster");n.id="oxd-toaster_1",document.getElementById("app").appendChild(n);var o=function e(t){if("string"===typeof t){var n=JJ.toasts.findIndex((function(e){return e.id===t}));n>-1&&e(n)}else JJ.toasts[t]&&JJ.toasts.splice(t,1)},a=function(e){return new Promise((function(n){var a=Object(WJ["a"])(8);if(JJ.toasts.push(Object(M["a"])(Object(M["a"])({},e),{},{id:a})),t.persist)n(a);else{var r=t.duration?t.duration:2500;setTimeout((function(){o(a),n(a)}),r)}}))},r=function(e){return a(Object(M["a"])({id:"",type:QJ["f"],show:!0},e))},l=function(e){return a(Object(M["a"])({id:"",type:QJ["d"],show:!0},e))},c=function(e){return a(Object(M["a"])({id:"",type:QJ["e"],show:!0},e))},i=function(e){return a(Object(M["a"])({id:"",type:QJ["g"],show:!0},e))},u=function(e){return a(Object(M["a"])({id:"",type:QJ["c"],show:!0},e))},d=function(){JJ.toasts=[]},s=function(){return r({title:HJ("general.success"),message:HJ("general.successfully_saved")})},m=function(){return r({title:HJ("general.success"),message:HJ("general.successfully_added")})},b=function(){return r({title:HJ("general.success"),message:HJ("general.successfully_updated")})},p=function(){return r({title:HJ("general.success"),message:HJ("general.successfully_deleted")})},f=function(){return l({title:HJ("general.error"),message:HJ("general.cannot_be_deleted")})},h=function(){return c({title:HJ("general.info"),message:HJ("general.no_records_found")})},j=function(e){return l({title:HJ("general.error"),message:null!==e&&void 0!==e?e:HJ("general.unexpected_error")})};JJ.class=t.class?t.class:"oxd-toast-container--toast",JJ.transition=t.animation?t.animation:"oxd-toast-list",JJ.position=t.position?t.position:"bottom",e.component("OxdToaster",YJ);var O={notify:a,show:u,success:r,error:l,info:c,warn:i,clear:o,clearAll:d,saveSuccess:s,addSuccess:m,updateSuccess:b,deleteSuccess:p,cannotDelete:f,noRecordsFound:h,unexpectedError:j};e.config.globalProperties.$toast=O}},KJ=n("1f85"),ZJ=Object(o["reactive"])({show:!1}),eY=Object(o["defineComponent"])({name:"OxdLoader",setup:function(){return Object(M["a"])({},Object(o["toRefs"])(ZJ))},render:function(){var e=this;return Object(o["h"])(o["Transition"],{name:"orangehrm-loader-fade",tag:"div"},{default:function(){if(e.show)return Object(o["h"])(KJ["a"],{show:!0,centered:!0,class:"orangehrm-loader"},Object(o["h"])(ne["a"],{withContainer:!1}))}})}}),tY={install:function(e){var t=document.createElement("oxd-loader");t.id="oxd-loader_1",document.getElementById("app").appendChild(t);var n=function(){ZJ.show=!0},o=function(){ZJ.show=!1};e.component("OxdLoader",eY);var a={startLoading:n,endLoading:o};e.config.globalProperties.$loader=a}},nY=(n("f897"),n("0b18"),Object(o["createApp"])({name:"App",components:qJ}));nY.use(rt),nY.use(XJ,{duration:2500,persist:!1,animation:"oxd-toast-list",position:"bottom"});var oY=window.appGlobal.baseUrl,aY=He({baseUrl:oY,resourceUrl:"core/i18n/messages"}),rY=aY.i18n,lY=aY.init;nY.use(tY),nY.use(zJ),nY.use(rY),nY.config.globalProperties.global={baseUrl:oY},lY().then((function(){return nY.mount("#app")}))},cd4c:function(e,t,n){},cff8:function(e,t,n){"use strict";n("4b50")},d007:function(e,t,n){"use strict";n("d431")},d0fc:function(e,t,n){},d210:function(e,t,n){},d21f:function(e,t,n){},d357:function(e,t,n){},d3d8:function(e,t,n){},d3dd:function(e,t,n){"use strict";n("0eb1")},d431:function(e,t,n){},d47d:function(e,t,n){},d575:function(e,t,n){"use strict";n("4886")},d777:function(e,t,n){"use strict";n("bcf6")},d7aa:function(e,t,n){},d876:function(e,t,n){"use strict";n("eef6")},d91d:function(e,t,n){},da9c:function(e,t,n){},db0b:function(e,t,n){},db37:function(e,t,n){"use strict";n("e1a9")},dbf8:function(e,t,n){},dd80:function(e,t,n){"use strict";n("f316")},de1d:function(e,t,n){},deb3:function(e,t,n){},df2d:function(e,t,n){"use strict";n("8187")},df74:function(e,t,n){"use strict";n("d357")},dffb:function(e,t,n){"use strict";n("250a")},e0034:function(e,t,n){"use strict";n("44e2")},e1a9:function(e,t,n){},e30c:function(e,t,n){"use strict";n("2025")},e35e:function(e,t,n){},e383:function(e,t,n){},e61f:function(e,t,n){"use strict";n("7e45")},e69d:function(e,t,n){"use strict";n("67bf")},e710:function(e,t,n){"use strict";n("da9c")},e725:function(e,t,n){"use strict";n("7a71")},e746:function(e,t,n){"use strict";n("2968")},e780:function(e,t,n){},e836:function(e,t,n){"use strict";n("c5fa")},e857:function(e,t,n){"use strict";n("ba79")},e8ed:function(e,t,n){"use strict";n("fcbb")},eaec:function(e,t,n){},eafc:function(e,t,n){"use strict";n("d0fc")},eb83:function(e,t,n){"use strict";n("151b")},ec85:function(e,t,n){},eca5:function(e,t,n){},ecef:function(e,t,n){},ed08:function(e,t,n){},ed09:function(e,t,n){"use strict";n("0dc1")},ee7c:function(e,t,n){"use strict";n("a871")},eef6:function(e,t,n){},f13a:function(e,t,n){"use strict";n("bf63")},f316:function(e,t,n){},f3cb:function(e,t,n){},f46d:function(e,t,n){"use strict";n("4861")},f482:function(e,t,n){"use strict";n("98c9")},f50b:function(e,t,n){"use strict";n("0c4c")},f571:function(e,t,n){},f6a9:function(e,t,n){"use strict";n("a489")},f897:function(e,t,n){},f94a:function(e,t,n){"use strict";n("ed08")},f9c0:function(e,t,n){"use strict";n("d47d")},f9ff:function(e,t,n){},fa79:function(e,t,n){},fbc0:function(e,t,n){},fcbb:function(e,t,n){},fcee:function(e,t,n){"use strict";n("95b6")},fd25:function(e,t,n){},fe4c:function(e,t,n){},fe8f:function(e,t,n){"use strict";n("2e44")},ff13:function(e,t,n){},ff65:function(e,t,n){}});
//# sourceMappingURL=app.js.map